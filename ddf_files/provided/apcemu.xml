<?xml version="1.0"?>
<!-- APC EMS and EMU2 DDF -->
<APC_DDF
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
	ddfid="apcemu"
	ddfname="APC EMU/EMS"
	ddfversion="13">
  <schemaVersion>1.6</schemaVersion>

  <!-- EMS/EMU2 related information -->
  <device deviceid="environmentalMonitor">
    <oidMustMatch ruleid="environmentalMonitorsysid" oid=".1.3.6.1.2.1.1.2.0">
      <valueList>
        <!-- environmentalMgtSystem -->
        <value>.1.3.6.1.4.1.318.1.3.8.2</value>
        <value>.1.3.6.1.4.1.318.1.3.8.2.*</value>
        <!-- emu2 -->
        <value>.1.3.6.1.4.1.318.1.3.8.3</value>
        <value>.1.3.6.1.4.1.318.1.3.8.3.*</value>
      </valueList>
    </oidMustMatch>

    <!-- Communication between the agent and the device-->
    <stateSensor ruleid="communicationstate">
      <type>state/communication</type>
      <sensorId>COMMUNICATION_STATUS</sensorId>
      <value>
        <mapValue mapid="communicationstatemap">
          <getOid>.1.3.6.1.4.1.318.1.1.10.3.12.2.0</getOid>
        </mapValue>
      </value>
      <label>Communication Status</label>
      <enum>communicationstate-enum</enum>
      <sensorSet>System Status</sensorSet>
    </stateSensor>

    <valueMap ruleid="communicationstatemap">
      <valueIn>1</valueIn><valueOut>1</valueOut>
      <valueIn>2</valueIn><valueOut>2</valueOut>
      <valueIn>3</valueIn><valueOut>3</valueOut>
      <valueIn>*</valueIn><valueOut>0</valueOut>
    </valueMap>

    <enumMap ruleid="communicationstate-enum">
      <label>Unknown</label>
      <label>No Communication</label>
      <label>Communication Established</label>
      <label>Communication Lost</label>
    </enumMap>

    <!-- skip probes/sensors that are not discovered -->
    <valueMap ruleid="skip-nocomm-sensor">
      <valueIn>1</valueIn><valueOut>[false]</valueOut>
      <valueIn>*</valueIn><valueOut>[true]</valueOut>
    </valueMap>

    <!-- skip sensors returning -1 -->
    <valueMap ruleid="skipnullsensor">
      <valueIn>-1</valueIn><valueOut>[false]</valueOut>
      <valueIn>*</valueIn><valueOut>[true]</valueOut>
    </valueMap>

    <!-- Probe Data -->
    <!-- Note that units are displayed in the scale shown in the emsStatusSysTempUnits OID (Celsius or Fahrenheit) -->
    <numSensor ruleid="emsprobetemperature" index=".1.3.6.1.4.1.318.1.1.10.3.13.1.1.1">
      <rowTest>
        <mapValue mapid="skip-nocomm-sensor">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.10</getRowOid>
        </mapValue>
      </rowTest>
      <type>temp</type>
      <sensorId>PROBE_TEMP<rowIndex/></sensorId>
      <value>
        <if>
          <op>
            <mapValue mapid="isItCelsius"><getOid>.1.3.6.1.4.1.318.1.1.10.3.12.11.0</getOid></mapValue>
          </op>
          <op>
            <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.3</getRowOid> <!-- celsius temp -->
          </op>
          <op>
            <div>
              <op>
                <mult>
                  <op>
                    <sub>
                     <op><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.3</getRowOid></op> <!-- fahrenheit -->
                     <op>32</op>
                    </sub>
                  </op>
                  <op>5</op>
                </mult>
              </op>
              <op>9</op>
            </div>
           </op>
         </if>
      </value>
      <label>Temperature -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid></label>
      <sensorSet>Temperature Sensors</sensorSet>
    </numSensor>
    
    <valueMap ruleid="isItCelsius">
      <valueIn>1</valueIn><valueOut>[true]</valueOut>
      <valueIn>*</valueIn><valueOut>[false]</valueOut>
    </valueMap>

    <numSensor ruleid="emsprobehumidity" index=".1.3.6.1.4.1.318.1.1.10.3.13.1.1.1">
      <rowTest>
        <mapValue mapid="skipnullsensor">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.6</getRowOid>
        </mapValue>
      </rowTest>
      <type>humidity</type>
      <sensorId>PROBE_HUMIDITY_PERCENTAGE_<rowIndex/></sensorId>
      <value>
        <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.6</getRowOid>
      </value>
      <label>Humidity -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid></label>
      <sensorSet>Humidity Sensors</sensorSet>
    </numSensor>

    <!-- Contact State: If the input contact is closed, the contactClosedEMS (1) value will be
    returned. If the input contact state is open, the contactOpenEMS (2) value will be returned.
    -->
    <stateSensor ruleid="emsInputContactState" index=".1.3.6.1.4.1.318.1.1.10.3.14.1.1.1">
      <type>state/emsinputcontact</type>
      <sensorId>EMS_INPUT_CONTACT_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="currentstatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.3</getRowOid>
        </mapValue>
      </value>
      <label>Input Contact State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.2</getRowOid></label>
      <enum>currentstate</enum>
	 <sensorSet>Input Contacts</sensorSet>
    </stateSensor>
    <!-- input contact normal state -->
    <stateSensor ruleid="emsInputContactNormalState" index=".1.3.6.1.4.1.318.1.1.10.3.14.1.1.1">
      <type>drycontact</type>
      <sensorId>EMS_INPUT_CONTACT_NORMAL_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="currentstatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.4</getRowOid>
        </mapValue>
      </value>
      <label>Input Contact Normal State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.2</getRowOid></label>
      <enum>currentstate</enum>
	 <sensorSet>Input Contacts</sensorSet>
    </stateSensor>

    <valueMap ruleid="currentstatemap">
      <valueIn>1</valueIn><valueOut>1</valueOut>
      <valueIn>2</valueIn><valueOut>0</valueOut>
      <valueIn>3</valueIn><valueOut>2</valueOut>
      <valueIn>*</valueIn><valueOut>1</valueOut>
    </valueMap>

    <enumMap ruleid="currentstate">
      <label>Open</label>
      <label>Closed</label>
      <label>Unknown</label>
    </enumMap>

    <!-- Output Relay Status -->
    <stateSensor ruleid="emsOutputRelayStatus" index=".1.3.6.1.4.1.318.1.1.10.3.15.1.1.1">
      <type>state/emsoutputrelaystate</type>
      <sensorId>EMS_OUTPUT_RELAY_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="outputrelaystatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.3</getRowOid>
        </mapValue>
      </value>
      <label>Output Relay State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.2</getRowOid></label>
      <enum>outputrelaystate</enum>
      <sensorSet>Output Relays</sensorSet>
    </stateSensor>
        <!-- Output Relay Normal Status -->
    <stateSensor ruleid="emsOutputRelayNormalStates" index=".1.3.6.1.4.1.318.1.1.10.3.15.1.1.1">
      <type>state/emsoutputrelaystate</type>
      <sensorId>EMS_OUTPUT_RELAY_NORMAL_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="outputrelaystatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.4</getRowOid>
        </mapValue>
      </value>
      <label>Output Relay Normal State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.2</getRowOid></label>
      <enum>outputrelaystate</enum>
      <sensorSet>Output Relays</sensorSet>
    </stateSensor>

    <valueMap ruleid="outputrelaystatemap">
      <valueIn>1</valueIn><valueOut>0</valueOut>
      <valueIn>2</valueIn><valueOut>1</valueOut>
      <valueIn>*</valueIn><valueOut>2</valueOut>
    </valueMap>

    <enumMap ruleid="outputrelaystate">
      <label>Relay Closed</label>
      <label>Relay Open</label>
      <label>Unknown</label>
    </enumMap>

    <!-- Outlet Status -->
    <stateSensor ruleid="emsOutletStatus" index=".1.3.6.1.4.1.318.1.1.10.3.16.1.1.1">
      <type>state/emsoutletstate</type>
      <sensorId>EMS_OUTLET_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="outletstatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.16.1.1.3</getRowOid>
        </mapValue>
      </value>
      <label>Outlet State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.16.1.1.2</getRowOid></label>
      <enum>outletstate</enum>
	 <sensorSet>Outlets</sensorSet>
    </stateSensor>
    <!-- Outlet Normal States -->
    <stateSensor ruleid="emsOutletNormalStates" index=".1.3.6.1.4.1.318.1.1.10.3.16.1.1.1">
      <type>state/emsoutletstate</type>
      <sensorId>EMS_OUTLET_NORMAL_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="outletstatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.16.1.1.4</getRowOid>
        </mapValue>
      </value>
      <label>Outlet Normal State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.16.1.1.2</getRowOid></label>
      <enum>outletstate</enum>
	 <sensorSet>Outlets</sensorSet>
    </stateSensor>

    <valueMap ruleid="outletstatemap">
      <valueIn>1</valueIn><valueOut>0</valueOut>
      <valueIn>2</valueIn><valueOut>1</valueOut>
      <valueIn>*</valueIn><valueOut>2</valueOut>
    </valueMap>

    <enumMap ruleid="outletstate">
      <label>Outlet On</label>
      <label>Outlet Off</label>
      <label>Unknown</label>
    </enumMap>
    
    <!-- Sensor State -->
    <stateSensor ruleid="emsSensorStatus" index=".1.3.6.1.4.1.318.1.1.10.3.18.1.1.1">
      <type>state/emssensorstate</type>
      <sensorId>EMS_SENSOR_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="sensorstatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.18.1.1.4</getRowOid>
        </mapValue>
      </value>
      <label>Sensor State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.18.1.1.2</getRowOid></label>
      <enum>sensorstate</enum>
      <sensorSet>Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="emsSensorNormalState" index=".1.3.6.1.4.1.318.1.1.10.3.18.1.1.1">
	   <rowTest>
		  <mapValue mapid="sensorinstalledmap">
			 <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.18.1.1.4</getRowOid>
		  </mapValue>
	   </rowTest>
      <type>state/emssensorstate</type>
      <sensorId>EMS_SENSOR_NORMAL_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="sensornormalstatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.18.1.1.5</getRowOid>
        </mapValue>
      </value>
      <label>Sensor Normal State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.18.1.1.2</getRowOid></label>
      <enum>sensornormalstate</enum>
	 <sensorSet>Sensors</sensorSet>
    </stateSensor>

    <valueMap ruleid="sensorstatemap">
      <valueIn>1</valueIn><valueOut>1</valueOut>
      <valueIn>2</valueIn><valueOut>2</valueOut>
      <valueIn>3</valueIn><valueOut>3</valueOut>
      <valueIn>*</valueIn><valueOut>0</valueOut>
    </valueMap>
    <valueMap ruleid="sensornormalstatemap">
      <valueIn>1</valueIn><valueOut>0</valueOut>
      <valueIn>2</valueIn><valueOut>1</valueOut>
      <valueIn>*</valueIn><valueOut>2</valueOut>
    </valueMap>
    <valueMap ruleid="sensorinstalledmap">
	   <valueIn>3</valueIn><valueOut>[false]</valueOut>
	   <valueIn>*</valueIn><valueOut>[true]</valueOut>
    </valueMap>

    <enumMap ruleid="sensorstate">
      <label>Unknown</label>
      <label>Sensor Faulted</label>
      <label>Sensor Okay</label>
      <label>Not Installed</label>
    </enumMap>
    <enumMap ruleid="sensornormalstate">
      <label>Closed</label>
      <label>Open</label>
      <label>Unknown</label>
    </enumMap>

    <!-- The status of Alarm Devices -->
    <stateSensor ruleid="emsAlarmDeviceStatus" index=".1.3.6.1.4.1.318.1.1.10.3.17.1.1.1">
      <type>state/emsalarmdevicestate</type>
      <sensorId>EMS_ALARM_DEVICE_STATUS_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="alarmstatemap">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.17.1.1.3</getRowOid>
        </mapValue>
      </value>
      <label>Alarm State -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.17.1.1.2</getRowOid></label>
      <enum>alarmstate</enum>
      <sensorSet>Alarm Devices</sensorSet>
    </stateSensor>

    <valueMap ruleid="alarmstatemap">
      <valueIn>1</valueIn><valueOut>1</valueOut>
      <valueIn>2</valueIn><valueOut>2</valueOut>
      <valueIn>3</valueIn><valueOut>3</valueOut>
      <valueIn>*</valueIn><valueOut>0</valueOut>
    </valueMap>

    <enumMap ruleid="alarmstate">
      <label>Unknown</label>
      <label>Alarm Device On</label>
      <label>Alarm Device Off</label>
      <label>Alarm Device Not Installed</label>
    </enumMap>

    <!-- The status of the check-log light on the device. For the EMU2, this will always
    indicate lightOff(1). lightOff (1) indicates the light is off (no new log entries).
 	  lightOn (2) indicates the light is on (new log entries present).
    -->
    <stateSensor ruleid="CheckLogLight">
      <type>state/lightstate</type>
      <sensorId>LIGHT_STATUS</sensorId>
      <value>
        <mapValue mapid="lightstatusmap">
          <getOid>.1.3.6.1.4.1.318.1.1.10.3.12.12.0</getOid>
        </mapValue>
      </value>
      <label>New Log Entries</label>
      <enum>newlogs</enum>
      <sensorSet>System Status</sensorSet>
    </stateSensor>

    <valueMap ruleid="lightstatusmap">
      <valueIn>1</valueIn><valueOut>1</valueOut>
      <valueIn>2</valueIn><valueOut>2</valueOut>
      <valueIn>*</valueIn><valueOut>0</valueOut>
    </valueMap>

    <enumMap ruleid="newlogs">
      <label>Unknown</label>
      <label>None</label>
      <label>Exist</label>
    </enumMap>

    <valueMap ruleid="discreteState-vm">
      <valueIn>1</valueIn><valueOut>1</valueOut>
      <valueIn>2</valueIn><valueOut>2</valueOut>
      <valueIn>*</valueIn><valueOut>0</valueOut>
    </valueMap>
    <enumMap ruleid="smokeState-em">
      <label>Unknown</label>
      <label>Smoke Detected</label>
      <label>No Smoke</label>
    </enumMap>
    <enumMap ruleid="vibrationState-em">
      <label>Unknown</label>
      <label>Vibration Detected</label>
      <label>No Vibration</label>
    </enumMap>
    <enumMap ruleid="fluidState-em">
      <label>Unknown</label>
      <label>Fluid Detected</label>
      <label>No Fluid</label>
    </enumMap>
    <enumMap ruleid="doorState-em">
      <label>Unknown</label>
      <label>Open</label>
      <label>Closed</label>
    </enumMap>
    <stateSensor ruleid="emsSmokeSensorState" index=".1.3.6.1.4.1.318.1.1.10.3.20.2.1.4">
      <type>state/emssensorstate</type>
      <sensorId>EMS_SMOKE_SENSOR_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="discreteState-vm">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.4</getRowOid>
        </mapValue>
      </value>
		<label>
			Smoke Sensor State -<space/>
			<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.2</getRowOid><space/>
			(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.3</getRowOid>)<space/>
		</label>
      <enum>smokeState-em</enum>
	 <sensorSet>Smoke Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="emsVibrationSensorState" index=".1.3.6.1.4.1.318.1.1.10.3.20.4.1.4">
      <type>state/emssensorstate</type>
      <sensorId>EMS_VIBRATION_SENSOR_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="discreteState-vm">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.4</getRowOid>
        </mapValue>
      </value>
		<label>
			Vibration Sensor State -<space/>
			<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.2</getRowOid><space/>
			(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.3</getRowOid>)<space/>
		</label>
      <enum>vibrationState-em</enum>
	 <sensorSet>Vibration Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="emsFluidSensorState" index=".1.3.6.1.4.1.318.1.1.10.3.20.6.1.4">
      <type>state/emssensorstate</type>
      <sensorId>EMS_FLUID_SENSOR_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="discreteState-vm">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.4</getRowOid>
        </mapValue>
      </value>
		<label>
			Fluid Sensor State -<space/>
			<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.2</getRowOid><space/>
			(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.3</getRowOid>)<space/>
		</label>
      <enum>fluidState-em</enum>
	 <sensorSet>Fluid Sensors</sensorSet>
    </stateSensor>
    <stateSensor ruleid="emsDoorSensorState" index=".1.3.6.1.4.1.318.1.1.10.3.20.8.1.4">
      <type>state/emssensorstate</type>
      <sensorId>EMS_DOOR_SENSOR_STATE_<rowIndex/></sensorId>
      <value>
        <mapValue mapid="discreteState-vm">
          <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.4</getRowOid>
        </mapValue>
      </value>
		<label>
			Door Sensor State -<space/>
			<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.2</getRowOid><space/>
			(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.3</getRowOid>)<space/>
		</label>
      <enum>doorState-em</enum>
	 <sensorSet>Door Sensors</sensorSet>
    </stateSensor>


  </device>

  <device deviceid="emu_alarms">
	<oidMustNotExist ruleid="essentialtest" oid=".1.3.6.1.4.1.318.1.4.2.9.0"/>
	<oidMustMatch ruleid="environmentalMonitorsysid" oid=".1.3.6.1.2.1.1.2.0">
      <valueList>
        <!-- environmentalMgtSystem 
        <value>.1.3.6.1.4.1.318.1.3.8.2</value>
        <value>.1.3.6.1.4.1.318.1.3.8.2.*</value> -->
        <!-- emu2 -->
        <value>.1.3.6.1.4.1.318.1.3.8.3</value>
        <value>.1.3.6.1.4.1.318.1.3.8.3.*</value>
      </valueList>
    </oidMustMatch>
	<!-- suppress the core generic device alarm status -->
	<suppressRule ruleid="stompgenericalarms" suppressid="core/apcdiscgenericalarms/apcDiscoveryStatus_row1"/>
	<alarmFlags ruleid="emsHardwareStatus">
	  <value>
		<getOid>.1.3.6.1.4.1.318.1.1.10.3.12.13.0</getOid>
	  </value>
	  <!-- Alink current limit failure -->
	  <alarmFlagsTest mask="00000001" match="00000001">
		<name>
		  <activeText>Overcurrent</activeText>
		  <inactiveText>Overcurrent Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>Current limit exceeded.</activeText>
		  <inactiveText>Current limit no longer exceeded.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Identify and correct the problem.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000002" match="00000002">
		<name>
		  <activeText>Incorrect hardware connected.</activeText>
		  <inactiveText>Incorrect hardware no longer connected.</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>Incorrect hardware has been connected to the device.</activeText>
		  <inactiveText>Incorrect hardware is no longer connected to the device.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Identify and correct the problem.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	</alarmFlags>
	<alarmFlags2 ruleid="emsProbeAlarmStatus" index=".1.3.6.1.4.1.318.1.1.10.3.13.1.1.1">
	  <rowTest>
		 <mapValue mapid="delete_no_alarm">
			<getRowOid default="-1">.1.3.6.1.4.1.318.1.1.10.3.13.1.1.11</getRowOid>
		 </mapValue>
	  </rowTest>
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.11</getRowOid>
	  </value>
	  <alarmFlagsTest mask="00000001" match="00000001">
		<name>
		  <activeText>Maximum Temperature Threshold Violation</activeText>
		  <inactiveText>Maximum Temperature Threshold Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Temperature</category>
		<description>
		  <activeText>A maximum temperature threshold violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A maximum temperature threshold violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000002" match="00000002">
		<name>
		  <activeText>High Temperature Threshold Violation</activeText>
		  <inactiveText>High Temperature Threshold Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Temperature</category>
		<description>
		  <activeText>A high temperature threshold violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A high temperature threshold violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000004" match="00000004">
		<name>
		  <activeText>Low Temperature Threshold Violation</activeText>
		  <inactiveText>Low Temperature Threshold Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Temperature</category>
		<description>
		  <activeText>A low temperature threshold violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A low temperature threshold violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000008" match="00000008">
		<name>
		  <activeText>Minumum Temperature Threshold Violation</activeText>
		  <inactiveText>Minimum Temperature Threshold Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Temperature</category>
		<description>
		  <activeText>A minimum temperature threshold violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A minimum temperature threshold violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000010" match="00000010">
		<name>
		  <activeText>Short-Term Increasing Rate Of Change Violation</activeText>
		  <inactiveText>Short-Term Increasing Rate Of Change Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Temperature</category>
		<description>
		  <activeText>A short-term increasing rate of change violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A short-term increasing rate of change violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000020" match="00000020">
		<name>
		  <activeText>Short-Term Decreasing Rate Of Change Violation</activeText>
		  <inactiveText>Short-Term Decreasing Rate Of Change Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Temperature</category>
		<description>
		  <activeText>A short-term decreasing rate of change violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A short-term decreasing rate of change violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000040" match="00000040">
		<name>
		  <activeText>Long-Term Increasing Rate Of Change Violation</activeText>
		  <inactiveText>Long-Term Increasing Rate Of Change Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Temperature</category>
		<description>
		  <activeText>A long-term increasing rate of change violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A long-term increasing rate of change violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000080" match="00000080">
		<name>
		  <activeText>Long-Term Decreasing Rate Of Change Violation</activeText>
		  <inactiveText>Long-Term Decreasing Rate Of Change Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Temperature</category>
		<description>
		  <activeText>A long-term decreasing rate of change violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A long-term decreasing rate of change violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000100" match="00000100">
		<name>
		  <activeText>Maximum Humidity Threshold Violation</activeText>
		  <inactiveText>Maximum Humidity Threshold Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Humidity</category>
		<description>
		  <activeText>A maximum humidity threshold violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A maximum humidity threshold violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000200" match="00000200">
		<name>
		  <activeText>High Humidity Threshold Violation</activeText>
		  <inactiveText>High Humidity Threshold Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Humidity</category>
		<description>
		  <activeText>A high humidity threshold violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A high humidity threshold violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000400" match="00000400">
		<name>
		  <activeText>Low Humidity Threshold Violation</activeText>
		  <inactiveText>Low Humidity Threshold Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Humidity</category>
		<description>
		  <activeText>A low humidity threshold violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A low humidity threshold violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <alarmFlagsTest mask="00000800" match="00000800">
		<name>
		  <activeText>Minimum Humidity Threshold Violation</activeText>
		  <inactiveText>Minimum Humidity Threshold Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Humidity</category>
		<description>
		  <activeText>A minimum humidity threshold violation exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</activeText>
		  <inactiveText>A minimum humidity threshold violation no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.13.1.1.2</getRowOid>.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the threshold is set correctly at the device, and the central air conditioning system is functioning properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).
		  </recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	</alarmFlags2>
	<!-- contact alarms -->
	<alarmFlags2 ruleid="emu2_contact_normopen_alarm" index=".1.3.6.1.4.1.318.1.1.10.3.14.1.1.1">
	  <rowTest>
		<mapValue mapid="normally_open_test">
		  <getRowOid default="-1">.1.3.6.1.4.1.318.1.1.10.3.14.1.1.4</getRowOid>
		</mapValue>
	  </rowTest>
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.3</getRowOid>
	  </value>
		<!-- alarm when contact state is closed -->
		<alarmFlagsTest match="1">
		  <name>
			<activeText>Normally Open Contact Fault</activeText>
			<inactiveText>Normally Open Contact Fault Cleared</inactiveText>
		  </name>
		  <severity>warning</severity>
		  <category>Contact</category>
		  <description>
			<activeText>A contact fault exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.2</getRowOid>.</activeText>
			<inactiveText>A contact fault no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.2</getRowOid>.</inactiveText>
		  </description>
		  <alarmRecommendedActions>
			<recommendedActionId>Access the device to identify and correct the problem that activated this fault.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		  </alarmRecommendedActions>
		</alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emu2_contact_normclosed_alarm" index=".1.3.6.1.4.1.318.1.1.10.3.14.1.1.1">
	  <rowTest>
		<mapValue mapid="normally_closed_test">
		  <getRowOid default="-1">.1.3.6.1.4.1.318.1.1.10.3.14.1.1.4</getRowOid>
		</mapValue>
	  </rowTest>
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.3</getRowOid>
	  </value>
		<!-- alarm when contact state is open -->
		<alarmFlagsTest match="2">
		  <name>
			<activeText>Normally Closed Contact Fault</activeText>
			<inactiveText>Normally Closed Contact Fault Cleared</inactiveText>
		  </name>
		  <severity>warning</severity>
		  <category>Contact</category>
		  <description>
			<activeText>A contact fault exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.2</getRowOid>.</activeText>
			<inactiveText>A contact fault no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.14.1.1.2</getRowOid>.</inactiveText>
		  </description>
		  <alarmRecommendedActions>
			<recommendedActionId>Access the device to identify and correct the problem that activated this fault.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		  </alarmRecommendedActions>
		</alarmFlagsTest>
	</alarmFlags2>
	<!-- relay alarms -->
	<alarmFlags2 ruleid="emu2_relay_normopen_alarm" index=".1.3.6.1.4.1.318.1.1.10.3.15.1.1.1">
	  <rowTest>
		<mapValue mapid="normally_open_test">
		  <getRowOid default="-1">.1.3.6.1.4.1.318.1.1.10.3.15.1.1.4</getRowOid>
		</mapValue>
	  </rowTest>
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.3</getRowOid>
	  </value>
		<!-- alarm when relay state is closed -->
		<alarmFlagsTest match="1">
		  <name>
			<activeText>Normally Open Output Relay Fault</activeText>
			<inactiveText>Normally Open Output Relay Fault Cleared</inactiveText>
		  </name>
		  <severity>warning</severity>
		  <category>Relay</category>
		  <description>
			<activeText>An output relay fault exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.2</getRowOid>.</activeText>
			<inactiveText>An output relay fault no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.2</getRowOid>.</inactiveText>
		  </description>
		  <alarmRecommendedActions>
			<recommendedActionId>Access the device to identify and correct any problem that is mapped to activate this fault, and to make sure the output relay settings are configured properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		  </alarmRecommendedActions>
		</alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emu2_relay_normclosed_alarm" index=".1.3.6.1.4.1.318.1.1.10.3.15.1.1.1">
	  <rowTest>
		<mapValue mapid="normally_closed_test">
		  <getRowOid default="-1">.1.3.6.1.4.1.318.1.1.10.3.15.1.1.4</getRowOid>
		</mapValue>
	  </rowTest>
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.3</getRowOid>
	  </value>
		<!-- alarm when relay state is open -->
		<alarmFlagsTest match="2">
		  <name>
			<activeText>Normally Closed Output Relay Fault</activeText>
			<inactiveText>Normally Closed Output Relay Fault Cleared</inactiveText>
		  </name>
		  <severity>warning</severity>
		  <category>Relay</category>
		  <description>
			<activeText>An output relay fault exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.2</getRowOid>.</activeText>
			<inactiveText>An output relay fault no longer exists for<space/><getRowOid>.1.3.6.1.4.1.318.1.1.10.3.15.1.1.2</getRowOid>.</inactiveText>
		  </description>
		  <alarmRecommendedActions>
			<recommendedActionId>Access the device to identify and correct any problem that is mapped to activate this fault, and to make sure the output relay settings are configured properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		  </alarmRecommendedActions>
		</alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emu2_beacon_alarm" index=".1.3.6.1.4.1.318.1.1.10.3.17.1.1.1">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.17.1.1.3</getRowOid>
	  </value>
	  <alarmFlagsTest match="1">
		<name>
		  <activeText>Alarm Beacon On</activeText>
		  <inactiveText>Alarm Beacon Off</inactiveText>
		</name>
		<severity>warning</severity>
		<category>Beacon</category>
		<description>
		  <activeText>The alarm beacon (<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.17.1.1.2</getRowOid>) is on.</activeText>
		  <inactiveText>The alarm beacon (<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.17.1.1.2</getRowOid>) is no longer on.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Access the device to identify and correct any problem that is mapped to activate this alarm, and to make sure the Beacon Control feature is set properly.  If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags ruleid="emu2_comm_status_alarm">
	  <value>
		<getOid>.1.3.6.1.4.1.318.1.1.10.3.12.2.0</getOid>
	  </value>
	  <alarmFlagsTest match="3">
		<name>
		  <activeText>Device Communication Lost</activeText>
		  <inactiveText>Device Communication Restored</inactiveText>
		</name>
		<severity>critical</severity>
		<category>System</category>
		<description>
		  <activeText>The agent lost communication with the device.</activeText>
		  <inactiveText>Communication between the agent and the device has been restored.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>A hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	</alarmFlags>
	<!-- raru alarms for alink raru -->
	<alarmFlags2 ruleid="raru_alarm_status" index=".1.3.6.1.4.1.318.1.1.14.3.3.1.1">
	  <rowTest>
		<mapValue mapid="ignore_unknown">
		  <getRowOid>.1.3.6.1.4.1.318.1.1.14.3.3.1.10</getRowOid>
		</mapValue>
	  </rowTest>
	  <value>
		<baseNToInt base="2">
		  <reverseString>
			<getRowOid>.1.3.6.1.4.1.318.1.1.14.3.3.1.10</getRowOid>
		  </reverseString>
		</baseNToInt>
	  </value>
		<!-- FAN 1 Fail -->
	  <alarmFlagsTest mask="00000001" match="00000001">
		<name>
		  <activeText>Air Removal Unit Fan 1 Failure</activeText>
		  <inactiveText>Air Removal Unit Fan 1 Failure Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>A fan 1 failure exists at an air removal unit.</activeText>
		  <inactiveText>A fan 1 failure no longer exists at an air removal unit.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>A hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <!-- FAN 2 Fail -->
	  <alarmFlagsTest mask="00000002" match="00000002">
		<name>
		  <activeText>Air Removal Unit Fan 2 Failure</activeText>
		  <inactiveText>Air Removal Unit Fan 2 Failure Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>A fan 2 failure exists at an air removal unit.</activeText>
		  <inactiveText>A fan 2 failure no longer exists at an air removal unit.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>A hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <!-- FAN 3 Fail -->
	  <alarmFlagsTest mask="00000004" match="00000004">
		<name>
		  <activeText>Air Removal Unit Fan 3 Failure</activeText>
		  <inactiveText>Air Removal Unit Fan 3 Failure Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>A fan 3 failure exists at an air removal unit.</activeText>
		  <inactiveText>A fan 3 failure no longer exists at an air removal unit.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>A hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <!-- Smoke Violation -->
	  <alarmFlagsTest mask="00000008" match="00000008">
		<name>
		  <activeText>Air Removal Unit Smoke Violation</activeText>
		  <inactiveText>Air Removal Unit Smoke Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>A smoke violation exists at an air removal unit.</activeText>
		  <inactiveText>A smoke violation no longer exists at an air removal unit.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Correct the smoke problem. If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <!-- ARU High Temp -->
	  <alarmFlagsTest mask="00000010" match="00000010">
		<name>
		  <activeText>Air Removal Unit High-Temperature Violation</activeText>
		  <inactiveText>Air Removal Unit High-Temperature Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>A high-temperature violation exists at an air removal unit.</activeText>
		  <inactiveText>A high-temperature violation no longer exists at an air removal unit.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Correct the temperature problem. If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	  <!-- Overtemp -->
	  <alarmFlagsTest mask="00000020" match="00000020">
		<name>
		  <activeText>Air Removal Unit Exhaust-Temperature Violation</activeText>
		  <inactiveText>Air Removal Unit Exhaust-Temperature Violation Cleared</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>An exhaust-temperature violation exists at an air removal unit.</activeText>
		  <inactiveText>An exhaust-temperature violation no longer exists at an air removal unit.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Correct the temperature problem. If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="aru_comm_status_alarm" index=".1.3.6.1.4.1.318.1.1.14.3.3.1.1">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.14.3.3.1.11</getRowOid>
	  </value>
	  <alarmFlagsTest match="3">
		<name>
		  <activeText>Air Removal Unit Communication Lost</activeText>
		  <inactiveText>Air Removal Unit Communication Restored</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Module</category>
		<description>
		  <activeText>The Environmental Monitoring Unit lost communication with an air removal unit.</activeText>
		  <inactiveText>Communication between the Environmental Monitoring Unit and the air removal unit has been restored.</inactiveText>
		</description>
		<alarmRecommendedActions>
		  <recommendedActionId>Make sure the air removal unit is connected correctly to the Environmental Monitoring Unit. If the problem persists, contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
		</alarmRecommendedActions>
	  </alarmFlagsTest>
	</alarmFlags2>
	<valueMap ruleid="delete_no_alarm">
		<valueIn>-1</valueIn><valueOut>[false]</valueOut>
		<valueIn>*</valueIn><valueOut>[true]</valueOut>
	</valueMap>
	<valueMap ruleid="normally_open_test">
	  <valueIn>2</valueIn><valueOut>[true]</valueOut>
	  <valueIn>*</valueIn><valueOut>[false]</valueOut>
	</valueMap>
	<valueMap ruleid="normally_closed_test">
	  <valueIn>1</valueIn><valueOut>[true]</valueOut>
	  <valueIn>*</valueIn><valueOut>[false]</valueOut>
	</valueMap>
	<valueMap ruleid="ignore_unknown">
	  <valueIn>*</valueIn><valueOut>[true]</valueOut>
	  <valueIn>UNKNOWN</valueIn><valueOut>[false]</valueOut>
	</valueMap>

	<valueMap ruleid="discreteSensorSeverity-vm">
		<valueIn>1</valueIn><valueOut>critical</valueOut>
		<valueIn>*</valueIn><valueOut>warning</valueOut>
	</valueMap>
	<alarmFlags2 ruleid="emsSmokeSensorAlarm" index=".1.3.6.1.4.1.318.1.1.10.3.20.2.1.4">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.4</getRowOid>
	  </value>
	  <alarmFlagsTest match="1">
		<name>
		  <activeText>Smoke Detected</activeText>
		  <inactiveText>Smoke Cleared</inactiveText>
		</name>
		<severity>
			<mapValue mapid="discreteSensorSeverity-vm">
			<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.5</getRowOid>
			</mapValue>
		</severity>
		<category>Discrete</category>
		<description>
			<activeText>
				Smoke has been detected by<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.3</getRowOid>).
			</activeText>
			<inactiveText>
				<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.3</getRowOid>)<space/>
				no longer detects smoke.
			</inactiveText>
		</description>
	  </alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emsVibrationSensorAlarm" index=".1.3.6.1.4.1.318.1.1.10.3.20.4.1.4">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.4</getRowOid>
	  </value>
	  <alarmFlagsTest match="1">
		<name>
		  <activeText>Vibration Detected</activeText>
		  <inactiveText>Vibration Cleared</inactiveText>
		</name>
		<severity>
			<mapValue mapid="discreteSensorSeverity-vm">
			<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.5</getRowOid>
			</mapValue>
		</severity>
		<category>Discrete</category>
		<description>
			<activeText>
				Vibration has been detected by<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.3</getRowOid>).
			</activeText>
			<inactiveText>
				<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.3</getRowOid>)<space/>
				no longer detects vibration.
			</inactiveText>
		</description>
	  </alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emsFluidSensorAlarm" index=".1.3.6.1.4.1.318.1.1.10.3.20.6.1.4">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.4</getRowOid>
	  </value>
	  <alarmFlagsTest match="1">
		<name>
		  <activeText>Fluid Detected</activeText>
		  <inactiveText>Fluid Cleared</inactiveText>
		</name>
		<severity>
			<mapValue mapid="discreteSensorSeverity-vm">
			<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.5</getRowOid>
			</mapValue>
		</severity>
		<category>Discrete</category>
		<description>
			<activeText>
				Fluid has been detected by<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.3</getRowOid>).
			</activeText>
			<inactiveText>
				<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.3</getRowOid>)<space/>
				no longer detects fluid.
			</inactiveText>
		</description>
	  </alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emsDoorSensorAlarm" index=".1.3.6.1.4.1.318.1.1.10.3.20.8.1.4">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.4</getRowOid>
	  </value>
	  <alarmFlagsTest match="1">
		<name>
		  <activeText>Door Open</activeText>
		  <inactiveText>Door Closed</inactiveText>
		</name>
		<severity>
			<mapValue mapid="discreteSensorSeverity-vm">
			<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.5</getRowOid>
			</mapValue>
		</severity>
		<category>Discrete</category>
		<description>
			<activeText>
				Open door has been detected by<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.3</getRowOid>).
			</activeText>
			<inactiveText>
				<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.3</getRowOid>)<space/>
				no longer detects open door.
			</inactiveText>
		</description>
	  </alarmFlagsTest>
	</alarmFlags2>

	<alarmFlags2 ruleid="emsSmokeSensorCommLost" index=".1.3.6.1.4.1.318.1.1.10.3.20.2.1.6">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.6</getRowOid>
	  </value>
	  <alarmFlagsTest match="2">
		<name>
		  <activeText>Smoke Sensor Comm Lost</activeText>
		  <inactiveText>Smoke Sensor Comm Restored</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Discrete</category>
		<description>
			<activeText>Communication with smoke sensor <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.2</getRowOid> has been lost.</activeText>
			<inactiveText>Communication with smoke sensor <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.2.1.2</getRowOid> has been restored.</inactiveText>
		</description>
	  </alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emsVibrationSensorCommLost" index=".1.3.6.1.4.1.318.1.1.10.3.20.4.1.6">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.6</getRowOid>
	  </value>
	  <alarmFlagsTest match="2">
		<name>
		  <activeText>Vibration Sensor Comm Lost</activeText>
		  <inactiveText>Vibration Sensor Comm Restored</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Discrete</category>
		<description>
			<activeText>Communication with vibration sensor <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.2</getRowOid> has been lost.</activeText>
			<inactiveText>Communication with vibration sensor <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.4.1.2</getRowOid> has been restored.</inactiveText>
		</description>
	  </alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emsFluidSensorCommLost" index=".1.3.6.1.4.1.318.1.1.10.3.20.6.1.6">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.6</getRowOid>
	  </value>
	  <alarmFlagsTest match="2">
		<name>
		  <activeText>Fluid Sensor Comm Lost</activeText>
		  <inactiveText>Fluid Sensor Comm Restored</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Discrete</category>
		<description>
			<activeText>Communication with fluid sensor <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.2</getRowOid> has been lost.</activeText>
			<inactiveText>Communication with fluid sensor <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.6.1.2</getRowOid> has been restored.</inactiveText>
		</description>
	  </alarmFlagsTest>
	</alarmFlags2>
	<alarmFlags2 ruleid="emsDoorSensorCommLost" index=".1.3.6.1.4.1.318.1.1.10.3.20.8.1.6">
	  <value>
		<getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.6</getRowOid>
	  </value>
	  <alarmFlagsTest match="2">
		<name>
		  <activeText>Door Sensor Comm Lost</activeText>
		  <inactiveText>Door Sensor Comm Restored</inactiveText>
		</name>
		<severity>critical</severity>
		<category>Discrete</category>
		<description>
			<activeText>Communication with door sensor <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.2</getRowOid> has been lost.</activeText>
			<inactiveText>Communication with door sensor <getRowOid>.1.3.6.1.4.1.318.1.1.10.3.20.8.1.2</getRowOid> has been restored.</inactiveText>
		</description>
	  </alarmFlagsTest>
	</alarmFlags2>


  </device>
  
</APC_DDF>
