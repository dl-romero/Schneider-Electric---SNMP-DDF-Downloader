<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="apc_ddf_1_6.xsl"?>
<APC_DDF
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd"
	ddfid="apcsmartups"
	ddfname="APC SmartUPS"
	ddfversion="111"
	canremove="yes">

	<!--
		SOURCE
		/snmp/resources/mibs/apc/powernet435X.mib
		PowerNet MIB 4.3.5.X | 17 Aug 2020

		SCOPE
		.1.3.6.1.4.1.318.1.1.1.* | apc/products/hardware/ups

		OIDs not yet implemented are included in comments in the form "numeric OID | OID name"
	-->

	<schemaVersion>1.6</schemaVersion>
	<device deviceid="apcsmartups_discovery">
		<oidMustExist ruleid="has_upsBasicIdent" oid=".1.3.6.1.4.1.318.1.1.1.1.1.1.0"/>

		<!-- type -->
        <suppressRule ruleid="suppresscoretypedata" suppressid="core/mib2data/typedata"/>
		<setProductData ruleid="typedata" field="type">UPS</setProductData>

		<!-- vendor -->
        <suppressRule ruleid="suppresscorevendordata" suppressid="core/mib2data/vendordata"/>
		<suppressRule ruleid="stompupsmibvendor" suppressid="upsmib/upsmibdiscdata/vendordata"/>
		<setProductData ruleid="vendordata" field="vendor">APC by Schneider Electric</setProductData>

		<!-- firmware/serial -->
		<setProductData ruleid="upsAdvIdentFirmwareRevision" field="revision">
			<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.1.0</getOid>
		</setProductData>
		<suppressRule ruleid="stompdiscserialnum" suppressid="core/apcdiscdata/serialnum"/>
		<suppressRule ruleid="stompdiscserialnum2" suppressid="core/apcdiscdata/serialnum2"/>
		<setProductData ruleid="serialnum" field="apc_serial_num">
			<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.3.0</getOid>
		</setProductData>
		<setProductData ruleid="serialnum2" field="serial_num">
			<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.3.0</getOid>
		</setProductData>

		<!-- model -->
		<suppressRule ruleid="stompdiscmodel" suppressid="core/apcdiscdata/modeldata"/>
        <suppressRule ruleid="suppresscoremodeldata" suppressid="core/mib2data/modeldata"/>
		<suppressRule ruleid="stompupsmibmodel" suppressid="upsmib/upsmibdiscdata/modeldata"/>
		<setProductData ruleid="modeldata" field="model">
			<getOid>.1.3.6.1.4.1.318.1.1.1.1.1.1.0</getOid>
		</setProductData>

		<!-- input/output phase counts - assume 1-phase unless overridden elsewhere -->
		<setProductData ruleid="inputphasecount" field="inputphasecount">1</setProductData>
		<setProductData ruleid="outputphasecount" field="outputphasecount">1</setProductData>

		<suppressRule ruleid="stompdiscstatus" suppressid="core/apcdiscdatastate/apcDiscoveryStatus_row1"/>
		<stateSensor ruleid="apcDiscoveryStatus_row1" index=".1.3.6.1.4.1.318.1.4.2.2.1.1">
			<type>devstatus</type>
			<sensorId>DEVSTATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="core/apcdiscdatastate/devstatus-to-index">
				<getRowOid>.1.3.6.1.4.1.318.1.4.2.2.1.4</getRowOid>
				</mapValue>
			</value>
			<label>Device Status -<space/><getRowOid>.1.3.6.1.4.1.318.1.4.2.2.1.5</getRowOid></label>
			<sensorSet>default</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="rhodes_attribs">
		<oidMustMatch ruleid="galaxy" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<setDefaultLabel>
			<getOid>.1.3.6.1.4.1.318.1.4.2.2.1.2.1</getOid>
		</setDefaultLabel>
		<setLocationData field="LOCATION">
			<getOid>.1.3.6.1.4.1.318.1.4.2.2.1.7.1</getOid>
		</setLocationData>
		<setProductData ruleid="rhodes_serial" field="serial_num">
			<getOid>.1.3.6.1.4.1.318.1.4.2.4.1.2.1</getOid>
		</setProductData>
	</device>

	<device deviceid="commonValueMaps">
		<!--
			any <valueMap>s or <enumMap>s that apply across more than one device
			section should be placed here and referred to with an absolute path
			e.g. mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm"
		-->
		<oidMustExist ruleid="has_ups" oid=".1.3.6.1.4.1.318.1.1.1" istree="yes" />

		<!-- delete sensors returning -1 -->
		<valueMap ruleid="invalid_minusOne-vm">
			<valueIn>-1</valueIn><valueOut>[false]</valueOut>
			<valueIn>*</valueIn><valueOut>[true]</valueOut>
		</valueMap>

		<!-- delete sensors returning empty string -->
		<valueMap ruleid="invalid_emptyString-vm">
			<valueIn></valueIn><valueOut>[false]</valueOut>
			<valueIn>*</valueIn><valueOut>[true]</valueOut>
		</valueMap>

		<!-- month lookup table for UPS Age and Battery Age sensors -->
		<valueMap ruleid="parseMonth-vm">
			<valueIn>Jan</valueIn>	<valueOut>01</valueOut>
			<valueIn>Feb</valueIn>	<valueOut>02</valueOut>
			<valueIn>Mar</valueIn>	<valueOut>03</valueOut>
			<valueIn>Apr</valueIn>	<valueOut>04</valueOut>
			<valueIn>May</valueIn>	<valueOut>05</valueOut>
			<valueIn>Jun</valueIn>	<valueOut>06</valueOut>
			<valueIn>Jul</valueIn>	<valueOut>07</valueOut>
			<valueIn>Aug</valueIn>	<valueOut>08</valueOut>
			<valueIn>Sep</valueIn>	<valueOut>09</valueOut>
			<valueIn>Oct</valueIn>	<valueOut>10</valueOut>
			<valueIn>Nov</valueIn>	<valueOut>11</valueOut>
			<valueIn>Dec</valueIn>	<valueOut>12</valueOut>
			<valueIn>*</valueIn>		<valueOut>00</valueOut>
		</valueMap>

		<valueMap ruleid="batteryPolaritySign-vm">
			<valueIn>0</valueIn><valueOut>+</valueOut>
			<valueIn>1</valueIn><valueOut>-</valueOut>
			<valueIn>*</valueIn><valueOut>?</valueOut>
		</valueMap>

		<valueMap ruleid="voltageOrientation-vm">
			<valueIn>1</valueIn>	<valueOut>0</valueOut>
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>4</valueIn>	<valueOut>3</valueOut>
			<valueIn>5</valueIn>	<valueOut>4</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="voltageOrientation-em">
			<label>Unknown</label>
			<label>Single Phase</label>
			<label>Split Phase</label>
			<label>Phase to Neutral (3P)</label>
			<label>Phase to Phase (3P)</label>
		</enumMap>

		<valueMap ruleid="subSystemStatus-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>7</valueIn><valueOut>6</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="subSystemStatus-em">
			<label>Unknown</label>
			<label>Not Installed</label>
			<label>Off - OK</label>
			<label>On - OK</label>
			<label>Off - Fail</label>
			<label>On - Fail</label>
			<label>Lost Communication</label>
		</enumMap>

		<!--
			expected input = concat(phase orientation enum,phase number)
			e.g. phase orientation = 4 (threePhasePhaseToPhase), phase = 1 => "Phase 1 to Neutral"
		-->
		<valueMap ruleid="phaseOrientation-vm">
			<valueIn>21</valueIn><valueOut>Phase 1 to Neutral</valueOut>
			<valueIn>31</valueIn><valueOut>Phase 1 to Neutral</valueOut>
			<valueIn>32</valueIn><valueOut>Phase 2 to Neutral</valueOut>
			<valueIn>33</valueIn><valueOut>Phase 1 to Phase 2</valueOut>
			<valueIn>41</valueIn><valueOut>Phase 1 to Neutral</valueOut>
			<valueIn>42</valueIn><valueOut>Phase 2 to Neutral</valueOut>
			<valueIn>43</valueIn><valueOut>Phase 3 to Neutral</valueOut>
			<valueIn>51</valueIn><valueOut>Phase 1 to Phase 2</valueOut>
			<valueIn>52</valueIn><valueOut>Phase 2 to Phase 3</valueOut>
			<valueIn>53</valueIn><valueOut>Phase 3 to Phase 1</valueOut>
			<valueIn>*</valueIn><valueOut>Unknown</valueOut>
		</valueMap>

		<!-- for generating labels for input phase sensors -->
		<valueMap ruleid="upsPhaseInputType-vm">
			<valueIn>1</valueIn>	<valueOut>Unknown</valueOut>
			<valueIn>2</valueIn>	<valueOut>Main</valueOut>
			<valueIn>3</valueIn>	<valueOut>Bypass</valueOut>
		</valueMap>

		<!-- generic n-state data point, counting from 1-->
		<valueMap ruleid="2state-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="active-em">
			<label>Unknown</label>
			<label>Active</label>
			<label>Inactive</label>
		</enumMap>
		<enumMap ruleid="allowed-em">
			<label>Unknown</label>
			<label>Forbidden</label>
			<label>Allowed</label>
		</enumMap>
		<enumMap ruleid="charge-em">
			<label>Unknown</label>
			<label>Charge</label>
			<label>Discharge</label>
		</enumMap>
		<enumMap ruleid="coupled-em">
			<label>Unknown</label>
			<label>Coupled</label>
			<label>Uncoupled</label>
		</enumMap>
		<enumMap ruleid="onOff-em">
			<label>Unknown</label>
			<label>On</label>
			<label>Off</label>
		</enumMap>
		<enumMap ruleid="open-em">
			<label>Unknown</label>
			<label>Closed</label>
			<label>Opened</label>
		</enumMap>
		<enumMap ruleid="present-em">
			<label>Unknown</label>
			<label>Present</label>
			<label>Absent</label>
		</enumMap>
		<enumMap ruleid="ready-em">
			<label>Unknown</label>
			<label>Ready</label>
			<label>Not Ready</label>
		</enumMap>
		<enumMap ruleid="running-em">
			<label>Unknown</label>
			<label>Running</label>
			<label>Stop</label>
		</enumMap>

		<enumMap ruleid="enabledDisabled-em">
			<label>Unknown</label>
			<label>Enabled</label>
			<label>Disabled</label>
		</enumMap>
		<enumMap ruleid="disabledEnabled-em">
			<label>Unknown</label>
			<label>Disabled</label>
			<label>Enabled</label>
		</enumMap>

		<enumMap ruleid="noYes-em">
			<label>Unknown</label>
			<label>No</label>
			<label>Yes</label>
		</enumMap>
		<enumMap ruleid="yesNo-em">
			<label>Unknown</label>
			<label>Yes</label>
			<label>No</label>
		</enumMap>

		<enumMap ruleid="fuseStatus-em">
			<label>Not Present</label>
			<label>Fuse Open</label>
			<label>Fuse OK</label>
		</enumMap>

		<valueMap ruleid="3state-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="couple-em">
			<label>Unknown</label>
			<label>Forbidden</label>
			<label>Inverter On</label>
			<label>Coupling</label>
		</enumMap>
		<enumMap ruleid="uncouple-em">
			<label>Unknown</label>
			<label>Forbidden</label>
			<label>Inverter Off</label>
			<label>Uncoupling</label>
		</enumMap>
		<enumMap ruleid="transfer-em">
			<label>Unknown</label>
			<label>Always</label>
			<label>Forbidden On Limitation</label>
			<label>Never</label>
		</enumMap>

		<valueMap ruleid="breakerStatus-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="breakerStatus-em">
			<label>Unknown</label>
			<label>No Breaker</label>
			<label>Breaker Open</label>
			<label>Breaker Closed</label>
		</enumMap>

	</device>

	<device deviceid="upsIdent">
		<oidMustExist ruleid="has_upsIdent" oid=".1.3.6.1.4.1.318.1.1.1.1" istree="yes" />

		<numSensor ruleid="upsAdvIdentDateOfManufacture">
			<type>timeindays/upsage</type>
			<sensorId>UPS_AGE</sensorId>
			<value>
				<round increment="1">
					<div>
						<op>
							<sub>
								<op>
									<curUTCTime/>
								</op>
								<op>
									<parseDate>
										<if>
											<op>
												<!-- does the value use 3-char months? -->
												<regex>
													<op>([a-zA-Z]{3})</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
													</op>
													<op>[true]</op>
													<op>[false]</op>
												</regex>
											</op>
											<op>
												<!-- yes it does use 3-char months-->
												<if>
													<op>
														<!-- does date or month come first? -->
														<regex>
															<op>(\d\d)-([a-zA-Z]{3})-(\d\d)</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
															</op>
															<op>[true]</op>
															<op>[false]</op>
														</regex>
													</op>
													<op>
														<!-- date comes before month -->
														<mapValue mapid="apcsmartups/commonValueMaps/parseMonth-vm">
															<regex>
																<op>\d\d-([a-zA-Z]{3})-\d\d</op>
																<op>
																	<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
																</op>
																<op>%1$s</op>
																<op>Nul</op>
															</regex>
														</mapValue>
											-
														<regex>
															<op>(\d\d)-[a-zA-Z]{3}-\d\d</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
															</op>
															<op>%1$s</op>
															<op>00</op>
														</regex>
													</op>
													<!-- DD-Mon... -->
													<op>
														<!-- month comes before date -->
														<mapValue mapid="apcsmartups/commonValueMaps/parseMonth-vm">
															<regex>
																<op>([a-zA-Z]{3})-\d\d-\d\d</op>
																<op>
																	<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
																</op>
																<op>%1$s</op>
																<op>Nul</op>
															</regex>
														</mapValue>
											-
														<regex>
															<op>[a-zA-Z]{3}-(\d\d)-\d\d</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
															</op>
															<op>%1$s</op>
															<op>00</op>
														</regex>
													</op>
													<!-- Mon-DD... -->
												</if>
										-
												<!-- and year always comes last when 3-char months are used -->
												<regex>
													<op>-(\d\d)$</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
													</op>
													<op>%1$s</op>
													<op>00</op>
												</regex>
												<!-- ...YY -->
											</op>
											<op>
												<!-- does not use 3-char months, just need to rearrange terms -->
												<regex>
													<op>(\d\d\d\d)-(\d\d)-(\d\d)</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
													</op>
													<op>%2$s\/%3$s\/%1$s</op>
													<!-- YYYY-MM-DD -->
													<op>
														<regex>
															<op>^(\d\d)\.(\d\d)\.(\d\d\d\d)$</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
															</op>
															<!-- DD.MM.YYYY -->
															<op>%2$s\/%1$s\/%3$s</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.2.0</getOid>
															</op>
															<!-- MM/DD/YYYY -->
														</regex>
													</op>
												</regex>
											</op>
										</if>
									</parseDate>
								</op>
							</sub>
						</op>
						<op>86400</op>
					</div>
				</round>
			</value>
			<minValue>0</minValue>
			<valueInc>1</valueInc>
			<label>UPS Age</label>
			<sensorSet>default</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsAdvIdent">
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsAdvEnergyStorageType">
            <type>state</type>
            <sensorId>ENERGY_STORAGE_TYPE</sensorId>
            <value>
				<mapValue mapid="energyStorageType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.8.0</getOid>
				</mapValue>
            </value>
            <label>UPS Energy Storage Type</label>
            <enum>energyStorageType-em</enum>
            <sensorSet>default</sensorSet>
        </stateSensor>

		<valueMap ruleid="energyStorageType-vm">
			<valueIn>1</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>7</valueIn><valueOut>6</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>

		<enumMap ruleid="energyStorageType-em">
			<label>Unknown</label>
			<label>VRLA or Wet Cells</label>
			<label>NiCd Batteries</label>
			<label>Lithium-ion Batteries</label>
			<label>No Energy Storage</label>
			<label>Flywheel</label>
			<label>Ultracaps</label>
		</enumMap>
	</device>

	<device deviceid="upsAdvIdent-stringSensors-galaxyVS">
		<oidMustMatch ruleid="is-galaxyVS" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stringSensor ruleid="upsAdvIdentFirmwareRevision-ss">
			<type>string</type>
			<sensorId>FIRMWARE_REVISION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.1.0</getOid>
			</value>
			<label>UPS Firmware Revision</label>
			<sensorSet>default</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsAdvIdentHardwareRevision-ss">
			<type>string</type>
			<sensorId>HARDWARE_REVISION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.6.0</getOid>
			</value>
			<label>UPS Hardware Revision</label>
			<sensorSet>default</sensorSet>
		</stringSensor>
	</device>

	<device deviceid="upsAdvIdent-stringSensors-galaxyVM">
		<oidMustMatch ruleid="is-galaxyVM" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.46</value>
			</valueList>
		</oidMustMatch>

		<stringSensor ruleid="upsAdvIdentFirmwareRevision2-ss">
			<type>string</type>
			<sensorId>FIRMWARE_REVISION2</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.1.2.4.0</getOid>
			</value>
			<label>UPS Firmware Revision</label>
			<sensorSet>default</sensorSet>
		</stringSensor>
	</device>

	<device deviceid="upsBattery">
		<!-- upsBasicBattery/upsAdvBattery -->
		<oidMustExist ruleid="has_upsBattery" oid=".1.3.6.1.4.1.318.1.1.1.2" istree="yes" />

		<valueMap ruleid="upsBasicBatteryStatus-vm">
			<valueIn>1</valueIn>			<valueOut>0</valueOut>
			<valueIn>2</valueIn>			<valueOut>1</valueOut>
			<valueIn>3</valueIn>			<valueOut>2</valueOut>
			<valueIn>4</valueIn>			<valueOut>3</valueOut>
			<valueIn>*</valueIn>			<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsBasicBatteryStatus-em">
			<label>Unknown</label>
			<label>Normal</label>
			<label>Low</label>
			<label>In Fault Condition</label>
		</enumMap>

		<suppressRule ruleid="stompupsmibbattstatus" suppressid="upsmib/upsmib/upsBatteryStatus"/>
		<stateSensor ruleid="upsBasicBatteryStatus">
			<rowTest>
				<neq>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.2.2.9.0</getOid></op>
				<op>-1</op>
				</neq>
			</rowTest>
			<type>battstatus</type>
			<sensorId>BATTSTATUS</sensorId>
			<value>
				<mapValue mapid="upsBasicBatteryStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.1.0</getOid>
				</mapValue>
			</value>
			<label>Battery Status</label>
			<enum>upsBasicBatteryStatus-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<suppressRule ruleid="stompupsSecondsOnBattery" suppressid="upsmib/upsmib/upsSecondsOnBattery"/>
		<numSensor ruleid="upsBasicBatteryTimeOnBattery">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin/timeonbatt</type>
			<sensorId>TIME_ON_BATT</sensorId>
			<value>
				<round increment="0.1">
					<div>
						<op>
							<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.2.0</getOid>
						</op>
						<op>6000</op>
					</div>
				</round>
			</value>
			<minValue>0</minValue>
			<label>Time Running on Battery</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsBasicBatteryLastReplaceDate">
			<type>timeindays/batteryage</type>
			<sensorId>BATT_AGE</sensorId>
			<value>
				<round increment="1">
					<div>
						<op>
							<sub>
								<op>
									<curUTCTime/>
								</op>
								<op>
									<parseDate>
										<if>
											<op>
												<!-- does the value use 3-char months? -->
												<regex>
													<op>([a-zA-Z]{3})</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
													</op>
													<op>[true]</op>
													<op>[false]</op>
												</regex>
											</op>
											<op>
												<!-- yes it does use 3-char months-->
												<if>
													<op>
														<!-- does date or month come first? -->
														<regex>
															<op>(\d\d)-([a-zA-Z]{3})-(\d\d)</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
															</op>
															<op>[true]</op>
															<op>[false]</op>
														</regex>
													</op>
													<op>
														<!-- date comes before month -->
														<mapValue mapid="apcsmartups/commonValueMaps/parseMonth-vm">
															<regex>
																<op>\d\d-([a-zA-Z]{3})-\d\d</op>
																<op>
																	<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
																</op>
																<op>%1$s</op>
																<op>Nul</op>
															</regex>
														</mapValue>
											-
														<regex>
															<op>(\d\d)-[a-zA-Z]{3}-\d\d</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
															</op>
															<op>%1$s</op>
															<op>00</op>
														</regex>
													</op>
													<!-- DD-Mon... -->
													<op>
														<!-- month comes before date -->
														<mapValue mapid="apcsmartups/commonValueMaps/parseMonth-vm">
															<regex>
																<op>([a-zA-Z]{3})-\d\d-\d\d</op>
																<op>
																	<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
																</op>
																<op>%1$s</op>
																<op>Nul</op>
															</regex>
														</mapValue>
											-
														<regex>
															<op>[a-zA-Z]{3}-(\d\d)-\d\d</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
															</op>
															<op>%1$s</op>
															<op>00</op>
														</regex>
													</op>
													<!-- Mon-DD... -->
												</if>
										-
												<!-- and year always comes last when 3-char months are used -->
												<regex>
													<op>-(\d\d)$</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
													</op>
													<op>%1$s</op>
													<op>00</op>
												</regex>
												<!-- ...YY -->
											</op>
											<op>
												<!-- does not use 3-char months, just need to rearrange terms -->
												<regex>
													<op>(\d\d\d\d)-(\d\d)-(\d\d)</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
													</op>
													<op>%2$s\/%3$s\/%1$s</op>
													<!-- YYYY-MM-DD -->
													<op>
														<regex>
															<op>^(\d\d)\.(\d\d)\.(\d\d\d\d)$</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
															</op>
															<!-- DD.MM.YYYY -->
															<op>%2$s\/%1$s\/%3$s</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.2.1.3.0</getOid>
															</op>
															<!-- MM/DD/YYYY -->
														</regex>
													</op>
												</regex>
											</op>
										</if>
									</parseDate>
								</op>
							</sub>
						</op>
						<op>86400</op>
					</div>
				</round>
			</value>
			<minValue>0</minValue>
			<valueInc>1</valueInc>
			<label>Battery Age</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsEstimatedChargeRemaining" suppressid="upsmib/upsmib/upsEstimatedChargeRemaining"/>
		<numSensor ruleid="upsAdvBatteryCapacity">
			<type>pctofcapacity/pctofbatt</type>
			<sensorId>BATT_CAPACITY_LEFT</sensorId>
			<value>
				<formatNumber printffmt="%f">
					<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.1.0</getOid>
				</formatNumber>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Capacity Remaining</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsBatteryTemperature" suppressid="upsmib/upsmib/upsBatteryTemperature"/>
		<numSensor ruleid="upsAdvBatteryTemperature">
			<type>temp/batttemp</type>
			<sensorId>BATT_TEMP</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Temperature</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsEstimatedMinutesRemaining" suppressid="upsmib/upsmib/upsEstimatedMinutesRemaining"/>
		<numSensor ruleid="upsAdvBatteryRunTimeRemaining">
			<type>timeinmin/timeremainingonbatt</type>
			<sensorId>TIME_REMAINING_ON_BATT</sensorId>
			<value>
				<round increment="0.1">
					<div>
						<op>
							<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.3.0</getOid>
						</op>
						<op>6000</op>
					</div>
				</round>
			</value>
			<label>Battery Time Remaining</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<valueMap ruleid="upsAdvBatteryReplaceIndicator-vm">
			<valueIn>1</valueIn>	<valueOut>0</valueOut>
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<stateSensor ruleid="upsAdvBatteryReplaceIndicator">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>battreplace</type>
			<sensorId>BATTREPLACE</sensorId>
			<value>
				<mapValue mapid="upsAdvBatteryReplaceIndicator-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.4.0</getOid>
				</mapValue>
			</value>
			<label>Battery Replacement Status</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsAdvBatteryNumOfBattPacks">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>EXT_BATT_PACKS</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of External Battery Packs</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvBatteryNumOfBadBattPacks">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>BAD_EXT_BATT_PACKS</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of Bad External Battery Packs</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvBatteryNominalVoltage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltageDC</type>
			<sensorId>NOMINAL_BATTERY_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Battery Voltage</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsBatteryVoltage" suppressid="upsmib/upsmib/upsBatteryVoltage"/>
		<valueMap ruleid="battery-flywheel-vm">
			<valueIn>2</valueIn>			<valueOut>Flywheel</valueOut>
			<valueIn>*</valueIn>			<valueOut>Battery</valueOut>
		</valueMap>
		<numSensor ruleid="upsAdvBatteryActualVoltage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage/battvoltage</type>
			<sensorId>BATT_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<mapValue mapid="battery-flywheel-vm">
				<getOid default="-1">.1.3.6.1.4.1.318.1.1.1.13.5.4.1.0</getOid>
				</mapValue> Voltage
			</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvBatteryCurrent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage/battamps</type>
			<sensorId>BATT_AMPERAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<mapValue mapid="battery-flywheel-vm">
				<getOid default="-1">.1.3.6.1.4.1.318.1.1.1.13.5.4.1.0</getOid>
				</mapValue> Current
			</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvTotalDCCurrent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage/totaldcamps</type>
			<sensorId>TOTAL_DC_AMPERAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.10.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total DC Current</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvBatteryFullCapacity">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>BATTERY_FULL_CHARGE_CAPACITY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.11.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Full Charge Capacity</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvBatteryFrameActualVoltage" index=".1.3.6.1.4.1.318.1.1.1.2.2.12.1.3">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.12.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>BATTERY_<rowIndex/>_VOLTAGE</sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.12.1.3</getRowOid></op>
				<op>
					<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.12.1.2</getRowOid></op><op>1</op></eq></op>
					<op>-1</op>
					<op>1</op>
					</if>
				</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>
				Battery<space/>
				Voltage -<space/>
				Frame <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.13.1.1</getRowOid><space/>
				(<mapValue mapid="apcsmartups/commonValueMaps/batteryPolaritySign-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.13.1.2</getRowOid>
				</mapValue>)
			</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvTotalFrameDCCurrent" index=".1.3.6.1.4.1.318.1.1.1.2.2.13.1.3">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.13.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>BATTERY_<rowIndex/>_CURRENT</sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.13.1.3</getRowOid></op>
				<op>
					<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.13.1.2</getRowOid></op><op>1</op></eq></op>
					<op>-1</op>
					<op>1</op>
					</if>
				</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>
				Battery<space/>
				Current Total -<space/>
				Frame <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.13.1.1</getRowOid><space/>
				(<mapValue mapid="apcsmartups/commonValueMaps/batteryPolaritySign-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.13.1.2</getRowOid>
				</mapValue>)
			</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvBatteryFrameCurrent" index=".1.3.6.1.4.1.318.1.1.1.2.2.14.1.4">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.14.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>BATTERY_<rowIndex/>_CURRENT</sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.14.1.4</getRowOid></op>
				<op>
					<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.14.1.3</getRowOid></op><op>1</op></eq></op>
					<op>-1</op>
					<op>1</op>
					</if>
				</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>
				Battery<space/>
				Current -<space/>
				<regex>
					<op>(\d+)\.(\d+)\.(\d+)</op>
					<op><rowIndex/></op>
					<op>Enclosure %1$s Battery %3$s</op>
				</regex><space/>
				(<mapValue mapid="apcsmartups/commonValueMaps/batteryPolaritySign-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.2.14.1.3</getRowOid>
				</mapValue>)
			</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvBatteryEstimatedChargeTime">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.15.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>BATTERY_ESTIMATED_CHARGE_TIME</sensorId>
			<value>
				<div>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.2.2.15.0</getOid></op>
				<op>6000</op><!-- from TimeTicks -->
				</div>
			</value>
			<valueInc>0.01</valueInc>
			<label>Battery Estimated Charge Time</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvBatteryPower">
			<type>num/powerKW</type>
			<sensorId>_BATTERY_POWER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.16.0</getOid>
			</value>
			<label>
				<mapValue mapid="battery-flywheel-vm">
				<getOid default="-1">.1.3.6.1.4.1.318.1.1.1.13.5.4.1.0</getOid>
				</mapValue> Power
			</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<valueMap ruleid="upsAdvBatteryChargerStatus-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>7</valueIn><valueOut>6</valueOut>
			<valueIn>8</valueIn><valueOut>7</valueOut>
			<valueIn>9</valueIn><valueOut>8</valueOut>
			<valueIn>10</valueIn><valueOut>9</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvBatteryChargerStatus-em">
			<label>Unknown</label>
			<label>OK</label>
			<label>In Fault</label>
			<label>Float Charging</label>
			<label>Boost Charging</label>
			<label>Resting</label>
			<label>Not Charging</label>
			<label>Equalization Charging</label>
			<label>Test in Progress</label>
			<label>Cyclic Float Charging</label>
		</enumMap>
		<stateSensor ruleid="upsAdvBatteryChargerStatus">
			<type>state</type>
			<sensorId>BATTERY_CHARGING_STATUS</sensorId>
			<value>
				<mapValue mapid="upsAdvBatteryChargerStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.17.0</getOid>
				</mapValue>
			</value>
			<label>Battery Charging Status</label>
			<enum>upsAdvBatteryChargerStatus-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.2.2.19.0 | upsAdvBatteryInternalSKU -->
		<!-- .1.3.6.1.4.1.318.1.1.1.2.2.20.0 | upsAdvBatteryExternalSKU -->
		<!-- .1.3.6.1.4.1.318.1.1.1.2.2.21.0 | upsAdvBatteryRecommendedReplaceDate -->

		<numSensor ruleid="upsAdvBatteryNominalBackupTime">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.22.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>NOMINAL_BACKUP_TIME</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.22.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Backup Time</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<valueMap ruleid="upsAdvBatteryCondition-vm">
			<valueIn>*</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvBatteryCondition-em">
			<label>Unknown</label>
			<label>OK</label>
			<label>Weak</label>
			<label>Poor</label>
		</enumMap>
		<stateSensor ruleid="upsAdvBatteryCondition">
			<type>state</type>
			<sensorId>BATTERY_CONDITION</sensorId>
			<value>
				<mapValue mapid="upsAdvBatteryCondition-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.23.0</getOid>
				</mapValue>
			</value>
			<label>Battery Condition</label>
			<enum>upsAdvBatteryCondition-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsAdvBatteryChargingCurrentRestricted-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvBatteryChargingCurrentRestricted-em">
			<label>Unknown</label>
			<label>Yes</label>
			<label>No</label>
		</enumMap>
		<stateSensor ruleid="upsAdvBatteryChargingCurrentRestricted">
			<type>state</type>
			<sensorId>BATTERY_CHARGING_CURRENT_RESTRICTED</sensorId>
			<value>
				<mapValue mapid="upsAdvBatteryChargingCurrentRestricted-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.24.0</getOid>
				</mapValue>
			</value>
			<label>Battery Charging Current Restricted</label>
			<enum>upsAdvBatteryChargingCurrentRestricted-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsAdvBatteryTotalCapacity">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.25.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<units>amphours</units>
			<sensorId>TOTAL_BATTERY_CAPACITY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.25.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Total Capacity</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsAdvBatteryFuseStatus">
			<type>state</type>
			<sensorId>BATTERY_FUSE_STATUS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.26.0</getOid>
				</mapValue>
			</value>
			<label>Battery Fuse Status</label>
			<enum>apcsmartups/commonValueMaps/fuseStatus-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsAdvBatteryBreakerStatus-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvBatteryBreakerStatus-em">
			<label>Not Present</label>
			<label>Disconnected</label>
			<label>Closed</label>
		</enumMap>
		<stateSensor ruleid="upsAdvBatteryBreakerStatus">
			<type>state</type>
			<sensorId>BATTERY_BREAKER_STATUS</sensorId>
			<value>
				<mapValue mapid="upsAdvBatteryBreakerStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.27.0</getOid>
				</mapValue>
			</value>
			<label>Battery Breaker Status</label>
			<enum>upsAdvBatteryBreakerStatus-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsAdvBatteryWiringConfiguration-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvBatteryWiringConfiguration-em">
			<label>Unknown</label>
			<label>Two Wire</label>
			<label>Three Wire</label>
		</enumMap>
		<stateSensor ruleid="upsAdvBatteryWiringConfiguration">
			<type>state</type>
			<sensorId>BATTERY_WIRING_CONFIG</sensorId>
			<value>
				<mapValue mapid="upsAdvBatteryWiringConfiguration-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.2.28.0</getOid>
				</mapValue>
			</value>
			<label>Battery Wiring Configuration</label>
			<enum>upsAdvBatteryWiringConfiguration-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

	</device>

	<!--
		The upsHighPrecBattery sensors are in separate device sections because of
		interference caused by the suppressrule for the upsAdvBattery sensors when
		a upsHighPrecBattery sensor is not present.

		The suppressrule must be used in order for DCE to use the upsHighPrecBattery
		values over upsAdvBattery when applicable but still display the upsAdvBattery
		sensor when upsHighPrecBattery is null or does not exist.
	-->

	<device deviceid="upsHighPrecBatteryCapacity">
		<oidMustExist ruleid="upsHighPrecBatteryCapacity_exists" oid=".1.3.6.1.4.1.318.1.1.1.2.3.1.0" istree="no" />

		<suppressRule suppressid="apcsmartups/upsBattery/upsAdvBatteryCapacity"/>
		<numSensor ruleid="upsHighPrecBatteryCapacity">
			<type>pctofcapacity/pctofbatt</type>
			<sensorId>BATT_CAPACITY_LEFT</sensorId>
			<value>
				<formatNumber printffmt="%f">
					<mult>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.2.3.1.0</getOid></op>
					<op>0.1</op>
					</mult>
				</formatNumber>
			</value>
			<valueInc>0.1</valueInc>
			<label>Battery Capacity Remaining</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsHighPrecBatteryTemperature">
		<oidMustExist ruleid="upsHighPrecBatteryTemperature_exists" oid=".1.3.6.1.4.1.318.1.1.1.2.3.2.0" istree="no" />

		<suppressRule suppressid="apcsmartups/upsBattery/upsAdvBatteryTemperature"/>
		<numSensor ruleid="upsHighPrecBatteryTemperature">
			<type>temp/batttemp</type>
			<sensorId>BATT_TEMP</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.2.3.2.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Battery Temperature</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsHighPrecBatteryNominalVoltage">
		<oidMustExist ruleid="upsHighPrecBatteryNominalVoltage_exists" oid=".1.3.6.1.4.1.318.1.1.1.2.3.3.0" istree="no" />

		<suppressRule suppressid="apcsmartups/upsBattery/upsAdvBatteryNominalVoltage"/>
		<numSensor ruleid="upsHighPrecBatteryNominalVoltage">
			<type>voltageDC</type>
			<sensorId>NOMINAL_BATTERY_VOLTAGE</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.2.3.3.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Nominal Battery Voltage</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsHighPrecBatteryActualVoltage">
		<oidMustExist ruleid="upsHighPrecBatteryActualVoltage_exists" oid=".1.3.6.1.4.1.318.1.1.1.2.3.4.0" istree="no" />

		<suppressRule suppressid="apcsmartups/upsBattery/upsAdvBatteryActualVoltage"/>
		<numSensor ruleid="upsHighPrecBatteryActualVoltage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.3.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage/battvoltage</type>
			<sensorId>BATT_VOLTAGE</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.2.3.4.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Battery Voltage</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>
	</device>

		<!-- .1.3.6.1.4.1.318.1.1.1.2.3.5.0 | upsHighPrecBatteryCurrent -->
		<!-- .1.3.6.1.4.1.318.1.1.1.2.3.6.0 | upsHighPrecTotalDCCurrent -->

	<device deviceid="upsHighPrecBatteryActualVoltageTable">
		<oidMustExist ruleid="upsHighPrecBatteryActualVoltageTable_exists" oid=".1.3.6.1.4.1.318.1.1.1.2.3.7" istree="yes" />

		<suppressRule suppressid="apcsmartups/upsBattery/upsAdvBatteryFrameActualVoltage" />
		<numSensor ruleid="upsHighPrecBatteryVoltage" index="1.3.6.1.4.1.318.1.1.1.2.3.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.7.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>BATTERY_VOLTAGE<rowNumber/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.7.1.3</getRowOid></op>
				<op>
					<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.7.1.2</getRowOid></op><op>1</op></eq></op>
					<op>-0.1</op>
					<op>0.1</op>
					</if>
				</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>
				Battery<space/>
				Voltage -<space/>
				Frame <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.7.1.1</getRowOid><space/>
				(<mapValue mapid="apcsmartups/commonValueMaps/batteryPolaritySign-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.7.1.2</getRowOid>
				</mapValue>)
			</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsHighPrecTotalDCCurrentTable">
		<oidMustExist ruleid="upsHighPrecTotalDCCurrentTable_exists" oid=".1.3.6.1.4.1.318.1.1.1.2.3.8" istree="yes" />

		<suppressRule suppressid="apcsmartups/upsBattery/upsAdvTotalFrameDCCurrent" />
		<numSensor ruleid="upsHighPrecTotalDCFrameCurrent" index=".1.3.6.1.4.1.318.1.1.1.2.3.8.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.8.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>BATTERY_CURRENT<rowNumber/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.8.1.3</getRowOid></op>
				<op>
					<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.8.1.2</getRowOid></op><op>1</op></eq></op>
					<op>-0.1</op>
					<op>0.1</op>
					</if>
				</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>
				Battery<space/>
				Current Total -<space/>
				Frame <getRowOid>1.3.6.1.4.1.318.1.1.1.2.3.8.1.1</getRowOid><space/>
				(<mapValue mapid="apcsmartups/commonValueMaps/batteryPolaritySign-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.3.8.1.2</getRowOid>
				</mapValue>)
			</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>
	</device>

		<!-- .1.3.6.1.4.1.318.1.1.1.2.3.9.1.4 | upsHighPrecBatteryFrameCurrent -->
		<!-- .1.3.6.1.4.1.318.1.1.1.2.3.10.* | upsHighPrecBatteryPacks -->
		<!-- .1.3.6.1.4.1.318.1.1.1.2.3.11.0 | upsHighPrecBatteryHealth -->

	<device deviceid="upsHighPrecActivePower">
		<oidMustExist ruleid="upsHighPrecActivePower_exists" oid=".1.3.6.1.4.1.318.1.1.1.2.3.12.0" istree="no" />

		<suppressRule suppressid="apcsmartups/upsBattery/upsAdvBatteryPower"/>
		<numSensor ruleid="upsHighPrecActivePower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.3.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>BATTERY_POWER</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.2.3.12.0</getOid></op>
				<op>100</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Active Power</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsBatteryNumberOfCabinets">
		<oidMustExist ruleid="has_upsBatteryNumberOfCabinets" oid=".1.3.6.1.4.1.318.1.1.1.2.4.0" istree="no" />

		<numSensor ruleid="upsBatteryNumberOfCabinets">
			<type>num</type>
			<sensorId>BATTERY_NUMBER_OF_CABINETS</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.2.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of Battery Cabinets</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsBatteryCabinetTable">
		<oidMustExist ruleid="has_upsBatteryCabinetTable" oid=".1.3.6.1.4.1.318.1.1.1.2.5" istree="yes" />

		<valueMap ruleid="upsBatteryCabinetWiringConfiguration-vm">
			<valueIn>*</valueIn><valueOut>0</valueOut>
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
		</valueMap>
		<enumMap ruleid="upsBatteryCabinetWiringConfiguration-em">
			<label>Unknown</label>
			<label>Two Wire</label>
			<label>Three Wire</label>
		</enumMap>

		<valueMap ruleid="internalExternalBattCabinet-vm">
			<valueIn>0</valueIn><valueOut>Internal</valueOut>
			<valueIn>*</valueIn><valueOut>External</valueOut>
		</valueMap>

		<stateSensor ruleid="upsBatteryCabinetWiringConfiguration" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>state</type>
			<sensorId>UPS_BATT_CABINET_WIRING_CONFIG_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsBatteryCabinetWiringConfiguration-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.3</getRowOid>
				</mapValue>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Battery Wiring Configuration</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Battery Wiring Configuration</op>
				</if>
			</label>
			<enum>upsBatteryCabinetWiringConfiguration-em</enum>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</stateSensor>

		<valueMap ruleid="fullOrSplitBatterySystem-vm">
			<valueIn>-1</valueIn><valueOut>Battery</valueOut>
			<valueIn>*</valueIn><valueOut>Polarity 1 Battery</valueOut>
		</valueMap>

		<numSensor ruleid="upsBatteryCabinetVoltagePolarity1" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>UPS_BATT_CAB_VOLTS_POLARITY_1_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.4</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>
						UPS Internal Battery Cabinet -<space/>
						<mapValue mapid="fullOrSplitBatterySystem-vm">
							<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.5</getRowOid> <!-- check if using a split battery system -->
						</mapValue> Voltage
					</op>
					<op>
						UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> -<space/>
						<mapValue mapid="fullOrSplitBatterySystem-vm">
							<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.5</getRowOid> <!-- check if using a split battery system -->
						</mapValue> Voltage
					</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetVoltagePolarity2" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.5</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>UPS_BATT_CAB_VOLTS_POLARITY_2_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.5</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Polarity 2 Battery Voltage</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Polarity 2 Battery Voltage</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetCurrentPolarity1" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.6</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>UPS_BATT_CAB_CURRENT_POLARITY_1_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.6</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>
						UPS Internal Battery Cabinet -<space/>
						<mapValue mapid="fullOrSplitBatterySystem-vm">
							<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.5</getRowOid> <!-- check if using a split battery system -->
						</mapValue> Current
					</op>
					<op>
						UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> -<space/>
						<mapValue mapid="fullOrSplitBatterySystem-vm">
							<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.5</getRowOid> <!-- check if using a split battery system -->
						</mapValue> Current
					</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetCurrentPolarity2" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.7</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>UPS_BATT_CAB_CURRENT_POLARITY_2_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.7</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Polarity 2 Battery Current</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Polarity 2 Battery Current</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetAmbientTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_EM_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.8</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Battery Ambient Temperature</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Battery Ambient Temperature</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetMaxTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_MAX_EM_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.9</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Battery Maximum Temperature</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Battery Maximum Temperature</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetMinTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_MIN_EM_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.10</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Battery Minimum Temperature</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Battery Minimum Temperature</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetAverageTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_AVG_EM_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.11</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Battery Average Temperature</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Battery Average Temperature</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsBatteryCabinetFuse" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>state</type>
			<sensorId>UPS_BATT_CAB_FUSE_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.12</getRowOid>
				</mapValue>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Fuse Status</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Fuse Status</op>
				</if>
			</label>
			<enum>apcsmartups/commonValueMaps/fuseStatus-em</enum>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsBatteryCabinetBreaker" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>state</type>
			<sensorId>UPS_BATT_CAB_BREAKER_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/breakerStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.13</getRowOid>
				</mapValue>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Breaker Status</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Breaker Status</op>
				</if>
			</label>
			<enum>apcsmartups/commonValueMaps/breakerStatus-em</enum>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsBatteryCabinetNumberOfStrings" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>num</type>
			<sensorId>UPS_BATT_CAB_NUM_OF_STRINGS_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.14</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Number of Strings</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Number of Strings</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetNumberOfVerticalPositions" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>num</type>
			<sensorId>UPS_BATT_CAB_VERTICAL_POS_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.15</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Number of Battery Vertical Positions</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Number of Battery Vertical Positions</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabinetNumberOfHorizontalPositions" index=".1.3.6.1.4.1.318.1.1.1.2.5.1.1">
			<type>num</type>
			<sensorId>UPS_BATT_CAB_HORIZONTAL_POS_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.16</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Internal Battery Cabinet - Number of Battery Horizontal Positions</op>
					<op>UPS External Battery Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid> - Number of Battery Horizontal Positions</op>
				</if>
			</label>
			<sensorSet>
				UPS Battery Cabinets -<space/>
				<mapValue mapid="internalExternalBattCabinet-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.5.1.2</getRowOid>
				</mapValue>
			</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsBatteryCabStringEntry">
		<oidMustExist ruleid="has_upsBatteryCabStringEntry" oid=".1.3.6.1.4.1.318.1.1.1.2.6.1" istree="yes" />

		<numSensor ruleid="upsBatteryCabStringCurrent" index=".1.3.6.1.4.1.318.1.1.1.2.6.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>UPS_BATT_CAB_STRING_CURRENT_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.4</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in Internal Battery Cabinet - Current</op>
					<op>
						UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in External Battery Cabinet<space/>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid> - Current
					</op>
				</if>
			</label>
			<sensorSet>UPS Battery Strings</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabStringAverageTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.6.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.5</getRowOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_STRING_AVG_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.5</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in Internal Battery Cabinet - Average Temperature</op>
					<op>
						UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in External Battery Cabinet<space/>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid> - Average Temperature
					</op>
				</if>
			</label>
			<sensorSet>UPS Battery Strings</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabStringMaxTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.6.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.6</getRowOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_STRING_MAX_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.6</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in Internal Battery Cabinet - Maximum Temperature</op>
					<op>
						UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in External Battery Cabinet<space/>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid> - Maximum Temperature
					</op>
				</if>
			</label>
			<sensorSet>UPS Battery Strings</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabStringMinTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.6.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.7</getRowOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_STRING_MAX_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.7</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in Internal Battery Cabinet - Minimum Temperature</op>
					<op>
						UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in External Battery Cabinet<space/>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid> - Minimum Temperature
					</op>
				</if>
			</label>
			<sensorSet>UPS Battery Strings</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsBatteryCabStringFuseStatus" index=".1.3.6.1.4.1.318.1.1.1.2.6.1.1">
			<type>state</type>
			<sensorId>UPS_BATT_CABINET_STRING_FUSE_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.8</getRowOid>
				</mapValue>
			</value>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in Internal Battery Cabinet - Fuse Status</op>
					<op>
						UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in External Battery Cabinet<space/>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid> - Fuse Status
					</op>
				</if>
			</label>
			<enum>apcsmartups/commonValueMaps/fuseStatus-em</enum>
			<sensorSet>UPS Battery Strings</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsBatteryCabStringNumberOfBlocks" index=".1.3.6.1.4.1.318.1.1.1.2.6.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.9</getRowOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>UPS_BATT_CAB_STRING_NUMBER_OF_BLOCKS_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.9</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid></op><op>0</op></eq></op>
					<op>UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in Internal Battery Cabinet - Number of Blocks/Modules</op>
					<op>
						UPS Battery String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.3</getRowOid> in External Battery Cabinet<space/>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.6.1.2</getRowOid> - Number of Blocks/Modules
					</op>
				</if>
			</label>
			<sensorSet>UPS Battery Strings</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsBatteryCabBlockEntry">
		<oidMustExist ruleid="has_upsBatteryCabBlockEntry" oid=".1.3.6.1.4.1.318.1.1.1.2.7" istree="yes" />

		<valueMap ruleid="upsBatteryCabBlockPresent-vm">
			<valueIn>*</valueIn><valueOut>0</valueOut>
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
		</valueMap>
		<enumMap ruleid="upsBatteryCabBlockPresent-em">
			<label>Not Available</label>
			<label>Present</label>
			<label>Not Present</label>
		</enumMap>

		<stateSensor ruleid="upsBatteryCabBlockPresent" index=".1.3.6.1.4.1.318.1.1.1.2.7.1.1">
			<type>state</type>
			<sensorId>UPS_BATT_CAB_BLOCK_PRESENT_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsBatteryCabBlockPresent-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.4</getRowOid>
				</mapValue>
			</value>
			<label>
				UPS Battery Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.3</getRowOid><space/>
				in String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.2</getRowOid> - Present
			</label>
			<enum>upsBatteryCabBlockPresent-em</enum>
			<sensorSet>UPS Battery Block</sensorSet>
		</stateSensor>

		<stringSensor ruleid="upsBatteryCabBlockType" index=".1.3.6.1.4.1.318.1.1.1.2.7.1.1">
			<type>string</type>
			<sensorId>UPS_BATT_CAB_BLOCK_TYPE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.5</getRowOid>
			</value>
			<label>
				UPS Battery Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.3</getRowOid><space/>
				in String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.2</getRowOid> - Type
			</label>
			<sensorSet>UPS Battery Block</sensorSet>
		</stringSensor>

		<numSensor ruleid="upsBatteryCabBlockTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.7.1.1">
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_BLOCK_EM_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.6</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				UPS Battery Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.3</getRowOid><space/>
				in String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.2</getRowOid> - Temperature
			</label>
			<sensorSet>UPS Battery Block</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsBatteryCabBlockFuseStatus" index=".1.3.6.1.4.1.318.1.1.1.2.7.1.1">
			<type>state</type>
			<sensorId>UPS_BATT_CAB_BLOCK_FUSE_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.7</getRowOid>
				</mapValue>
			</value>
			<label>
				UPS Battery Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.3</getRowOid><space/>
				in String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.2</getRowOid> - Fuse Status
			</label>
			<enum>apcsmartups/commonValueMaps/fuseStatus-em</enum>
			<sensorSet>UPS Battery Block</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsBatteryCabBlockVoltage" index=".1.3.6.1.4.1.318.1.1.1.2.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.8</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>UPS_BATT_CAB_BLOCK_INPUT1_VAC_1_1__<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.8</getRowOid>
			</value>
			<label>
				UPS Battery Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.3</getRowOid><space/>
				in String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.2</getRowOid> - Voltage
			</label>
			<sensorSet>UPS Battery Block</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabBlockNumberOfCells" index=".1.3.6.1.4.1.318.1.1.1.2.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.9</getRowOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>UPS_BATT_CAB_BLOCK_NUMBER_OF_CELLS_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.9</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				UPS Battery Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.3</getRowOid><space/>
				in String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.2</getRowOid> - Number of Cells
			</label>
			<sensorSet>UPS Battery Block</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabBlockVerticalPosition" index=".1.3.6.1.4.1.318.1.1.1.2.7.1.1">
			<type>num</type>
			<sensorId>UPS_BATT_CAB_BLOCK_VERTICAL_POS_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.10</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				UPS Battery Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.3</getRowOid><space/>
				in String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.2</getRowOid> - Vertical Position
			</label>
			<sensorSet>UPS Battery Block</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabBlockHorizontalPosition" index=".1.3.6.1.4.1.318.1.1.1.2.7.1.1">
			<type>num</type>
			<sensorId>UPS_BATT_CAB_BLOCK_HORIZONTAL_POS_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.11</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				UPS Battery Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.3</getRowOid><space/>
				in String <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.7.1.2</getRowOid> - Horizontal Position
			</label>
			<sensorSet>UPS Battery Block</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsBatteryCabBlockCellEntry">
		<oidMustExist ruleid="has_upsBatteryCabBlockCellEntry" oid=".1.3.6.1.4.1.318.1.1.1.2.8.1" istree="yes" />

		<numSensor ruleid="upsBatteryCabBlockCellVoltage" index=".1.3.6.1.4.1.318.1.1.1.2.8.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.8.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>UPS_BATT_CAB_BLOCK_CELL_INPUT1_VAC_1_1__<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.8.1.4</getRowOid>
			</value>
			<label>
				UPS Battery Block Cell <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.8.1.3</getRowOid><space/>
				in Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.8.1.2</getRowOid> - Voltage
			</label>
			<sensorSet>UPS Battery Cell</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryCabBlockCellTemperature" index=".1.3.6.1.4.1.318.1.1.1.2.8.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.2.8.1.5</getRowOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>UPS_BATT_CAB_BLOCK_CELL_EM_TEMP_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.2.8.1.5</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				UPS Battery Block Cell <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.8.1.3</getRowOid><space/>
				in Block <getRowOid>.1.3.6.1.4.1.318.1.1.1.2.8.1.2</getRowOid> - Temperature
			</label>
			<sensorSet>UPS Battery Cell</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsAdvInput">
		<oidMustExist ruleid="has_upsAdvInput" oid=".1.3.6.1.4.1.318.1.1.1.3.2" istree="yes" />

		<suppressRule ruleid="stompupsmibupsInputVoltage" suppressid="upsmib/upsmib/upsInputVoltage"/>
		<numSensor ruleid="upsAdvInputLineVoltage">
			<type>voltage/inputvoltage</type>
			<sensorId>INPUT_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.1.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Input Voltage</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvInputMaxLineVoltage">
			<type>voltage/inputvoltage/max</type>
			<sensorId>MAX_INPUT_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Input Voltage (Max)</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvInputMinLineVoltage">
			<type>voltage/inputvoltage/max</type>
			<sensorId>MIN_INPUT_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Input Voltage (Min)</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsmibupsInputFrequency" suppressid="upsmib/upsmib/upsInputFrequency"/>
		<numSensor ruleid="upsAdvInputFrequency">
			<type>frequency/inputfrequency</type>
			<sensorId>INPUT_FREQ</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Input Frequency</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.3.2.5.0 | upsAdvInputLineFailCause -->

		<numSensor ruleid="upsAdvInputNominalFrequency">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>frequency</type>
			<sensorId>NOMINAL_MAIN_FREQUENCY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Main Frequency</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvInputNominalVoltage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>NOMINAL_MAIN_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Main Voltage</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvInputBypassNominalFrequency">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>frequency</type>
			<sensorId>NOMINAL_BYPASS_FREQUENCY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Bypass Frequency</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvInputBypassNominalVoltage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>NOMINAL_BYPASS_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Bypass Voltage</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.3.2.10.1.2 | upsAdvInputApparentPower -->

		<numSensor ruleid="upsAdvInputVoltageTHD" index=".1.3.6.1.4.1.318.1.1.1.3.2.10.1.3">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>INPUT_VOLTAGE_THD_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.3</getRowOid>
			</value>
			<label>Input Voltage THD - Phase <getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.1</getRowOid></label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvInputBypassVoltageTHD" index=".1.3.6.1.4.1.318.1.1.1.3.2.10.1.4">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>BYPASS_VOLTAGE_THD_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.4</getRowOid>
			</value>
			<label>Bypass Voltage THD - Phase <getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.1</getRowOid></label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvInputPeakCurrent" index=".1.3.6.1.4.1.318.1.1.1.3.2.10.1.5">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.5</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>INPUT_PEAK_CURRENT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.5</getRowOid>
			</value>
			<label>Input Peak Current - Phase <getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.1</getRowOid></label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvInputBypassPeakCurrent" index=".1.3.6.1.4.1.318.1.1.1.3.2.10.1.6">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.6</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>BYPASS_PEAK_CURRENT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.6</getRowOid>
			</value>
			<label>Bypass Peak Current - Phase <getRowOid>.1.3.6.1.4.1.318.1.1.1.3.2.10.1.1</getRowOid></label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.3.2.10.1.7 | upsAdvInputActivePower -->

		<numSensor ruleid="upsAdvInputTotalApparentPower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>powerVA</type>
			<sensorId>TOTAL_INPUT_APPARENT_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.11.0</getOid>
					</op>
					<op>1000</op>
				</mult>
			</value>
			<label>Total Input Apparent Power</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvInputTotalActivePower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>1.3.6.1.4.1.318.1.1.1.3.2.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>TOTAL_INPUT_ACTIVE_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.12.0</getOid>
					</op>
					<op>1000</op>
				</mult>
			</value>
			<label>Total Input Active Power</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvInputBypassTotalApparentPower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>powerVA</type>
			<sensorId>TOTAL_BYPASS_INPUT_APPARENT_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.13.0</getOid>
					</op>
					<op>1000</op>
				</mult>
			</value>
			<label>Total Bypass Input Apparent Power</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvInputBypassTotalActivePower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.14.0</getOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>TOTAL_BYPASS_INPUT_ACTIVE_POWER</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.14.0</getOid>
					</op>
					<op>1000</op>
				</mult>
			</value>
			<label>Total Bypass Input Active Power</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsmibupsInputCurrent" suppressid="upsmib/upsmib/upsInputCurrent"/>
		<suppressRule ruleid="stompupsmibupsInputTruePower" suppressid="upsmib/upsmib/upsInputTruePower"/>

		<numSensor ruleid="upsAdvInputEnergyUsage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.15.0</getOid>
				</mapValue>
			</rowTest>
			<type>num/kwatthr</type>
			<sensorId>INPUT_ACTIVE_ENERGY_TOTAL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.2.15.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Main Input Active Energy</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.3.2.16.0 | upsAdvInputDCVoltage -->
		<!-- .1.3.6.1.4.1.318.1.1.1.3.2.17.0 | upsAdvInputDCCurrent -->

	</device>

	<device deviceid="upsHighPrecInput">
		<oidMustExist ruleid="has_upsHighPrecInput" oid=".1.3.6.1.4.1.318.1.1.1.3.3" istree="yes" />

		<suppressRule suppressid="apcsmartups/upsAdvInput/upsAdvInputLineVoltage"/>
		<numSensor ruleid="upsHighPrecInputLineVoltage">
			<type>voltage/inputvoltage</type>
			<sensorId>INPUT_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.3.1.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Input Voltage</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<suppressRule suppressid="apcsmartups/upsAdvInput/upsAdvInputMaxLineVoltage"/>
		<numSensor ruleid="upsHighPrecInputMaxLineVoltage">
			<type>voltage/inputvoltage/max</type>
			<sensorId>MAX_INPUT_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.3.2.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Input Voltage (Max)</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<suppressRule suppressid="apcsmartups/upsAdvInput/upsAdvInputMinLineVoltage"/>
		<numSensor ruleid="upsHighPrecInputMinLineVoltage">
			<type>voltage/inputvoltage/max</type>
			<sensorId>MIN_INPUT_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.3.3.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Input Voltage (Min)</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>

		<suppressRule suppressid="apcsmartups/upsAdvInput/upsAdvInputFrequency"/>
		<numSensor ruleid="upsHighPrecInputFrequency">
			<type>frequency/inputfrequency</type>
			<sensorId>INPUT_FREQ</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.3.4.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Input Frequency</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>
		<suppressRule suppressid="apcsmartups/upsAdvInput/upsAdvInputEnergyUsage"/>
		<numSensor ruleid="upsHighPrecInputEnergyUsage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.3.3.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>num/kwatthr</type>
			<sensorId>INPUT_ACTIVE_ENERGY_TOTAL</sensorId>
			<value>
				<mult><op><getOid>.1.3.6.1.4.1.318.1.1.1.3.3.5.0</getOid></op><op>0.01</op></mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Main Input Active Energy</label>
			<sensorSet>UPS Main Input Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsHighPrecInputBypassVoltage">
			<type>voltage/bypassvoltage</type>
			<sensorId>BYPASS_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.3.6.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Input Bypass Voltage</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsHighPrecInputBypassFrequency">
			<type>frequency/bypassfrequency</type>
			<sensorId>BYPASS_FREQ</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.3.3.7.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Input Bypass Frequency</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsBasicOutput">
		<oidMustExist ruleid="has_upsBasicOutput" oid=".1.3.6.1.4.1.318.1.1.1.4.1" istree="yes" />

		<valueMap ruleid="upsBasicOutputStatus-vm">
			<valueIn>1</valueIn>			<valueOut>0</valueOut>
			<valueIn>2</valueIn>			<valueOut>1</valueOut>
			<valueIn>3</valueIn>			<valueOut>2</valueOut>
			<valueIn>4</valueIn>			<valueOut>3</valueOut>
			<valueIn>5</valueIn>			<valueOut>4</valueOut>
			<valueIn>6</valueIn>			<valueOut>5</valueOut>
			<valueIn>7</valueIn>			<valueOut>6</valueOut>
			<valueIn>8</valueIn>			<valueOut>7</valueOut>
			<valueIn>9</valueIn>			<valueOut>8</valueOut>
			<valueIn>10</valueIn>			<valueOut>9</valueOut>
			<valueIn>11</valueIn>			<valueOut>10</valueOut>
			<valueIn>12</valueIn>			<valueOut>11</valueOut>
			<valueIn>13</valueIn>			<valueOut>12</valueOut>
			<valueIn>14</valueIn>			<valueOut>13</valueOut>
			<valueIn>15</valueIn>			<valueOut>14</valueOut>
			<valueIn>16</valueIn>			<valueOut>15</valueOut>
			<valueIn>17</valueIn>			<valueOut>16</valueOut>
			<valueIn>18</valueIn>			<valueOut>17</valueOut>
			<valueIn>19</valueIn>			<valueOut>18</valueOut>
			<valueIn>20</valueIn>			<valueOut>19</valueOut>
			<valueIn>21</valueIn>			<valueOut>20</valueOut>
			<valueIn>22</valueIn>			<valueOut>21</valueOut>
			<valueIn>23</valueIn>			<valueOut>22</valueOut>
			<valueIn>24</valueIn>			<valueOut>23</valueOut>
			<valueIn>25</valueIn>			<valueOut>24</valueOut>
			<valueIn>*</valueIn>			<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsBasicOutputStatus-em">
			<label>Unknown</label>
			<label>On Line</label>
			<label>On Battery</label>
			<label>Boost</label>
			<label>Sleep (Timed)</label>
			<label>Bypass (Software)</label>
			<label>Off</label>
			<label>Rebooting</label>
			<label>Bypass (Switch)</label>
			<label>Bypass (Hardware Failure)</label>
			<label>Sleep (Until Power Return)</label>
			<label>Trim</label>
			<label>Economizer Mode</label>
			<label>Hot Standby</label>
			<label>Battery Test</label>
			<label>Emergency Static Bypass</label>
			<label>Static Bypass Standby</label>
			<label>Power Saving Mode</label>
			<label>SPoT Mode</label>
			<label>e Conversion</label>
			<label>Charger Spot Mode</label>
			<label>Inverter Spot mode</label>
			<label>Active Load</label>
			<label>Battery Discharge Spot Mode</label>
			<label>Inverter Standby</label>
		</enumMap>
		<stateSensor ruleid="upsBasicOutputStatus">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state/upsOutputState</type>
			<sensorId>UPS_BASIC_OUTPUT_STATE</sensorId>
			<value>
				<mapValue mapid="upsBasicOutputStatus-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.1.0</getOid>
				</mapValue>
			</value>
			<label>UPS Operation Mode</label>
			<enum>upsBasicOutputStatus-em</enum>
			<sensorSet>UPS Output Status</sensorSet>
		</stateSensor>

		<suppressRule ruleid="stompupsmibupsOutputSource" suppressid="upsmib/upsmib/upsOutputSource"/>
		<valueMap ruleid="upsBasicOutputPhase-vm">
			<valueIn>1</valueIn>	<valueOut>0</valueOut>
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<stateSensor ruleid="upsBasicOutputPhase">
			<type>phase/outputphase</type>
			<sensorId>OUTPUT_PHASE</sensorId>
			<value>
				<mapValue mapid="upsBasicOutputPhase-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.2.0</getOid>
				</mapValue>
			</value>
			<label>Current Output Phase</label>
			<sensorSet>UPS Output Status</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsBasicSystemStatus-vm">
			<valueIn>1</valueIn>	<valueOut>0</valueOut>
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>4</valueIn>	<valueOut>3</valueOut>
			<valueIn>5</valueIn>	<valueOut>4</valueOut>
			<valueIn>6</valueIn>	<valueOut>5</valueOut>
			<valueIn>7</valueIn>	<valueOut>6</valueOut>
			<valueIn>8</valueIn>	<valueOut>7</valueOut>
			<valueIn>9</valueIn>	<valueOut>8</valueOut>
			<valueIn>10</valueIn>	<valueOut>9</valueOut>
			<valueIn>11</valueIn>	<valueOut>10</valueOut>
			<valueIn>12</valueIn>	<valueOut>11</valueOut>
			<valueIn>13</valueIn>	<valueOut>12</valueOut>
			<valueIn>14</valueIn>	<valueOut>13</valueOut>
			<valueIn>15</valueIn>	<valueOut>14</valueOut>
			<valueIn>16</valueIn>	<valueOut>15</valueOut>
			<valueIn>17</valueIn>	<valueOut>16</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsBasicSystemStatus-em">
			<label>Unknown</label>
			<label>On Line</label>
			<label>On Battery</label>
			<label>Boost</label>
			<label>Sleep (Timed)</label>
			<label>Bypass (Software)</label>
			<label>Off</label>
			<label>Rebooting</label>
			<label>Bypass (Switch)</label>
			<label>Bypass (Hardware Failure)</label>
			<label>Sleep (Until Power Return)</label>
			<label>Trim</label>
			<label>Economizer Mode</label>
			<label>Inverter</label>
			<label>eConversion</label>
			<label>Bypass Standby (Standby)</label>
			<label>Efficiency Booster Mode</label>
		</enumMap>
		<stateSensor ruleid="upsBasicSystemStatus">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>state/upsOutputState</type>
			<sensorId>UPS_BASIC_SYSTEM_STATE</sensorId>
			<value>
				<mapValue mapid="upsBasicSystemStatus-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.3.0</getOid>
				</mapValue>
			</value>
			<label>UPS System State</label>
			<enum>upsBasicSystemStatus-em</enum>
			<sensorSet>UPS Output Status</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsBasicSystemInternalTemperature">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>UPS_INTERNAL_TEMP</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.4.0</getOid>
			</value>
			<label>UPS Internal Temperature</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<valueMap ruleid="okFaulty-vm">
			<valueIn>1</valueIn>			<valueOut>0</valueOut>
			<valueIn>2</valueIn>			<valueOut>1</valueOut>
			<valueIn>3</valueIn>			<valueOut>2</valueOut>
			<valueIn>*</valueIn>			<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="okFaulty-em">
			<label>Unknown</label>
			<label>OK</label>
			<label>In Fault Condition</label>
		</enumMap>

		<stateSensor ruleid="upsBasicSystemInverterStatus">
			<type>state</type>
			<sensorId>_INVERTER_STATUS</sensorId>
			<value>
				<mapValue mapid="okFaulty-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.5.0</getOid>
				</mapValue>
			</value>
			<label>Inverter Status</label>
			<enum>okFaulty-em</enum>
			<sensorSet>UPS Output Status</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsBasicSystemPFCStatus">
			<type>state</type>
			<sensorId>_PFC_STATUS</sensorId>
			<value>
				<mapValue mapid="okFaulty-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.6.0</getOid>
				</mapValue>
			</value>
			<label>PFC Status</label>
			<enum>okFaulty-em</enum>
			<sensorSet>UPS Output Status</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsBasicOutputACwiringConfiguration-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsBasicOutputACwiringConfiguration-em">
			<label>Unknown</label>
			<label>No Neutral Wired on System</label>
			<label>Neutral Used for Supplying Load</label>
		</enumMap>
		<stateSensor ruleid="upsBasicOutputACwiringConfiguration">
			<type>state</type>
			<sensorId>AC_WIRING_CONFIG</sensorId>
			<value>
				<mapValue mapid="upsBasicOutputACwiringConfiguration-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.1.7.0</getOid>
				</mapValue>
			</value>
			<label>AC Wiring Configuration</label>
			<enum>upsBasicOutputACwiringConfiguration-em</enum>
			<sensorSet>UPS Output Status</sensorSet>
		</stateSensor>

	</device>

	<device deviceid="upsAdvOutput">
		<oidMustExist ruleid="has_upsAdvOutput" oid=".1.3.6.1.4.1.318.1.1.1.4.2" istree="yes" />

		<suppressRule ruleid="stompupsmibupsOutputVoltage" suppressid="upsmib/upsmib/upsOutputVoltage"/>
		<suppressRule ruleid="stompupsmibupsOutputCurrent" suppressid="upsmib/upsmib/upsOutputCurrent"/>

		<numSensor ruleid="upsAdvOutputVoltage">
			<type>voltage/outputvoltage</type>
			<sensorId>OUTPUT_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.1.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Voltage</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsmibupsOutputFrequency" suppressid="upsmib/upsmib/upsOutputFrequency"/>
		<suppressRule ruleid="stompupsmibupsOutputFrequency" suppressid="upsmib/upsmib/upsOutputSource"/>

		<numSensor ruleid="upsAdvOutputFrequency">
			<type>frequency/outputfrequency</type>
			<sensorId>OUTPUT_FREQ</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Frequency</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsmibupsOutputPower" suppressid="upsmib/upsmib/upsOutputPower"/>
		<suppressRule ruleid="stompupsmibupsOutputPercentLoad" suppressid="upsmib/upsmib/upsOutputPercentLoad"/>
		<numSensor ruleid="upsAdvOutputLoad">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity/outputload</type>
			<sensorId>OUTPUT_LOAD_PCT</sensorId>
			<value>
				<formatNumber printffmt="%f">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.3.0</getOid>
				</formatNumber>
			</value>
			<valueInc>1</valueInc>
			<label>Output Load</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputCurrent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>TOTAL_OUTPUT_CURRENT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total Output Current</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputRedundancy">
			<type>num</type>
			<sensorId>UPS_ADV_OUTPUT_REDUNDANCY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Actual Redundancy</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputKVACapacity">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>NOMINAL_OUTPUT_APPARENT_POWER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Output Apparent Power</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvOutputNominalFrequency">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>frequency</type>
			<sensorId>NOMINAL_OUTPUT_FREQUENCY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Output Frequency</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputActivePower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>TOTAL_OUTPUT_ACTIVE_POWER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total Output Active Power</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputApparentPower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>powerVA</type>
			<sensorId>TOTAL_OUTPUT_APPARENT_POWER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total Output Apparent Power</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputPeakCurrent" index=".1.3.6.1.4.1.318.1.1.1.4.2.10.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.2</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>OUTPUT_PEAK_CURRENT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.2</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Peak Current - Phase<space/><getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.1</getRowOid></label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputCurrentTHD" index=".1.3.6.1.4.1.318.1.1.1.4.2.10.1.3">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>OUTPUT_CURRENT_THD_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.3</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Current THD - Phase<space/><getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.1</getRowOid></label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputCrestFactor" index=".1.3.6.1.4.1.318.1.1.1.4.2.10.1.4">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>OUTPUT_CREST_FACTOR_<rowIndex/></sensorId>
			<value>
				<mult><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.4</getRowOid></op><op>0.1</op></mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Output Crest Factor - Phase<space/><getRowOid>.1.3.6.1.4.1.318.1.1.1.4.2.10.1.1</getRowOid></label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputNeutralCurrent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>NEUTRAL_CURRENT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.11.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Neutral Current</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvOutputEnergyUsage">
			<type>num/kwatthr</type>
			<sensorId>_OUTPUT_ENERGY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.12.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Energy</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<valueMap ruleid="upsAdvOutputSourceSynchronization-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvOutputSourceSynchronization-em">
			<label>Unknown</label>
			<label>Main</label>
			<label>Internal</label>
			<label>External</label>
			<label>On AC Bypass</label>
			<label>External / On Bypass</label>
		</enumMap>
		<stateSensor ruleid="upsAdvOutputSourceSynchronization">
			<type>state</type>
			<sensorId>SOURCE_SYNCHRONIZATION</sensorId>
			<value>
				<mapValue mapid="upsAdvOutputSourceSynchronization-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.13.0</getOid>
				</mapValue>
			</value>
			<label>Source Synchronization</label>
			<enum>upsAdvOutputSourceSynchronization-em</enum>
			<sensorSet>UPS Output Status</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsAdvOutputInverterFrequency">
			<type>frequency</type>
			<sensorId>OUTPUT_INVERTER_FREQUENCY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.4.2.14.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Inverter Frequency</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsHighPrecOutput">
		<oidMustExist ruleid="has_upsHighPrecOutput" oid=".1.3.6.1.4.1.318.1.1.1.4.3" istree="yes" />

		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputVoltage"/>
		<numSensor ruleid="upsHighPrecOutputVoltage">
			<type>voltage/outputvoltage</type>
			<sensorId>OUTPUT_VOLTAGE</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.4.3.1.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Output Voltage</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<suppressRule ruleid="stompupsmibupsOutputFrequency" suppressid="upsmib/upsmib/upsOutputFrequency"/>
		<suppressRule ruleid="stompupsmibupsOutputFrequency" suppressid="upsmib/upsmib/upsOutputSource"/>
		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputFrequency"/>
		<numSensor ruleid="upsHighPrecOutputFrequency">
			<type>frequency/outputfrequency</type>
			<sensorId>OUTPUT_FREQ</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.4.3.2.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Output Frequency</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<!--


			upsHighPrecOutputLoad has its own device section to prevent interference from suppressrule needed
			for upsAdvOutputLoad when upsHighPrecOutputLoad should be used


		-->

		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputCurrent"/>
		<numSensor ruleid="upsHighPrecOutputCurrent">
			<type>amperage</type>
			<sensorId>UPSOUTPUTCURRENT_1</sensorId>
			<value>
				<mult>
				<op>0.1</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.4.3.4.0</getOid></op>
				</mult>
			</value>
			<label>Output Current</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.4.3.5.0 | upsHighPrecOutputEfficiency -->

		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputEnergyUsage"/>
		<numSensor ruleid="upsHighPrecOutputEnergyUsage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.4.3.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>num/kwatthr</type>
			<sensorId>ENERGY_TOTAL_KWH</sensorId>
			<value>
				<mult>
					<op>0.01</op>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.4.3.6.0</getOid>
					</op>
				</mult>
			</value>
			<label>Total Output Energy Used</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsHighPrecOutputLoad">
		<oidMustExist ruleid="has_upsHighPrecOutputLoad" oid=".1.3.6.1.4.1.318.1.1.1.4.3.3.0" />

		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputLoad"/>
		<numSensor ruleid="upsHighPrecOutputLoad">
			<type>pctofcapacity/outputload</type>
			<sensorId>OUTPUT_LOAD_PCT</sensorId>
			<value>
				<formatNumber printffmt="%f">
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.4.3.3.0</getOid></op>
				<op>0.1</op>
				</mult>
				</formatNumber>
			</value>
			<valueInc>0.1</valueInc>
			<label>Output Load</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsConfig">
		<oidMustExist ruleid="has_upsConfig" oid=".1.3.6.1.4.1.318.1.1.1.5" istree="yes" />

		<numSensor ruleid="upsAdvConfigRatedOutputVoltage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>NOMINAL_OUTPUT_VOLTAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.1.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Output Voltage</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvConfigHighTransferVolt">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>HIGH_TRANSFER_VOLT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Upper Voltage Tolerance</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvConfigLowTransferVolt">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>LOW_TRANSFER_VOLT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Lower Voltage Tolerance</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.4.0 | upsAdvConfigAlarm -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.5.0 | upsAdvConfigAlarmTimer -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.6.0 | upsAdvConfigMinReturnCapacity -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.7.0 | upsAdvConfigSensitivity -->

		<numSensor ruleid="upsAdvConfigLowBatteryRunTime">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>LOW_BATTERY_RUNTIME</sensorId>
			<value>
				<div>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.5.2.8.0</getOid></op>
				<op>6000</op>
				</div>
			</value>
			<valueInc>1</valueInc>
			<label>Low Battery Run Time</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.9.0 | upsAdvConfigReturnDelay -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.10.0 | upsAdvConfigShutoffDelay -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.11.0 | upsAdvConfigUpsSleepTime -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.12.0 | upsAdvConfigSetEEPROMDefaults -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.13.* | upsAdvConfigDipSwitchTable -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.14.0 | upsAdvConfigBattExhaustThresh -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.15.0 | upsAdvConfigPassword -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.16.* | upsAdvConfigAllowedSetTable -->

		<numSensor ruleid="upsAdvConfigBattCabAmpHour">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.17.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<units>amphours</units>
			<sensorId>_TOTAL_BATTERY_CAPACITY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.17.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Total Battery Capacity</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.18.0 | upsAdvConfigPositionSelector -->

		<valueMap ruleid="upsAdvConfigOutputFreqRange-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>7</valueIn><valueOut>6</valueOut>
			<valueIn>8</valueIn><valueOut>7</valueOut>
			<valueIn>9</valueIn><valueOut>8</valueOut>
			<valueIn>10</valueIn><valueOut>9</valueOut>
			<valueIn>11</valueIn><valueOut>10</valueOut>
			<valueIn>12</valueIn><valueOut>11</valueOut>
			<valueIn>13</valueIn><valueOut>12</valueOut>
			<valueIn>14</valueIn><valueOut>13</valueOut>
			<valueIn>15</valueIn><valueOut>14</valueOut>
			<valueIn>16</valueIn><valueOut>15</valueOut>
			<valueIn>17</valueIn><valueOut>16</valueOut>
			<valueIn>18</valueIn><valueOut>17</valueOut>
			<valueIn>19</valueIn><valueOut>18</valueOut>
			<valueIn>20</valueIn><valueOut>19</valueOut>
			<valueIn>21</valueIn><valueOut>20</valueOut>
			<valueIn>22</valueIn><valueOut>21</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigOutputFreqRange-em">
			<label>Unknown</label>
			<label>Auto</label>
			<label>60 +/- 0.1 Hz</label>
			<label>60 +/- 3.0 Hz</label>
			<label>50 +/- 0.1 Hz</label>
			<label>50 +/- 3.0 Hz</label>
			<label>60 +/- 10.0 Hz</label>
			<label>50 +/- 10.0 Hz</label>
			<label>60 +/- 1.0 Hz</label>
			<label>50 +/- 1.0 Hz</label>
			<label>50 Hz +/- 0.5%</label>
			<label>50 Hz +/- 1.0%</label>
			<label>50 Hz +/- 2.0%</label>
			<label>50 Hz +/- 4.0%</label>
			<label>50 Hz +/- 6.0%</label>
			<label>50 Hz +/- 8.0%</label>
			<label>60 Hz +/- 0.5%</label>
			<label>60 Hz +/- 1.0%</label>
			<label>60 Hz +/- 2.0%</label>
			<label>60 Hz +/- 4.0%</label>
			<label>60 Hz +/- 6.0%</label>
			<label>60 Hz +/- 8.0%</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigOutputFreqRange">
			<type>state</type>
			<sensorId>OUTPUT_FREQUENCY_TOLERANCE_RANGE</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigOutputFreqRange-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.19.0</getOid>
				</mapValue>
			</value>
			<label>Output Frequency Tolerance Range</label>
			<enum>upsAdvConfigOutputFreqRange-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsAdvConfigUPSFail-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigUPSFail-em">
			<label>Unknown</label>
			<label>Go to Bypass</label>
			<label>Drop Load</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigUPSFail">
			<type>state</type>
			<sensorId>OUT_OF_TOLERANCE_TRANSFER_ENABLE</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigUPSFail-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.20.0</getOid>
				</mapValue>
			</value>
			<label>Out of Tolerance Transfer Enable</label>
			<enum>upsAdvConfigUPSFail-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsAdvConfigAlarmRedundancy">
			<type>num</type>
			<sensorId>UPS_ADV_CONFIG_ALARM_REDUNDANCY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.21.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Configured Alarm Redundancy</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvConfigAlarmLoadOver">
			<type>num/powerKVA</type>
			<sensorId>UPS_ADV_CONFIG_ALARM_LOAD_OVER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.22.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Configured Alarm Load Threshold</label>
			<sensorSet>UPS Configuration</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.23.0 | upsAdvConfigAlarmRuntimeUnder -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.24.0 | upsAdvConfigVoutReporting -->

		<numSensor ruleid="upsAdvConfigNumExternalBatteries">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.25.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>EXT_BATT_PACKS</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.25.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of External Battery Packs</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.26.0 | upsAdvConfigSimpleSignalShutdowns -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.27.0 | upsAdvConfigMaxShutdownTime -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.28.0 | upsAsiUpsControlServerRequestShutdown -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.29.0 | upsAdvConfigMinReturnRuntime -->

		<numSensor ruleid="upsAdvConfigBasicSignalLowBatteryDuration">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.30.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>LOW_BATTERY_ALARM_THRESHOLD</sensorId>
			<value>
				<div>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.5.2.30.0</getOid></op>
				<op>6000</op>
				</div>
			</value>
			<valueInc>1</valueInc>
			<label>Low Battery Alarm Threshold</label>
			<sensorSet>UPS Configuration</sensorSet>
		</numSensor>

		<valueMap ruleid="upsAdvConfigBypassPhaseLockRequired-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigBypassPhaseLockRequired-em">
			<label>Unknown</label>
			<label>Disabled</label>
			<label>Enabled</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigBypassPhaseLockRequired">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.31.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>BYPASS_PHASE_LOCK</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigBypassPhaseLockRequired-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.31.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Bypass Phase Lock Required</label>
			<enum>upsAdvConfigBypassPhaseLockRequired-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsAdvConfigOutputFreqSlewRate-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>7</valueIn><valueOut>6</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigOutputFreqSlewRate-em">
			<label>Unknown</label>
			<label>0.25 Hz/sec</label>
			<label>0.5 Hz/sec</label>
			<label>1 Hz/sec</label>
			<label>2 Hz/sec</label>
			<label>4 Hz/sec</label>
			<label>6 Hz/sec</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigOutputFreqSlewRate">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.32.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>OUTPUT_FREQ_SLEW_RATE</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigOutputFreqSlewRate-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.32.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Output Frequency Slew Rate</label>
			<enum>upsAdvConfigOutputFreqSlewRate-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.33.0 | upsAdvConfigChargerLevel -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.34.0 | upsAdvConfigBypassToleranceSetting -->

		<valueMap ruleid="upsAdvConfigMainsSetting-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigMainsSetting-em">
			<label>Unknown</label>
			<label>Single Input</label>
			<label>Dual Input</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigMainsSetting">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.35.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>MAINS_SETTING</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigMainsSetting-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.35.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Mains Supply System Type</label>
			<enum>upsAdvConfigMainsSetting-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsAdvConfigACWiringSetting-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigACWiringSetting-em">
			<label>Unknown</label>
			<label>Three Wire</label>
			<label>Four Wire</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigACWiringSetting">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.36.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>AC_WIRING_SETTING</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigACWiringSetting-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.36.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>AC Wiring System Type</label>
			<enum>upsAdvConfigACWiringSetting-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.37.0 | upsAdvConfigUpperOutputVoltTolerance -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.38.0 | upsAdvConfigLowerOutputVoltTolerance -->

		<numSensor ruleid="upsAdvConfigUpperBypassVoltTolerance">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.39.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>BYPASS_HIGH_VOLTAGE_THRESHOLD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.39.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Bypass High Voltage Threshold</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvConfigLowerBypassVoltTolerance">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.40.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>BYPASS_LOW_VOLTAGE_THRESHOLD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.40.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Bypass Low Voltage Threshold</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvConfigOutofSyncBypassTransferDelay">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.41.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>OUT_OF_SYNC_BYPASS_TRANSFER_DELAY</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.5.2.41.0</getOid></op>
				<op>0.001</op>
				</mult>
			</value>
			<valueInc>0.001</valueInc>
			<label>Out of Sync Bypass Transfer Delay</label>
			<sensorSet>UPS Bypass Input Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.42.* | upsAdvConfigUsrSuppBattSetting -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.43.0 | upsAdvConfigWarningAlarmDelay -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.44.0 | upsAdvConfigInformationalAlarmDelay -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.45.0 | upsAdvConfigGreenMode -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.46.0 | upsAdvConfigLCDLocalLanguage -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.47.0 | upsAdvConfigLCDLockOut -->
		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.48.0 | upsAdvConfigChargerRate -->

		<valueMap ruleid="upsAdvConfigBatterySelection-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigBatterySelection-em">
			<label>Unknown</label>
			<label>Valve-Regulated Lead-Acid</label>
			<label>Vented Cell</label>
			<label>Nickel-Cadmium</label>
			<label>Lithium Ion</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigBatterySelection">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.49.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>BATTERY_TYPE</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigBatterySelection-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.49.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Type</label>
			<enum>upsAdvConfigBatterySelection-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsAdvConfigBatteryHealthAlarmWarningTime">
			<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.50.0</getOid>
							</op>
							<op>-1</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>timeindays</type>
			<sensorId>_BATTERY_HEALTH_ALARM_WARNING_TIME</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.50.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Health Alarm Warning Time</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvConfigBatteryHealthAlarmSleepTime">
			<rowTest>
				<if>
					<op>
						<eq>
							<op>
								<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.51.0</getOid>
							</op>
							<op>-1</op>
						</eq>
					</op>
					<op>[false]</op>
					<op>[true]</op>
				</if>
			</rowTest>
			<type>timeindays</type>
			<sensorId>_BATTERY_HEALTH_ALARM_SLEEP_TIME</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.51.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Health Alarm Sleep Time</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvConfigSignalFlashVoltage">
			<type>voltageDC</type>
			<sensorId>_SIGNAL_FLASH_VOLTAGE_THRESHOLD</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.52.0</getOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Signal Flash Voltage Threshold</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvConfigBatteryTemperatureCompensation">
			<type>temp</type>
			<sensorId>_BATTERY_TEMPERATURE_COMPENSATION</sensorId>
			<value>
				<mult>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.53.0</getOid>
					</op>
					<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Battery Temperature Compensation</label>
			<sensorSet>UPS Battery Status</sensorSet>
		</numSensor>

		<valueMap ruleid="upsAdvConfigBatteryChargerType-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigBatteryChargerType-em">
			<label>Unknown</label>
			<label>Internal Charger</label>
			<label>Extended</label>
			<label>Large Extension</label>
			<label>Extra Large Extension</label>
			<label>Double Extra Large Extension</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigBatteryChargerType">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.54.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>BATTERY_CHARGER_TYPE</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigBatteryChargerType-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.54.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Charger Type</label>
			<enum>upsAdvConfigBatteryChargerType-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<stateSensor ruleid="upsAdvConfigAutomaticRestart">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.55.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>AUTOMATIC_RESTART</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.55.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Automatic Restart</label>
			<enum>apcsmartups/commonValueMaps/enabledDisabled-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsAdvConfigDeepDischargeProtection">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.56.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>DEEP_DISCHARGE_PROTECTION</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.56.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Deep Discharge Protection</label>
			<enum>apcsmartups/commonValueMaps/enabledDisabled-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsAdvConfigFreqBypassTransferRange">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.57.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>FREQUENCY_BYPASS_TRANSFER_RANGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.57.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Frequency Bypass Transfer Range</label>
			<sensorSet>UPS Configuration</sensorSet>
		</numSensor>

		<valueMap ruleid="upsAdvConfigUpsPowerconverterType-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>6</valueIn><valueOut>4</valueOut>
			<valueIn>10</valueIn><valueOut>5</valueOut>
			<valueIn>11</valueIn><valueOut>6</valueOut>
			<valueIn>12</valueIn><valueOut>7</valueOut>
			<valueIn>13</valueIn><valueOut>8</valueOut>
			<valueIn>14</valueIn><valueOut>9</valueOut>
			<valueIn>15</valueIn><valueOut>10</valueOut>
			<valueIn>16</valueIn><valueOut>11</valueOut>
			<valueIn>17</valueIn><valueOut>12</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigUpsPowerconverterType-em">
			<label>Unknown</label>
			<label>Galaxy 7000 Unitary 3:3</label>
			<label>Galaxy 7000 Redundant 3:3</label>
			<label>Galaxy 7000 Parallel 3:3</label>
			<label>Galaxy 7000 SSC 3:3</label>
			<label>Galaxy 300 Unitary 3:3</label>
			<label>Galaxy 300 Unitary 3:1</label>
			<label>Galaxy 300 Redundant 3:3</label>
			<label>Galaxy 300 Redundant 3:1</label>
			<label>Galaxy 5000/5500 Unitary</label>
			<label>Galaxy 5000/5500 Parallel</label>
			<label>Galaxy 5000/5500 Unitary Frequency Converter</label>
			<label>Galaxy 5000/5500 Parallel Frequency Converter</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigUpsPowerconverterType">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.58.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>POWER_CONVERTER_TYPE</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigUpsPowerconverterType-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.58.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Power Converter Type</label>
			<enum>upsAdvConfigUpsPowerconverterType-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsAdvConfigFrequencyConverterMode-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>0</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvConfigFrequencyConverterMode-em">
			<label>Unknown</label>
			<label>Auto Ranging</label>
			<label>Frequency Converter</label>
		</enumMap>
		<stateSensor ruleid="upsAdvConfigFrequencyConverterMode">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.59.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>FREQUENCY_CONVERTER_MODE</sensorId>
			<value>
				<mapValue mapid="upsAdvConfigFrequencyConverterMode-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.5.2.59.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>Frequency Converter Mode</label>
			<enum>upsAdvConfigFrequencyConverterMode-em</enum>
			<sensorSet>UPS Configuration</sensorSet>
		</stateSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.5.2.60.0 | upsAdvConfigACQualificationTime -->
	</device>

	<!-- .1.3.6.1.4.1.318.1.1.1.6.* | upsControl -->

	<device deviceid="upsTest">
		<oidMustExist ruleid="has_upsTest" oid=".1.3.6.1.4.1.318.1.1.1.7" istree="yes" />

		<!-- .1.3.6.1.4.1.318.1.1.1.7.2.1.0 | upsAdvTestDiagnosticSchedule -->
		<!-- .1.3.6.1.4.1.318.1.1.1.7.2.2.0 | upsAdvTestDiagnostics -->

		<valueMap ruleid="upsAdvTestDiagnosticsResults-vm">
			<valueIn>1</valueIn>			<valueOut>0</valueOut>
			<valueIn>2</valueIn>			<valueOut>1</valueOut>
			<valueIn>3</valueIn>			<valueOut>2</valueOut>
			<valueIn>4</valueIn>			<valueOut>3</valueOut>
			<valueIn>*</valueIn>			<valueOut>3</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvTestDiagnosticsResults-em">
			<label>OK</label>
			<label>Failed</label>
			<label>Invalid Test</label>
			<label>Test In Progress</label>
		</enumMap>
		<stateSensor ruleid="upsAdvTestDiagnosticsResults">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>state/diagresult</type>
			<sensorId>ADV_DIAG_RESULT</sensorId>
			<value>
				<mapValue mapid="upsAdvTestDiagnosticsResults-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.3.0</getOid>
				</mapValue>
			</value>
			<label>Self-Test Status</label>
			<enum>upsAdvTestDiagnosticsResults-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsAdvTestLastDiagnosticsDate">
			<type>timeindays</type>
			<sensorId>LAST_DIAGNOSTICS_DATE</sensorId>
			<value>
				<round increment="1">
					<div>
						<op>
							<sub>
								<op>
									<curUTCTime/>
								</op>
								<op>
									<parseDate>
										<if>
											<op>
												<!-- does the value use 3-char months? -->
												<regex>
													<op>([a-zA-Z]{3})</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
													</op>
													<op>[true]</op>
													<op>[false]</op>
												</regex>
											</op>
											<op>
												<!-- yes it does use 3-char months-->
												<if>
													<op>
														<!-- does date or month come first? -->
														<regex>
															<op>(\d\d)-([a-zA-Z]{3})-(\d\d)</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
															</op>
															<op>[true]</op>
															<op>[false]</op>
														</regex>
													</op>
													<op>
														<!-- date comes before month -->
														<mapValue mapid="apcsmartups/commonValueMaps/parseMonth-vm">
															<regex>
																<op>\d\d-([a-zA-Z]{3})-\d\d</op>
																<op>
																	<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
																</op>
																<op>%1$s</op>
																<op>Nul</op>
															</regex>
														</mapValue>
											-
														<regex>
															<op>(\d\d)-[a-zA-Z]{3}-\d\d</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
															</op>
															<op>%1$s</op>
															<op>00</op>
														</regex>
													</op>
													<!-- DD-Mon... -->
													<op>
														<!-- month comes before date -->
														<mapValue mapid="apcsmartups/commonValueMaps/parseMonth-vm">
															<regex>
																<op>([a-zA-Z]{3})-\d\d-\d\d</op>
																<op>
																	<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
																</op>
																<op>%1$s</op>
																<op>Nul</op>
															</regex>
														</mapValue>
											-
														<regex>
															<op>[a-zA-Z]{3}-(\d\d)-\d\d</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
															</op>
															<op>%1$s</op>
															<op>00</op>
														</regex>
													</op>
													<!-- Mon-DD... -->
												</if>
										-
												<!-- and year always comes last when 3-char months are used -->
												<regex>
													<op>-(\d\d)$</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
													</op>
													<op>%1$s</op>
													<op>00</op>
												</regex>
												<!-- ...YY -->
											</op>
											<op>
												<!-- does not use 3-char months, just need to rearrange terms -->
												<regex>
													<op>(\d\d\d\d)-(\d\d)-(\d\d)</op>
													<op>
														<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
													</op>
													<op>%2$s\/%3$s\/%1$s</op>
													<!-- YYYY-MM-DD -->
													<op>
														<regex>
															<op>^(\d\d)\.(\d\d)\.(\d\d\d\d)$</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
															</op>
															<!-- DD.MM.YYYY -->
															<op>%2$s\/%1$s\/%3$s</op>
															<op>
																<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.4.0</getOid>
															</op>
															<!-- MM/DD/YYYY -->
														</regex>
													</op>
												</regex>
											</op>
										</if>
									</parseDate>
								</op>
							</sub>
						</op>
						<op>86400</op>
					</div>
				</round>
			</value>
			<minValue>0</minValue>
			<valueInc>1</valueInc>
			<label>Days Since Last UPS Diagnostic Test</label>
			<sensorSet>UPS Test</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.7.2.5.0 | upsAdvTestRuntimeCalibration -->

		<valueMap ruleid="upsAdvTestCalibrationResults-vm">
			<valueIn>1</valueIn>			<valueOut>0</valueOut>
			<valueIn>2</valueIn>			<valueOut>1</valueOut>
			<valueIn>3</valueIn>			<valueOut>2</valueOut>
			<valueIn>*</valueIn>			<valueOut>2</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvTestCalibrationResults-em">
			<label>OK</label>
			<label>Invalid Calibration</label>
			<label>Calibration In Progress</label>
		</enumMap>
		<stateSensor ruleid="upsAdvTestCalibrationResults">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>state/runtimecalresult</type>
			<sensorId>ADV_RUNTIMECAL_RESULT</sensorId>
			<value>
				<mapValue mapid="upsAdvTestCalibrationResults-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.6.0</getOid>
				</mapValue>
			</value>
			<label>Runtime Calibration Status</label>
			<enum>upsAdvTestCalibrationResults-em</enum>
			<sensorSet>UPS Battery Status</sensorSet>
		</stateSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.7.2.7.0 | upsAdvTestCalibrationDate -->
		<!-- .1.3.6.1.4.1.318.1.1.1.7.2.8.0 | upsAdvTestDiagnosticTime -->
		<!-- .1.3.6.1.4.1.318.1.1.1.7.2.9.0 | upsAdvTestDiagnosticDay -->

		<numSensor ruleid="upsAdvTestBatteryInterval">
			<type>timeinhrs</type>
			<sensorId>BATTERY_TEST_INTERVAL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.7.2.10.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Test Interval</label>
			<sensorSet>UPS Test Status</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsComm">
		<oidMustExist ruleid="has_upsComm" oid=".1.3.6.1.4.1.318.1.1.1.8" istree="yes" />

		<valueMap ruleid="upsCommStatus-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsCommStatus-em">
			<label>Unknown</label>
			<label>OK</label>
			<label>No Comm</label>
		</enumMap>
		<stateSensor ruleid="upsCommStatus">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.8.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>UPS_COMM_STATUS</sensorId>
			<value>
				<mapValue mapid="upsCommStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.8.1.0</getOid>
				</mapValue>
			</value>
			<label>UPS Communication Status</label>
			<enum>upsCommStatus-em</enum>
			<sensorSet>default</sensorSet>
		</stateSensor>
	</device>

	<!-- .1.3.6.1.4.1.318.1.1.1.9.1.1.0 | upsPhaseResetMaxMinValues -->

	<device deviceid="upsPhaseInput">
		<oidMustExist ruleid="has_upsPhaseInput" oid=".1.3.6.1.4.1.318.1.1.1.9.2" istree="yes" />

		<suppressRule ruleid="deleteinputphasecount" suppressid="apcsmartups/apcsmartups_discovery/inputphasecount"/>
		<setProductData ruleid="inputphasecount" field="inputphasecount">
			<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.2.1</getOid>
		</setProductData>

		<stateSensor ruleid="upsPhaseInputVoltageOrientation" index=".1.3.6.1.4.1.318.1.1.1.9.2.2.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>state/phaseorientation</type>
			<sensorId>INPUT1_ORIENTATION_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/voltageOrientation-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.3</getRowOid>
				</mapValue>
			</value>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Phase Orientation
			</label>
			<enum>apcsmartups/commonValueMaps/voltageOrientation-em</enum>
			<sensorSet>UPS
				<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</stateSensor>

		<suppressRule suppressid="apcsmartups/upsAdvInput/upsAdvInputFrequency"/>
		<suppressRule suppressid="apcsmartups/upsHighPrecInput/upsHighPrecInputFrequency"/>
		<suppressRule ruleid="stopmbypassfrequency" suppressid="upsmib/upsmib/upsBypassFrequency"/>
		<suppressRule ruleid="stopminputfrequency" suppressid="upsmib/upsmib/upsInputFrequency"/>

		<numSensor ruleid="upsPhaseInputFrequency" index=".1.3.6.1.4.1.318.1.1.1.9.2.2.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>frequency</type>
			<sensorId>INPUT1_HZ_<rowIndex/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.4</getRowOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Frequency
			</label>
			<sensorSet>UPS
				<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.9.2.2.1.5 | upsPhaseInputType -->
		<!-- .1.3.6.1.4.1.318.1.1.1.9.2.2.1.6 | upsPhaseInputName -->

		<suppressRule ruleid="stompbypassvoltage" suppressid="upsmib/upsmib/upsBypassVoltage"/>
		<suppressRule ruleid="stompinputvoltage" suppressid="upsmib/upsmib/upsInputVoltage"/>
		<numSensor ruleid="upsPhaseInputVoltage" index=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltageAC</type>
			<sensorId>INPUT1_VAC_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.3</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Voltage -<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/phaseOrientation-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid>
				</mapValue>
			</label>
			<sensorSet>
				UPS<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsPhaseInputMaxVoltage" index=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltageAC</type>
			<sensorId>INPUT1_VACMAX_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.4</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Max Voltage -<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/phaseOrientation-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid>
				</mapValue>
			</label>
			<sensorSet>
				UPS<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>
		<numSensor ruleid="upsPhaseInputMinVoltage" index=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.5</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltageAC</type>
			<sensorId>INPUT1_VACMIN_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.5</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Min Voltage -<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/phaseOrientation-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid>
				</mapValue>
			</label>
			<sensorSet>
				UPS<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>

		<suppressRule ruleid="stopmbypasscurrent" suppressid="upsmib/upsmib/upsBypassCurrent"/>
		<suppressRule ruleid="stopminputcurrent" suppressid="upsmib/upsmib/upsInputCurrent"/>
		<numSensor ruleid="upsPhaseInputCurrent" index=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.6</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage/input/phase</type>
			<sensorId>INPUT_CURRENT_<rowIndex/></sensorId>
			<value>
				<mult>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.6</getRowOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid>
					</getOid>
				</mapValue>
				<space/>Input Current - Phase
				<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS
				<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid>
					</getOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.9.2.3.1.7 | upsPhaseInputMaxCurrent -->
		<!-- .1.3.6.1.4.1.318.1.1.1.9.2.3.1.8 | upsPhaseInputMinCurrent -->

		<suppressRule ruleid="stompbypasspower" suppressid="upsmib/upsmib/upsBypassPower"/>
		<suppressRule ruleid="stompinputpower" suppressid="upsmib/upsmib/upsInputTruePower"/>
		<numSensor ruleid="upsPhaseInputPower" index=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.9</getRowOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>INPUT1_WATTS_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.9</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid>
					</getOid>
				</mapValue>
				<space/>Input Power - Phase
				<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS
				<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid>
					</getOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.9.2.3.1.10 | upsPhaseInputMaxPower -->
		<!-- .1.3.6.1.4.1.318.1.1.1.9.2.3.1.11 | upsPhaseInputMinPower -->

		<numSensor ruleid="upsPhaseInputApparentPower" index=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.12</getRowOid>
				</mapValue>
			</rowTest>
			<type>powerVA</type>
			<sensorId>INPUT1_VA_<rowIndex/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.12</getRowOid></op>
				<op>1000</op>
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Apparent Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid>
			</label>
			<sensorSet>
				UPS<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>

		<numSensor ruleid="upsPhaseInputPowerFactor" index=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.13</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerfactor</type>
			<sensorId>INPUT_PF_<rowIndex/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.13</getRowOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid>
					</getOid>
				</mapValue>
				<space/>Input Power Factor - Phase
				<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS
				<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid>
					</getOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>

		<numSensor ruleid="upsPhaseInputVoltagePN" index=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.14</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltageAC</type>
			<sensorId>INPUT1_VAC_PN_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.14</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Voltage - Phase <getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid> to Neutral
			</label>
			<sensorSet>
				UPS<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsPhaseOutput">
		<oidMustExist ruleid="has_upsPhaseOutput" oid=".1.3.6.1.4.1.318.1.1.1.9.3" istree="yes" />

		<oidMustNotMatch ruleid="hasnophaseoutput" oid=".1.3.6.1.4.1.318.1.1.1.9.3.1.0">
			<valueList>
				<value>0</value>
			</valueList>
		</oidMustNotMatch>

		<suppressRule ruleid="deleteoutputphasecount" suppressid="apcsmartups/apcsmartups_discovery/outputphasecount"/>
		<setProductData ruleid="outputphasecount" field="outputphasecount">
			<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.2.1.2.1</getOid>
		</setProductData>

		<suppressRule suppressid="apcsmartups/upsBasicOutput/upsBasicOutputPhase"/>
		<stateSensor ruleid="upsPhaseOutputVoltageOrientation" index=".1.3.6.1.4.1.318.1.1.1.9.3.2.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.2.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>state/phaseorientation</type>
			<sensorId>PHASE_ORIENTATION_<rowNumber/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/voltageOrientation-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.2.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Output Phase Orientation</label>
			<enum>apcsmartups/commonValueMaps/voltageOrientation-em</enum>
			<sensorSet>UPS Output Status</sensorSet>
		</stateSensor>

		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputFrequency"/>
		<suppressRule suppressid="apcsmartups/upsHighPrecOutput/upsHighPrecOutputFrequency"/>
		<suppressRule ruleid="stompupsmibupsOutputFrequency" suppressid="upsmib/upsmib/upsOutputFrequency"/>
		<suppressRule ruleid="stompupsmibupsOutputFrequency" suppressid="upsmib/upsmib/upsOutputSource"/>
		<numSensor ruleid="upsPhaseOutputFrequency" index=".1.3.6.1.4.1.318.1.1.1.9.3.2.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.2.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>frequency</type>
			<sensorId>UPS_PHASE_OUTPUT_FREQ_<rowNumber/></sensorId>
			<value>
				<mult>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.2.1.4</getRowOid>
					</op>
					<op>0.1</op>
				</mult>
			</value>
			<label>Output Frequency</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputVoltage"/>
		<suppressRule suppressid="apcsmartups/upsHighPrecOutput/upsHighPrecOutputVoltage"/>
		<suppressRule ruleid="stompouputvoltage" suppressid="upsmib/upsmib/upsOutputVoltage"/>

		<numSensor ruleid="upsPhaseOutputVoltage" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltageAC</type>
			<sensorId>OUTPUT_VAC_<rowNumber/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.3</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				Output Voltage -<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/phaseOrientation-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.1</getRowOid></getOid>
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.2</getRowOid>
				</mapValue>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputCurrent"/>
		<suppressRule ruleid="stompoutputcurrent" suppressid="upsmib/upsmib/upsOutputCurrent"/>

		<numSensor ruleid="upsPhaseOutputCurrent" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>UPSOUTPUTCURRENT_<rowNumber/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.4</getRowOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<label>Output Current - Phase
				<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.5 | upsPhaseOutputMaxCurrent -->
		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.6 | upsPhaseOutputMinCurrent -->

		<numSensor ruleid="upsPhaseOutputLoad" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.1.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1</getRowOid>
				</mapValue>
			</rowTest>
			<type>powerVA/apparentpower/phase</type>
			<sensorId>OUTPUT_APPARENT_POWER_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1</getRowOid>
			</value>
			<label>Output Power VA - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2.1.1</getRowOid>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.8 | upsPhaseOutputMaxLoad -->
		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.9 | upsPhaseOutputMinLoad -->

		<!--


			upsPhaseOutputPercentLoad has it's own device section because of interference
			from the suppressrule needed for updAdvOutputLoad and upsHighPrecOutputLoad
			that is needed when this sensor exists.


		-->

		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.11 | upsPhaseOutputMaxPercentLoad -->
		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.12 | upsPhaseOutputMinPercentLoad -->

		<numSensor ruleid="upsPhaseOutputPower" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.2">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.13</getRowOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>OUTPUT_POWER_<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.13</getRowOid>
			</value>
			<label>Output Power Watts - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.14 | upsPhaseOutputMaxPower -->
		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.15 | upsPhaseOutputMinPower -->

		<numSensor ruleid="upsPhaseOutputPercentPower" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.16</getRowOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity/percentload</type>
			<sensorId>OUTPUT_PCT_W_PHASE<rowNumber/></sensorId>
			<value>
				<formatNumber printffmt="%f">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.16</getRowOid>
				</formatNumber>
			</value>
			<valueInc>1</valueInc>
			<label>Output Power Percent Watts - Phase
				<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.17 | upsPhaseOutputMaxPercentPower -->
		<!-- .1.3.6.1.4.1.318.1.1.1.9.3.3.1.18 | upsPhaseOutputMinPercentPower -->

		<numSensor ruleid="upsPhaseOutputPowerFactor" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.19">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.19</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerfactor</type>
			<sensorId>OUTPUT_POWER_FACTOR_<rowIndex/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.19</getRowOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Output Power Factor - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsPhaseOutputApparentPower" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.20</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>OUTPUT_APPARENT_POWER_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.20</getRowOid>
			</value>
			<label>Output Apparent Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

		<numSensor ruleid="upsPhaseOutputInverterVoltage" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.21">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.21</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>OUTPUT_INVERTER_VOLTAGE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.21</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Inverter Voltage - Phase <getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid></label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsPhaseOutputVoltagePN" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.22">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.22</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>OUTPUT_VOLTAGE_L2N_<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.22</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Output Voltage - Phase <getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid> to Neutral </label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsPhaseOutputPercentLoad">
		<oidMustExist ruleid="has_upsPhaseOutput_PercentLoad" oid=".1.3.6.1.4.1.318.1.1.1.9.3" istree="yes" />

		<oidMustNotMatch ruleid="hasnoupsPhaseOutputPercentLoad" oid=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.10.1.1">
			<valueList>
				<value>-1</value>
			</valueList>
		</oidMustNotMatch>

		<suppressRule suppressid="apcsmartups/upsAdvOutput/upsAdvOutputLoad"/>
		<suppressRule suppressid="apcsmartups/upsHighPrecOutput/upsHighPrecOutputLoad"/>
		<numSensor ruleid="upsPhaseOutputPercentLoad" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.10</getRowOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity/percentload</type>
			<sensorId>OUTPUT_PCT_VA_<rowNumber/></sensorId>
			<value>
				<formatNumber printffmt="%f">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.10</getRowOid>
				</formatNumber>
			</value>
			<valueInc>1</valueInc>
			<label>Output Power Percent VA - Phase
				<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>

	</device>

	<device deviceid="threephaseUPSinputpower">
		<oidMustMatch ruleid="smartupssysid" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.5</value>				<!-- Symmetra -->
				<value>.1.3.6.1.4.1.318.1.3.5.*</value>				<!-- Other Symmetra -->
				<value>.1.3.6.1.4.1.318.1.3.7</value>				<!-- SmartUPS DP300E -->
				<value>.1.3.6.1.4.1.318.1.3.7.*</value>				<!-- SmartUPS DP300E -->
				<value>.1.3.6.1.4.1.318.1.3.13</value>				<!-- Symmetra 3P -->
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>				<!-- Other Symmetra 3P -->
				<value>.1.3.6.1.4.1.318.1.3.16</value>				<!-- AIS5000 -->
				<value>.1.3.6.1.4.1.318.1.3.16.*</value>				<!-- Other AIS5000 -->
				<!--<value>.1.3.6.1.4.1.318.1.3.21</value>-->				<!-- GUTOR -->
				<!--<value>.1.3.6.1.4.1.318.1.3.21.*</value>-->				<!-- GUTOR -->
				<value>.1.3.6.1.4.1.318.1.3.23</value>				<!-- Symmetra PX2 -->
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>				<!-- Other Symmetra PX2 -->
			</valueList>
		</oidMustMatch>
		<!-- phase input table index for this input must exist -->
		<oidMustExist oid=".1.3.6.1.4.1.318.1.1.1.9.2.2.1.1.1"/>
		<suppressRule ruleid="stompbypassvoltage" suppressid="upsmib/upsmib/upsBypassPower"/>
		<suppressRule ruleid="stompinputpower" suppressid="upsmib/upsmib/upsInputTruePower"/>

		<numSensor ruleid="inputwattstotal" index=".1.3.6.1.4.1.318.1.1.1.9.2.2.1.1">
			<rowTest>
				<and>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
							<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.9.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.1</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
							<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.9.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.2</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
							<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.9.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.3</getOid>
						</mapValue>
					</op>
				</and>
			</rowTest>
			<type>num/powerKW</type>
			<sensorId>INPUT_POWER_TOTAL_<rowIndex/></sensorId>
			<value>
				<div>
				<op>
					<add>
					<op>
						<add>
						<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.9.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.1</getOid></op>
						<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.9.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.2</getOid></op>
						</add>
					</op>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.9.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.3</getOid></op>
					</add>
				</op>
				<op>1000</op>
				</div>
			</value>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Power Total
			</label>
			<sensorSet>UPS
				<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>

		<numSensor ruleid="inputapparentpowertotal" index=".1.3.6.1.4.1.318.1.1.1.9.2.2.1.1">
			<rowTest>
				<and>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.1</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.2</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.3</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.1</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.2</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.3</getOid>
						</mapValue>
					</op>
				</and>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>INPUT_APPARENT_POWER_TOTAL_<rowIndex/></sensorId>
			<value>
				<div>
				<op>
					<add>
					<op>
						<add>
						<op>
							<mult>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.1</getOid></op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.1</getOid></op>
							</mult>
						</op>
						<op>
							<mult>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.2</getOid></op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.2</getOid></op>
							</mult>
						</op>
						</add>
					</op>
					<op>
						<mult>
						<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.3</getOid></op>
						<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.3</getOid></op>
						</mult>
					</op>
					</add>
				</op>
				<op>
					<!--
						divide by 10 (deciamperes->amperes) * 1000 (VA->kVA)
						if upsPhaseInputVoltageOrientation = 5 (3Phase, Phase-Phase), also divide by sqrt(3) (1.7321...)
					-->
					<if>
					<op><eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.3</getRowOid></op><op>5</op></eq></op>
					<op>17321</op>
					<op>10000</op>
					</if>
				</op>
				</div>
			</value>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Apparent Power Total
			</label>
			<sensorSet>UPS
				<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>
	</device>

	<device deviceid="threephaseUPSinputVA">
		<!-- Replace derived input apparent power sensors for devices which report input apparent power by phase  -->
		<oidMustMatch ruleid="smartupssysid" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.5</value>				<!-- Symmetra -->
				<value>.1.3.6.1.4.1.318.1.3.5.*</value>				<!-- Other Symmetra -->
				<value>.1.3.6.1.4.1.318.1.3.7</value>				<!-- SmartUPS DP300E -->
				<value>.1.3.6.1.4.1.318.1.3.7.*</value>				<!-- SmartUPS DP300E -->
				<value>.1.3.6.1.4.1.318.1.3.13</value>				<!-- Symmetra 3P -->
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>				<!-- Other Symmetra 3P -->
				<value>.1.3.6.1.4.1.318.1.3.16</value>				<!-- AIS5000 -->
				<value>.1.3.6.1.4.1.318.1.3.16.*</value>				<!-- Other AIS5000 -->
				<value>.1.3.6.1.4.1.318.1.3.21</value>				<!-- GUTOR -->
				<value>.1.3.6.1.4.1.318.1.3.21.*</value>				<!-- GUTOR -->
				<value>.1.3.6.1.4.1.318.1.3.23</value>				<!-- Symmetra PX2 -->
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>				<!-- Other Symmetra PX2 -->
			</valueList>
		</oidMustMatch>
		<oidMustExist oid=".1.3.6.1.4.1.318.1.1.1.9.2.3.1.12.1.1.1"/>
		<suppressRule suppressid="apcsmartups/threephaseUPSinputpower/inputvaphase"/>
		<suppressRule suppressid="apcsmartups/threephaseUPSinputpower/inputapparentpowertotal"/>

		<numSensor ruleid="inputapparentpowertotal" index=".1.3.6.1.4.1.318.1.1.1.9.2.2.1.1">
			<rowTest>
				<and>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
							<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.12.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.1</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
							<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.12.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.2</getOid>
						</mapValue>
					</op>
					<op>
						<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
							<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.12.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.3</getOid>
						</mapValue>
					</op>
				</and>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>INPUT_APPARENT_POWER_TOTAL_<rowIndex/>
			</sensorId>
			<value>
				<add>
					<op>
						<add>
							<op>
								<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.12.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.1</getOid>
							</op>
							<op>
								<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.12.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.2</getOid>
							</op>
						</add>
					</op>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.2.3.1.12.<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.1</getRowOid>.1.3</getOid>
					</op>
				</add>
			</value>
			<label>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Apparent Power Total
			</label>
			<sensorSet>UPS
				<space/>
				<mapValue mapid="apcsmartups/commonValueMaps/upsPhaseInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.2.2.1.5</getRowOid>
				</mapValue>
				<space/>Input Status
			</sensorSet>
		</numSensor>
	</device>

	<device deviceid="threephasetotalpower">
		<oidMustMatch ruleid="smartupssysid" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.311.1.1.*</value>				<!--PCBE Windows -->
				<value>.1.3.6.1.4.1.318.1.3.3</value>				<!-- MatrixUPS -->
				<value>.1.3.6.1.4.1.318.1.3.3.*</value>				<!-- Other MatrixUPS -->
				<value>.1.3.6.1.4.1.318.1.3.5</value>				<!-- Symmetra -->
				<value>.1.3.6.1.4.1.318.1.3.5.*</value>				<!-- Other Symmetra -->
				<value>.1.3.6.1.4.1.318.1.3.6.*</value>				<!-- SmartUPS DP -->
				<value>.1.3.6.1.4.1.318.1.3.6</value>				<!-- SmartUPS DP -->
				<value>.1.3.6.1.4.1.318.1.3.7.*</value>				<!-- SmartUPS DP300E -->
				<value>.1.3.6.1.4.1.318.1.3.7</value>				<!-- SmartUPS DP300E -->
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>				<!-- Other Symmetra 3P -->
				<value>.1.3.6.1.4.1.318.1.3.13</value>				<!-- Symmetra 3P -->
				<value>.1.3.6.1.4.1.318.1.3.16.*</value>				<!-- Other AIS5000 -->
				<value>.1.3.6.1.4.1.318.1.3.16</value>				<!-- AIS5000 -->
				<value>.1.3.6.1.4.1.318.1.3.17</value>				<!-- SmartUPS VT -->
				<value>.1.3.6.1.4.1.318.1.3.17.*</value>				<!-- Other SmartUPS VT -->
				<value>.1.3.6.1.4.1.318.1.3.21</value>				<!-- GUTOR -->
				<value>.1.3.6.1.4.1.318.1.3.21.*</value>				<!-- Other GUTOR -->
				<value>.1.3.6.1.4.1.318.1.3.23</value>				<!-- Symmetra PX2 -->
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>				<!-- Other Symmetra PX2 -->
				<value>.1.3.6.1.4.1.318.1.3.8.4.1.3.5.*</value>				<!-- RMSY -->
			</valueList>
		</oidMustMatch>
		<oidMustExist oid=".1.3.6.1.4.1.318.1.1.1.9.3.2.1.2.1"/>
		<oidMustMatch ruleid="phasecount" oid=".1.3.6.1.4.1.318.1.1.1.9.3.2.1.2.1">
			<valueList>
				<value>3</value>
			</valueList>
		</oidMustMatch>

		<numSensor ruleid="totaloutputapparentpower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.3</getOid>
				</mapValue>
			</rowTest>
			<type>powerVA</type>
			<sensorId>OUTPUT_APPARENT_POWER_TOTAL</sensorId>
			<value>
				<add>
					<op>
						<add>
							<op>
								<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.1</getOid>
							</op>
							<op>
								<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.2</getOid>
							</op>
						</add>
					</op>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.3</getOid>
					</op>
				</add>
			</value>
			<label>Output Power VA - Phase Sum</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
		<suppressRule ruleid="stomptotalPowerOutputSensor" suppressid="upsmib/upsmib/totalPowerOutputSensor"/>
		<suppressRule ruleid="stomptotalPowerOutputSensor" suppressid="upsmib/upsmib/totalOutputPowerLoadPercentSensor"/>
		<suppressRule ruleid="stompoutputload" suppressid="upsmib/upsmib/upsOutputPercentLoad"/>
		<suppressRule ruleid="stompoutputpower" suppressid="upsmib/upsmib/upsOutputPower"/>
		<numSensor ruleid="totaloutputactivepower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.13.1.1.3</getOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>OUTPUT_POWER_TOTAL</sensorId>
			<value>
				<add>
					<op>
						<add>
							<op>
								<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.13.1.1.1</getOid>
							</op>
							<op>
								<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.13.1.1.2</getOid>
							</op>
						</add>
					</op>
					<op>
						<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.13.1.1.3</getOid>
					</op>
				</add>
			</value>
			<label>Output Power Watts - Phase Sum</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
	</device>

	<!--
		Some devices do not support per-Phase output power in watts.

		For these devices, use the per-Phase output apparent power in VA,
		and render it in watts (assumed Power Factor = 1.00)

		deviceid="substitutePhasePower" 			=> per-Phase sensor
		deviceid="substitutethreephasetotalpower"	=> calculated total of all 3 Phases
	-->

	<device deviceid="substitutePhasePower">
		<oidMustMatch ruleid="threephasepowermissing" oid=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.13" istree="yes">
			<valueList>
				<value>-1</value>
			</valueList>
		</oidMustMatch>
		<oidMustNotMatch ruleid="galaxysysobjid" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28</value>		<!-- Galaxy -->
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>	<!-- other Galaxy -->
				<value>.1.3.6.1.4.1.318.1.3.30</value>		<!-- EPS UPS -->
				<value>.1.3.6.1.4.1.318.1.3.30.*</value>	<!-- EPS UPS subtypes -->
			</valueList>
		</oidMustNotMatch>

		<suppressRule suppressid="apcsmartups/upsPhaseOutput/upsPhaseOutputPower"/>

		<numSensor ruleid="upsPhaseOutputPower_fromVA" index=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7</getRowOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>OUTPUT_POWER_<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7</getRowOid>
			</value>
			<label>Output Power Watts - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.2</getRowOid>
			</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
	</device>
	<device deviceid="substitutethreephasetotalpower">
		<oidMustExist oid=".1.3.6.1.4.1.318.1.1.1.9.3.2.1.2.1"/>
		<oidMustMatch ruleid="phasecount" oid=".1.3.6.1.4.1.318.1.1.1.9.3.2.1.2.1">
			<valueList>
				<value>3</value>
			</valueList>
		</oidMustMatch>

		<oidMustMatch ruleid="threephasepowermissing" oid=".1.3.6.1.4.1.318.1.1.1.9.3.3.1.13" istree="yes">
			<valueList>
				<value>-1</value>
			</valueList>
		</oidMustMatch>
		<oidMustNotMatch ruleid="galaxysysobjid" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28</value>				<!-- Galaxy -->
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>			<!-- other Galaxy -->
				<value>.1.3.6.1.4.1.318.1.3.30</value>				<!-- EPS UPS -->
				<value>.1.3.6.1.4.1.318.1.3.30.*</value>			<!-- EPS UPS subtypes -->
			</valueList>
		</oidMustNotMatch>

		<suppressRule suppressid="apcsmartups/upsPhaseOutput/totaloutputactivepower"/>

		<suppressRule ruleid="stomptotalPowerOutputSensor" suppressid="upsmib/upsmib/totalPowerOutputSensor"/>
		<suppressRule ruleid="stomptotalPowerOutputSensor" suppressid="upsmib/upsmib/totalOutputPowerLoadPercentSensor"/>
		<suppressRule ruleid="stompoutputload" suppressid="upsmib/upsmib/upsOutputPercentLoad"/>
		<suppressRule ruleid="stompoutputpower" suppressid="upsmib/upsmib/upsOutputPower"/>

		<numSensor ruleid="totaloutputactivepower_fromVA">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.3</getOid>
				</mapValue>
			</rowTest>
			<type>powerW</type>
			<sensorId>OUTPUT_POWER_TOTAL</sensorId>
			<value>
				<add>
				<op>
					<add>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.1</getOid></op>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.2</getOid></op>
					</add>
				</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.3</getOid></op>
				</add>
			</value>
			<label>Total Output Active Power</label>
			<sensorSet>UPS Output Status</sensorSet>
		</numSensor>
	</device>

	<!-- .1.3.6.1.4.1.318.1.1.1.10.* | upsSyncCtrlGroup -->

	<device deviceid="upsBasicState">
		<oidMustExist ruleid="has_upsState" oid=".1.3.6.1.4.1.318.1.1.1.11.1" istree="yes" />

		<oidMustNotExist ruleid="essentialtest" oid=".1.3.6.1.4.1.318.1.4.2.9.0"/>
		<oidMustExist ruleid="outputStateExists" oid=".1.3.6.1.4.1.318.1.1.1.11.1.1.0"/>
		<oidMustNotMatch ruleid="outputStateSupported" oid=".1.3.6.1.4.1.318.1.1.1.11.1.1.0">
			<valueList>
				<value>UNKNOWN</value>
			</valueList>
		</oidMustNotMatch>

		<!-- make sure generic device status alarms (Critical/Warning condition exists) are not generated as well -->
		<suppressRule ruleid="stompgenericalarms" suppressid="core/apcdiscgenericalarms/apcDiscoveryStatus_row1"/>
		<alarmFlags ruleid="upsBasicStateOutputState">
			<value>
				<baseNToInt base="2">
					<reverseString>
						<getOid>.1.3.6.1.4.1.318.1.1.1.11.1.1.0</getOid>
					</reverseString>
				</baseNToInt>
			</value>
			<!-- On battery - power failure event 0x0109 cleared=0x010A -->
			<!-- Note - make sure self-test and battery calibrate are NOT active, so we don't make bad alert -->
			<alarmFlagsTest mask="4000202" match="2">
				<name>
					<activeText>Power Failure</activeText>
					<inactiveText>Power Failure Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Input</category>
				<description>
					<activeText>On battery power in response to an input power problem.</activeText>
					<inactiveText>No longer on battery power.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the UPS is connected to its power source correctly, and that source is providing the proper power.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Low battery - event 0x010F cleared=0x0110 but only when not discharged battery -->
			<alarmFlagsTest mask="404" match="4">
				<name>
					<activeText>Low Battery</activeText>
					<inactiveText>Low Battery Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>The battery power is too low to continue to support the load; the UPS will shut down if input power does not return to normal soon.</activeText>
					<inactiveText>A low battery condition no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>The UPS cannot continue to use its battery power to support its load equipment. The remaining runtime equals, or is less than, the runtime defined by its "Low Battery" setting. Consider upgrading to a UPS that provides more runtime.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Replace battery - event 0x0119 cleared=0x011A -->
			<alarmFlagsTest mask="10" match="10">
				<name>
					<activeText>Replacement Battery Needed</activeText>
					<inactiveText>Battery Replaced</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>At least one faulty battery exists.</activeText>
					<inactiveText>A faulty battery no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Replace all faulty batteries.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Serial communications lost -->
			<alarmFlagsTest mask="20" match="0">
				<name>
					<activeText>Local Management-To-UPS Communication Lost</activeText>
					<inactiveText>Local Management-To-UPS Communication Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Communication</category>
				<description>
					<activeText>Lost the local network management interface-to-UPS communication.</activeText>
					<inactiveText>Restored the local network management interface-to-UPS communication.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the UPS and its agent are connected to each other properly, and that normal power is available to both.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- AVR Boost Active - log -->
			<alarmFlagsTest mask="40" match="40">
				<name>
					<activeText>AVR Boost Active</activeText>
					<inactiveText>AVR Boost No Longer Active</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Output</category>
				<description>
					<activeText>AVR (Automatic Voltage Regulator) Boost is active.</activeText>
					<inactiveText>AVR (Automatic Voltage Regulator) Boost is no longer active.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>No action required.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- AVR Trim Active - log -->
			<alarmFlagsTest mask="80" match="80">
				<name>
					<activeText>AVR Trim Active</activeText>
					<inactiveText>AVR Trim No Longer Active</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Output</category>
				<description>
					<activeText>AVR (Automatic Voltage Regulator) Trim is active.</activeText>
					<inactiveText>AVR (Automatic Voltage Regulator) Trim is no longer active.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>No action required.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Overload - event 0x0103, cleared=0x0104 -->
			<alarmFlagsTest mask="100" match="100">
				<name>
					<activeText>Overload</activeText>
					<inactiveText>Overload Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Output</category>
				<description>
					<activeText>The load exceeds 100% of rated capacity.</activeText>
					<inactiveText>The load no longer exceeds 100% of rated capactity.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Reduce the load on the UPS to a safe level (less than 100%) or upgrade to a unit that can support the existing load.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Battery discharged - event 0x0108, cleared=0x0109 -->
			<alarmFlagsTest mask="400" match="400">
				<name>
					<activeText>Discharged Battery</activeText>
					<inactiveText>Discharged Battery Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>The battery power is too low to support the load; if power fails, the UPS will be shut down immediately.</activeText>
					<inactiveText>A discharged battery condition no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>This condition typically exists following a runtime calibration, or when the UPS returns to online operation following a prolonged power failure. In both cases, monitoring the UPS should show that battery power is recharging.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Manual bypass - event 0x11d cleared=0x11e -->
			<alarmFlagsTest mask="800" match="800">
				<name>
					<activeText>In Bypass: UPS Switch</activeText>
					<inactiveText>No Longer In Bypass</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Bypass</category>
				<description>
					<activeText>In bypass in response to the bypass switch at the UPS, typically for maintenance.</activeText>
					<inactiveText>No longer in bypass.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>The switch at the UPS was used to put the UPS into bypass mode, typically for maintenance. Since the UPS cannot support its load if a power failure occurs, return the UPS to online operation as soon as possible.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Software bypass - event 0x11c cleared=0x11e -->
			<alarmFlagsTest mask="1000" match="1000">
				<name>
					<activeText>In Bypass: User-Initiated</activeText>
					<inactiveText>No Longer In Bypass</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Bypass</category>
				<description>
					<activeText>In bypass in response to the UPS front-panel or a user-initiated software command, typically for maintenance.</activeText>
					<inactiveText>No longer in bypass.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>A user-initiated command from a management application or UPS accessory put the UPS into bypass mode, typically for maintenance. Since the UPS cannot support its load if a power failure occurs, return the UPS to online operation as soon as possible.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- In Bypass due to Internal Fault: event 0x11b cleared=0x11e -->
			<alarmFlagsTest mask="2000" match="2000">
				<name>
					<activeText>In Bypass: Hardware Fault</activeText>
					<inactiveText>No Longer In Bypass</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>In bypass in response to an internal hardware fault.</activeText>
					<inactiveText>No longer in bypass.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure is preventing the UPS from supporting its load if a power failure occurs.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- In Bypass due to Supply Failure: event 0x11f cleared=0x11e -->
			<alarmFlagsTest mask="4000" match="4000">
				<name>
					<activeText>Bypass Power Supply Fault</activeText>
					<inactiveText>Bypass Power Supply Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A bypass power supply fault exists.</activeText>
					<inactiveText>A bypass power supply fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- In Bypass due to Fan Failure: event 0x120 cleared=0x11e -->
			<alarmFlagsTest mask="8000" match="8000">
				<name>
					<activeText>Base Module Fan Fault</activeText>
					<inactiveText>Base Module Fan Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A base module fan fault exists.</activeText>
					<inactiveText>A base module fan fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Sleeping on a timer -->
			<alarmFlagsTest mask="10000" match="10000">
				<name>
					<activeText>Sleeping on Timer</activeText>
					<inactiveText>No Longer Sleeping on Timer</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Device</category>
				<description>
					<activeText>Sleeping on a timer.</activeText>
					<inactiveText>No longer sleeping on a timer.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>No action required.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Sleeping until Utility Power Returns -->
			<alarmFlagsTest mask="20000" match="20000">
				<name>
					<activeText>Sleeping Until Utility Power Returns</activeText>
					<inactiveText>No Longer Sleeping Until Utility Power Returns</inactiveText>
				</name>
				<severity>warning</severity>
				<category>Input</category>
				<description>
					<activeText>Sleeping until utility power returns.</activeText>
					<inactiveText>No longer sleeping until utility power returns.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the UPS is connected to its power source correctly, and that source is providing the proper power.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Output Power Turned Off (Flag 19 reports UPS On) -->
			<alarmFlagsTest mask="40000" match="0">
				<name>
					<activeText>Output Power Turned Off</activeText>
					<inactiveText>Output Power Now Turned On</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Output</category>
				<description>
					<activeText>The output power is turned off.</activeText>
					<inactiveText>The output power is now turned on.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>When the load equipment is ready to use the output power from the UPS, turn on the UPS.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Battery Pack Communication Lost: event 0x0122, cleared=0x0121 -->
			<alarmFlagsTest mask="100000" match="100000">
				<name>
					<activeText>Battery Pack Communications Lost</activeText>
					<inactiveText>Battery Pack Communications Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>Lost communication with the battery packs.</activeText>
					<inactiveText>Restored communication with the battery packs.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the battery packs are connected correctly.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Graceful Shutdown Initiated: event 0x0125, cleared=???? -->
			<alarmFlagsTest mask="200000" match="200000">
				<name>
					<activeText>Graceful Shutdown Initiated</activeText>
					<inactiveText>Graceful Shutdown Completed</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Output</category>
				<description>
					<activeText>A graceful shutdown process is being used to shut down the load equipment before the UPS turns off.</activeText>
					<inactiveText>A graceful shutdown process has completed.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Save and close any files at any device that receives power from the UPS. The UPS will turn off as soon as the time defined by a shutdown delay at that UPS expires.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Smart Boost or Smart Trim Fault -->
			<alarmFlagsTest mask="400000" match="400000">
				<name>
					<activeText>Smart Boost/Trim Fault</activeText>
					<inactiveText>Smart Boost/Trim Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Output</category>
				<description>
					<activeText>A fault has occured with the Smart Boost/Trim for the UPS.</activeText>
					<inactiveText>The Smart Boost/Trim has been restored.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support)</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Output Voltage Out Of Range: event 0x022b, cleared=0x022c -->
			<alarmFlagsTest mask="800000" match="800000">
				<name>
					<activeText>Output Voltage Out Of Range</activeText>
					<inactiveText>Output Voltage Now In Range</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Output</category>
				<description>
					<activeText>The output voltage is outside its defined limits.</activeText>
					<inactiveText>The output voltage is no longer outside its defined limits.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support)</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Battery Charger Failure : event 0x012a, cleared=0x012b -->
			<alarmFlagsTest mask="1000000" match="1000000">
				<name>
					<activeText>Battery Charger Fault</activeText>
					<inactiveText>Battery Charger Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>A battery charger fault exists.</activeText>
					<inactiveText>A battery charger fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support)</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- High Battery Temperature : event 0x012c, cleared=0x012d -->
			<alarmFlagsTest mask="2000000" match="2000000">
				<name>
					<activeText>Battery High Temperature Violation</activeText>
					<inactiveText>Battery High Temperature Violation Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>The internal battery temperature exceeds the critical threshold.</activeText>
					<inactiveText>The internal battery temperature no longer exceeds the critical threshold.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the cooling solutions for the battery environment, and the central air conditioning system, are functioning properly.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<alarmFlagsTest mask="10000000" match="10000000">
				<name>
					<activeText>Self-Test in Progress</activeText>
					<inactiveText>Self-Test Cleared</inactiveText>
				</name>
				<severity>information</severity>
				<category>Device</category>
				<description>
					<activeText>A battery self-test is in progress.</activeText>
					<inactiveText>The battery self-test has completed.</inactiveText>
				</description>
			</alarmFlagsTest>
			<!-- No Batteries Attached : event 0x012f, cleared=0x0130 -->
			<alarmFlagsTest mask="40000000" match="40000000">
				<name>
					<activeText>Battery Disconnected</activeText>
					<inactiveText>Battery Reconnected</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>The battery is not installed properly.</activeText>
					<inactiveText>The battery is now installed.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure a battery is properly installed at the UPS.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
		</alarmFlags>
	</device>

	<device deviceid="upsAdvAbnormalCondition">
		<oidMustExist ruleid="has_upsAdvAbnormalCondition" oid=".1.3.6.1.4.1.318.1.1.1.11.2.1.0"/>
		<oidMustNotMatch ruleid="upsAdvAbnormalSupported" oid=".1.3.6.1.4.1.318.1.1.1.11.2.1.0">
			<valueList>
				<value>UNKNOWN</value>
				<value>NOT SUPPORTED</value>
				<value></value>
			</valueList>
		</oidMustNotMatch>

		<!-- Don't do this for essential devices -->
		<oidMustNotExist ruleid="essentialtest" oid=".1.3.6.1.4.1.318.1.4.2.9.0"/>

		<!-- exclude Smart-UPS -->
		<oidMustNotMatch ruleid="sysObjIdtest" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.2</value>				<!-- Smart UPS -->
				<value>.1.3.6.1.4.1.318.1.3.2.*</value>				<!-- Smart UPS subtypes -->
			</valueList>
		</oidMustNotMatch>

		<!-- make sure generic device status alarms (Critical/Warning condition exists) are not generated as well -->
		<suppressRule ruleid="stompgenericalarms" suppressid="core/apcdiscgenericalarms/apcDiscoveryStatus_row1"/>
		<alarmFlags ruleid="upsAdvStateAbnormalConditions">
			<value>
				<baseNToInt base="2">
					<reverseString>
						<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.1.0</getOid>
					</reverseString>
				</baseNToInt>
			</value>
			<!-- Power Module Failure: event 0x0201 cleared=0x0202 -->
			<alarmFlagsTest mask="00000001" match="00000001">
				<name>
					<activeText>Power Module Fault</activeText>
					<inactiveText>Power Module Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A power module fault exists.</activeText>
					<inactiveText>A power module fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Replace all faulty modules.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Main Intelligent Module Failure: event 0x0203 cleared=0x0204 -->
			<alarmFlagsTest mask="00000002" match="00000002">
				<name>
					<activeText>Intelligence Module Fault</activeText>
					<inactiveText>Intelligence Module Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A main intelligence module fault exists.</activeText>
					<inactiveText>A main intelligence module fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Redeundant Intelligent Module Failure: event 0x0205 cleared=0x0206 -->
			<alarmFlagsTest mask="00000004" match="00000004">
				<name>
					<activeText>Redundant Intelligence Module Fault</activeText>
					<inactiveText>Redundant Intelligence Module Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A redundant intelligence module fault exists.</activeText>
					<inactiveText>A redundant intelligence module fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Battery Failure: event 0x0207 cleared=0x0208 -->
			<alarmFlagsTest mask="00000008" match="00000008">
				<name>
					<activeText>Battery Fault</activeText>
					<inactiveText>Battery Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>A battery fault exists.</activeText>
					<inactiveText>A battery fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Replace all faulty batteries.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Load (kVA) Alarm Threshold Violation: event 0x0209 cleared=0x020A -->
			<alarmFlagsTest mask="00000010" match="00000010">
				<name>
					<activeText>Load (kVA) Alarm Violation</activeText>
					<inactiveText>Load (kVA) Alarm Violation Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Output</category>
				<description>
					<activeText>A load (kVA) alarm threshold violation exists.</activeText>
					<inactiveText>A load (kVA) alarm threshold violation no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the threshold is set correctly at the UPS. Reduce the load to a safe level (less than 100%), or upgrade to a unit that can support the existing load</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Redundancy lost: event 0x020B cleared=0x020C -->
			<alarmFlagsTest mask="00000020" match="00000020">
				<name>
					<activeText>Redundancy Lost</activeText>
					<inactiveText>Redundancy Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>Lost power module redundancy.</activeText>
					<inactiveText>Restored power module redundancy.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>The UPS can no longer detect any redundant power modules. Correct any power module problems (removed or failed), add power modules, or reduce the load.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Redundancy alarm: event 0x020D cleared=0x020E -->
			<alarmFlagsTest mask="00000040" match="00000040">
				<name>
					<activeText>Redundancy Alarm</activeText>
					<inactiveText>Redundancy Alarm Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A redundancy alarm threshold violation exists.</activeText>
					<inactiveText>A redundancy alarm threshold violation no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the threshold is set correctly at the UPS. Add power modules, or reduce the load, if necessary.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Bypass not in range (voltage/freq): event 0x020F cleared=0x0210 -->
			<alarmFlagsTest mask="00000080" match="00000080">
				<name>
					<activeText>Input Voltage Or Frequency Cannot Support Bypass</activeText>
					<inactiveText>Input Voltage And Frequency Can Now Support Bypass</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>An input voltage or frequency problem prevents switching to bypass mode.</activeText>
					<inactiveText>An input voltage or frequency problem no longer prevents switching to bypass mode.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Correct the input power problem, if possible, or wait for the input power problem to clear. Note: Some UPS systems have settings that allow the UPS to switch to bypass if this status exists when a hardware failure occurs. In such cases, correct the power problem, or shut down the equipment powered by the UPS.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Bypass Contactor Stuck in Bypass Condition: event 0x0211 cleared=0x0212 -->
			<alarmFlagsTest mask="00000100" match="00000100">
				<name>
					<activeText>Bypass Relay Stuck In Bypass Mode</activeText>
					<inactiveText>Bypass Relay Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>The bypass relay is stuck in its bypass position.</activeText>
					<inactiveText>The bypass relay is no longer stuck in its bypass position.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Bypass Contactor Stuck in On-Line Condition: event 0x0213 cleared=0x0214 -->
			<alarmFlagsTest mask="00000200" match="00000200">
				<name>
					<activeText>Bypass Relay Stuck In Online Mode</activeText>
					<inactiveText>Bypass Relay Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>The bypass relay is stuck in its online position.</activeText>
					<inactiveText>The bypass relay is no longer stuck in its online position.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- In Bypass due to an Internal Fault: event 0x0215 cleared=0x0216 -->
			<alarmFlagsTest mask="00000400" match="00000400">
				<name>
					<activeText>In Bypass: Hardware Fault</activeText>
					<inactiveText>No Longer In Bypass</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>In bypass in response to an internal hardware fault.</activeText>
					<inactiveText>No longer in bypass.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure is preventing the UPS from supporting its load if a power failure occurs. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- In Bypass due to an Overload: event 0x0217 cleared=0x0218 -->
			<alarmFlagsTest mask="00000800" match="00000800">
				<name>
					<activeText>In Bypass: Overload</activeText>
					<inactiveText>No Longer In Bypass</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>In bypass in response to an overload.</activeText>
					<inactiveText>No longer in bypass.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Reduce the load on the UPS to a safe level (less than 100%) or upgrade to a unit that can support the existing load.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- In Maintenance Bypass: event 0x0219 cleared=0x021A -->
			<alarmFlagsTest mask="00001000" match="00001000">
				<name>
					<activeText>In Bypass: For Maintenance</activeText>
					<inactiveText>No Longer In Bypass</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>In bypass for maintenance.</activeText>
					<inactiveText>No longer in bypass.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>The switch at the UPS was used to put the UPS into bypass mode, typically for maintenance. Since the UPS cannot support its load if a power failure occurs, return the UPS to online operation as soon as possible.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Input Circuit Braker Tripped Open: event 0x021B cleared=0x021C -->
			<alarmFlagsTest mask="00002000" match="00002000">
				<name>
					<activeText>Input Circuit Breaker Open</activeText>
					<inactiveText>Input Circuit Breaker Now Closed</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Input</category>
				<description>
					<activeText>The input circuit breaker is open.</activeText>
					<inactiveText>The input circuit break is no longer open.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Close the circuit breaker.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- System Level Fan Failure: event 0x021D cleared=0x021E -->
			<alarmFlagsTest mask="00004000" match="00004000">
				<name>
					<activeText>System Level Fan Fault</activeText>
					<inactiveText>System Level Fan Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>System level fan fault exists.</activeText>
					<inactiveText>System level fan fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Redundant Intelligent Module In Control: event 0x021F cleared=0x0220 -->
			<alarmFlagsTest mask="00008000" match="00008000">
				<name>
					<activeText>Redundant Intelligence Module In Control</activeText>
					<inactiveText>Main Intelligence Module Now In Control</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The redundant intelligence module is in control.</activeText>
					<inactiveText>The main intelligence module is now in control.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Correct the main intelligence module problem (it was removed or failed) that switched control to the redundant intelligence module.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- IIC Inter-Module Communication Failure: event 0x0221 cleared=0x0222 -->
			<alarmFlagsTest mask="00010000" match="00010000">
				<name>
					<activeText>IIC Bus Fault</activeText>
					<inactiveText>IIC Bus Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An IIC bus communication fault exists.</activeText>
					<inactiveText>An IIC bus communication fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- No Working Power Modules: event 0x0223 cleared=0x0224 -->
			<alarmFlagsTest mask="00020000" match="00020000">
				<name>
					<activeText>No Power Modules Detected</activeText>
					<inactiveText>Power Modules Now Detected</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>No power modules detected as installed.</activeText>
					<inactiveText>Power modules are now detected.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the power modules are installed and connected securely.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Load Shutdown From Bypass; Input Frequency: event 0x0225 cleared=0x0226 -->
			<alarmFlagsTest mask="00040000" match="00040000">
				<name>
					<activeText>Shut Down Due To Power Problem While In Bypass</activeText>
					<inactiveText>Power Problem That Caused A Shutdown While In Bypass Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Input</category>
				<description>
					<activeText>An input voltage or frequency problem occured while in bypass, turning off the UPS.</activeText>
					<inactiveText>The problem that caused the UPS to turn off while in bypass no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>The "Drop Load" value is selected for the "If UPS fails, and frequency or voltage is out of range" option at the UPS, and a frequency or voltage deviation occurred while in bypass. The UPS front panel display can be used to turn on the output power when the input power is corrected.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Runtime Below Alarm Threshold: event 0x0227 cleared=0x0228 -->
			<alarmFlagsTest mask="00080000" match="00080000">
				<name>
					<activeText>Runtime Alarm</activeText>
					<inactiveText>Runtime Alarm Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>A runtime alarm threshold violation exists.</activeText>
					<inactiveText>A runtime alarm threshold violation no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the threshold is set correctly at the device. Reduce the load to conserve as much of the remaining runtime as needed to support critical systems. Consider adding additional batteries or upgrading to a UPS that provides more runtime.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Extended Run Frame Fault: event 0x0229 cleared=0x022A -->
			<alarmFlagsTest mask="00100000" match="00100000">
				<name>
					<activeText>Extended Run Frame Fault</activeText>
					<inactiveText>Extended Run Frame Fault Cleared Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An extended run frame fault exists.</activeText>
					<inactiveText>An extended run frame fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the frame is connected properly to the UPS.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Output Voltage out of Range: event 0x022B cleared=0x022C -->
			<alarmFlagsTest mask="00200000" match="00200000">
				<name>
					<activeText>Output Voltage Out Of Range</activeText>
					<inactiveText>Output Voltage Now In Range</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Output</category>
				<description>
					<activeText>The output voltage is outside its defined limits.</activeText>
					<inactiveText>The output voltage is no longer outside its defined limits.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support)</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- UPS Not Synchronized: event 0x022D cleared=0x022E -->
			<alarmFlagsTest mask="00400000" match="00400000">
				<name>
					<activeText>Not Synchronized Fault</activeText>
					<inactiveText>Not Synchronized Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A phase synchronization fault exists.</activeText>
					<inactiveText>A phase synchronization fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- No Batteries Installed: event 0x022F cleared=0x0230 -->
			<alarmFlagsTest mask="00800000" match="00800000">
				<name>
					<activeText>Battery Disconnected</activeText>
					<inactiveText>Battery Reconnected</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>The battery is not installed properly.</activeText>
					<inactiveText>The battery is now installed.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure a battery is properly installed at the UPS.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Battery Voltage High: event 0x0231 cleared=0x0232 -->
			<alarmFlagsTest mask="01000000" match="01000000">
				<name>
					<activeText>Battery High Voltage Violation</activeText>
					<inactiveText>Battery High Voltage Violation Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>The battery voltage exceeds the Nominal Battery Voltage rating.</activeText>
					<inactiveText>The battery voltage no longer exceeds the Nominal Battery Voltage rating.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the UPS is connected to its power source correctly, and that source is providing the proper power.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- UPS Specific Fault Detected: event 0x0233 cleared=0x0234 -->
			<alarmFlagsTest mask="02000000" match="02000000">
				<name>
					<activeText>Non-specific Fault: Access UPS keyboard for details</activeText>
					<inactiveText>Non-specific Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A non-specific fault has occurred.  Access the UPS keyboard for details.</activeText>
					<inactiveText>The non-specific fault has cleared.</inactiveText>
				</description>
				<alarmRecommendedActions/>
			</alarmFlagsTest>
			<!-- Site Wiring Fault: event 0x0235 cleared=0x0236 -->
			<alarmFlagsTest mask="04000000" match="04000000">
				<name>
					<activeText>Site Wiring Fault</activeText>
					<inactiveText>Site Wiring Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A site wiring fault has been detected.</activeText>
					<inactiveText>A site wiring fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Have a licensed electrician ensure that the proper input wiring is connected to the UPS. This includes the proper phase rotation, a proper neutral connection, a proper ground connection, and a proper grounding electrode conductor connection.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Backfeed Protection Relay Opened: event 0x0237 cleared=0x0238 -->
			<alarmFlagsTest mask="08000000" match="08000000">
				<name>
					<activeText>Backfeed Relay Open</activeText>
					<inactiveText>Backfeed Relay Now Closed</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The backfeed relay is open.</activeText>
					<inactiveText>The backfeed relay is no longer open.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
		</alarmFlags>
	</device>

	<device deviceid="upsAdvStateSymmetra3PhaseSpecificFaults">
		<oidMustExist ruleid="upsAdvStateSymmetra3PhaseSpecificFaultsExists" oid=".1.3.6.1.4.1.318.1.1.1.11.2.2.0"/>
		<oidMustNotMatch ruleid="upsAdvStateSymmetra3PhaseSpecificFaultsSupported" oid=".1.3.6.1.4.1.318.1.1.1.11.2.2.0">
			<valueList>
				<value>UNKNOWN</value>
				<value>NOT SUPPORTED</value>
				<value></value>
			</valueList>
		</oidMustNotMatch>

		<!-- Don't do this for essential devices -->
		<oidMustNotExist ruleid="essentialtest" oid=".1.3.6.1.4.1.318.1.4.2.9.0"/>

		<!-- make sure generic device status alarms (Critical/Warning condition exists) are not generated as well -->
		<suppressRule ruleid="stompgenericalarms" suppressid="core/apcdiscgenericalarms/apcDiscoveryStatus_row1"/>
		<alarmFlags ruleid="upsAdvStateSymmetra3PhaseSpecificFaults">
			<value>
				<baseNToInt base="2">
					<reverseString>
						<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.2.0</getOid>
					</reverseString>
				</baseNToInt>
			</value>
			<!-- External Switch Gear Failure: event ? cleared=? -->
			<alarmFlagsTest mask="00000001" match="00000001">
				<name>
					<activeText>External Switch Gear Failure</activeText>
					<inactiveText>External Switch Gear Failure Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The external switch gear has failed.</activeText>
					<inactiveText>The external switch gear failure has cleared.</inactiveText>
				</description>
				<alarmRecommendedActions/>
			</alarmFlagsTest>
			<!-- External Transformer Over Temperature: event=0A03 cleared=0A04 -->
			<alarmFlagsTest mask="00000002" match="00000002">
				<name>
					<activeText>Isolation Transformer Temperature Too High</activeText>
					<inactiveText>High Isolation Transformer Temperature Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The isolation transformer temperature is too high.</activeText>
					<inactiveText>The isolation transformer temperature is no longer too high.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- External DC Circuit Breaker Tripped: event=0A05 cleared=0A06 -->
			<alarmFlagsTest mask="00000004" match="00000004">
				<name>
					<activeText>External DC Disconnect Switch Open</activeText>
					<inactiveText>External DC Disconnect Switch Now Closed</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The external DC disconnect switch is open.</activeText>
					<inactiveText>The external DC disconnect switch is no longer open.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Close the switch.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- System Power Supply Failure: event=0A07 cleared=0A08 -->
			<alarmFlagsTest mask="00000008" match="00000008">
				<name>
					<activeText>System Power Supply Card Fault</activeText>
					<inactiveText>System Power Supply Card Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A system power supply card fault exists.</activeText>
					<inactiveText>A system power supply card fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Battery Monitor Card Failure: event=0A09 cleared=0A0A -->
			<alarmFlagsTest mask="00000010" match="00000010">
				<name>
					<activeText>Battery Monitor Card Fault</activeText>
					<inactiveText>Battery Monitor Card Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A battery monitor card fault exists.</activeText>
					<inactiveText>A battery monitor card fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Remove and reinsert the card to make sure it is installed securely. If the problem persists, replace the card or contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Battery Monitor Card Removed: event=0A0B cleared=0A0C -->
			<alarmFlagsTest mask="00000020" match="00000020">
				<name>
					<activeText>Battery Monitor Card Removed</activeText>
					<inactiveText>Battery Monitor Card Fault Inserted</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A battery monitor card was removed.</activeText>
					<inactiveText>A battery monitor card was inserted.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Remove and reinsert the card to make sure it is installed securely. If the problem persists, replace the card or contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- XR Communications Card Failure: event=0A0D cleared=0A0E -->
			<alarmFlagsTest mask="00000040" match="00000040">
				<name>
					<activeText>XR Communications Card Fault</activeText>
					<inactiveText>XR Communications Card Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An extended run frame (XR) communications card fault exists.</activeText>
					<inactiveText>An extended run frame (XR) communications card fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Remove and reinsert the card to make sure it is installed securely. If the problem persists, replace the card or contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- XR Communications Card Removed: event=0A0F cleared=0A10 -->
			<alarmFlagsTest mask="00000080" match="00000080">
				<name>
					<activeText>XR Communications Card Removed</activeText>
					<inactiveText>XR Communications Card Fault Inserted</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An extended run frame (XR) communications card was removed.</activeText>
					<inactiveText>An extended run frame (XR) communications card was inserted.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Remove and reinsert the card to make sure it is installed securely. If the problem persists, replace the card or contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- External Switch Gear Monitoring Card Failure: event=0A11 cleared=0A12 -->
			<alarmFlagsTest mask="00000100" match="00000100">
				<name>
					<activeText>External Switch Gear Communications Card Fault</activeText>
					<inactiveText>External Switch Gear Communications Card Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An external switch gear communications card fault exists.</activeText>
					<inactiveText>An external switch gear communications card fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Remove and reinsert the card to make sure it is installed securely. If the problem persists, replace the card or contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- External Switch Gear Monitoring Card Failure Removed: event=0A13 cleared=0A14 -->
			<alarmFlagsTest mask="00000200" match="00000200">
				<name>
					<activeText>External Switch Gear Communications Card Removed</activeText>
					<inactiveText>External Switch Gear Communications Card Fault Inserted</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An external switch gear communications card was removed.</activeText>
					<inactiveText>An external switch gear communications card was inserted.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Remove and reinsert the card to make sure it is installed securely. If the problem persists, replace the card or contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Internal DC Circuit Breaker Tripped: event=0A15 cleared=0A16 -->
			<alarmFlagsTest mask="00000400" match="00000400">
				<name>
					<activeText>Internal DC Disconnect Switch Open</activeText>
					<inactiveText>Internal DC Disconnect Switch Now Closed</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The internal DC disconnect switch is open.</activeText>
					<inactiveText>The internal DC disconnect switch is no longer open.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Static Bypass Switch Failure: event=0A17 cleared=0A18 -->
			<alarmFlagsTest mask="00000800" match="00000800">
				<name>
					<activeText>Static Bypass Switch Module Fault</activeText>
					<inactiveText>Static Bypass Switch Module Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>A static bypass switch module fault exists.</activeText>
					<inactiveText>A static bypass switch module fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- System EEPROM Removed: event=0A19 cleared=0A1A -->
			<alarmFlagsTest mask="00001000" match="00001000">
				<name>
					<activeText>System ID Card Removed</activeText>
					<inactiveText>System ID Card Inserted</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The system ID card was removed.</activeText>
					<inactiveText>The system ID card was inserted.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Remove and reinsert the card to make sure it is installed securely. If the problem persists, replace the card or contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- System EEPROM Failure: event=0A1B cleared=0A1C -->
			<alarmFlagsTest mask="00002000" match="00002000">
				<name>
					<activeText>System Identification Card Fault</activeText>
					<inactiveText>System Identification Card Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The system identification card fault exists.</activeText>
					<inactiveText>The system identification card fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Remove and reinsert the card to make sure it is installed securely. If the problem persists, replace the card or contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- UPS in Forced Bypass: event=0A1D cleared=0A1E -->
			<alarmFlagsTest mask="00004000" match="00004000">
				<name>
					<activeText>In Forced Bypass</activeText>
					<inactiveText>Returned from Forced Bypass</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>In bypass in response to the InfraStruXure PDU or UPS static switch.</activeText>
					<inactiveText>No longer in forced bypass.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>The InfraStruXure PDU Q breakers, or the UPS static switch, were used to force the UPS into bypass mode, typically for maintenance. Since the UPS cannot support its load if a power failure occurs, return the UPS to online operation as soon as possible.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
		</alarmFlags>
	</device>

	<device deviceid="upsAdvStateDP300ESpecificFaults">
		<oidMustExist ruleid="upsAdvStateDP300ESpecificFaultsExists" oid=".1.3.6.1.4.1.318.1.1.1.11.2.3.0"/>
		<oidMustNotMatch ruleid="upsAdvStateDP300ESpecificFaultsSupported" oid=".1.3.6.1.4.1.318.1.1.1.11.2.3.0">
			<valueList>
				<value>UNKNOWN</value>
				<value>NOT SUPPORTED</value>
				<value></value>
			</valueList>
		</oidMustNotMatch>

		<!-- Don't do this for essential devices -->
		<oidMustNotExist ruleid="essentialtest" oid=".1.3.6.1.4.1.318.1.4.2.9.0"/>

		<!-- make sure generic device status alarms (Critical/Warning condition exists) are not generated as well -->
		<suppressRule ruleid="stompgenericalarms" suppressid="core/apcdiscgenericalarms/apcDiscoveryStatus_row1"/>
		<alarmFlags ruleid="upsAdvStateDP300ESpecificFaults">
			<value>
				<baseNToInt base="2">
					<reverseString>
						<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.3.0</getOid>
					</reverseString>
				</baseNToInt>
			</value>
			<!-- Peak Current Limiter Active: event ? cleared=? -->
			<alarmFlagsTest mask="00000001" match="00000001">
				<name>
					<activeText>Peak Current Limiter Active</activeText>
					<inactiveText>Peak Current Limiter Now Inactive</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The peak current limiter is active.</activeText>
					<inactiveText>The peak current limiter is no longer active.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Bypass Power Supply Fault: event=0A03 cleared=0A04 -->
			<alarmFlagsTest mask="00000002" match="00000002">
				<name>
					<activeText>Bypass Power Supply Fault</activeText>
					<inactiveText>Bypass Power Supply Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A bypass power supply fault exists.</activeText>
					<inactiveText>A bypass power supply fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Delta Current Limiter Active: event=0A05 cleared=0A06 -->
			<alarmFlagsTest mask="00000004" match="00000004">
				<name>
					<activeText>Delta Current Limiter Active</activeText>
					<inactiveText>Delta Current Limiter Now Inactive</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The delta current limiter is active.</activeText>
					<inactiveText>The delta current limiter is no longer active.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Fan Fault: event=0A07 cleared=0A08 -->
			<alarmFlagsTest mask="00000008" match="00000008">
				<name>
					<activeText>Fan Fault</activeText>
					<inactiveText>Fan Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A fan fault exists.</activeText>
					<inactiveText>A fan fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- High DC warning: event=0A09 cleared=0A0A -->
			<alarmFlagsTest mask="00000010" match="00000010">
				<name>
					<activeText>High DC Warning</activeText>
					<inactiveText>High DC Warning Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A high direct current (DC) warning exists.</activeText>
					<inactiveText>A high direct current (DC) warning no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Inverter Voltage Error: event=0A0B cleared=0A0C -->
			<alarmFlagsTest mask="00000020" match="00000020">
				<name>
					<activeText>Inverter Voltage Fault</activeText>
					<inactiveText>Inverter Voltage Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An inverter voltage fault exists.</activeText>
					<inactiveText>An inverter voltage fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Parallel Synchronization Error: event=0A0D cleared=0A0E -->
			<alarmFlagsTest mask="00000040" match="00000040">
				<name>
					<activeText>Parallel Synchronization Fault</activeText>
					<inactiveText>Parallel Synchronization Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A parallel synchronization fault exists.</activeText>
					<inactiveText>A parallel synchronization fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Second Power Supply Fault: event=0A0F cleared=0A10 -->
			<alarmFlagsTest mask="00000080" match="00000080">
				<name>
					<activeText>Second Power Supply Fault</activeText>
					<inactiveText>Second Power Supply Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A second power supply fault exists.</activeText>
					<inactiveText>A second power supply fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Internal Power Supply Fault: event=0A11 cleared=0A12 -->
			<alarmFlagsTest mask="00000100" match="00000100">
				<name>
					<activeText>Internal Power Supply Fault</activeText>
					<inactiveText>Internal Power Supply Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An internal power supply fault exists.</activeText>
					<inactiveText>An internal power supply fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Static Bypass Switch High Temperature: event=0A1B cleared=0A1C -->
			<alarmFlagsTest mask="00002000" match="00002000">
				<name>
					<activeText>Static Bypass Switch High Temperature</activeText>
					<inactiveText>Static Bypass Switch High Temperature Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>The static bypass switch temperature is too high.</activeText>
					<inactiveText>The static bypass switch temperature is no longer too high.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- High Battery Temperature: event=0A1D cleared=0A1E -->
			<alarmFlagsTest mask="00004000" match="00004000">
				<name>
					<activeText>Battery High-Temperature Violation</activeText>
					<inactiveText>Battery High-Temperature Violation Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>The battery temperature exceeds the critical threshold.</activeText>
					<inactiveText>The battery temperature no longer exceeds the critical threshold.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Make sure the cooling solutions for the battery environment, and the central air conditioning system, are functioning properly.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Battery Weak: event=0A1F cleared=0A20 -->
			<alarmFlagsTest mask="00008000" match="00008000">
				<name>
					<activeText>Weak Battery</activeText>
					<inactiveText>Weak Battery Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Battery</category>
				<description>
					<activeText>A weak battery exists.</activeText>
					<inactiveText>A weak battery no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Replace all faulty batteries.</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- System Locked in Operation Mode: event=0A23 cleared=0A24 -->
			<alarmFlagsTest mask="00020000" match="00020000">
				<name>
					<activeText>Operational Mode Lock</activeText>
					<inactiveText>Operational Mode Lock Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>The system is locked in operational mode.</activeText>
					<inactiveText>The system is no longer locked in operational mode.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- RAM1 Memory Write Error: event=0A25 cleared=0A26 -->
			<alarmFlagsTest mask="00040000" match="00040000">
				<name>
					<activeText>RAM1 Memory Write Fault</activeText>
					<inactiveText>RAM1 Memory Write Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A RAM1 memory write fault exists.</activeText>
					<inactiveText>A RAM1 memory write fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Memory Write Error: event=0A27 cleared=0A28 -->
			<alarmFlagsTest mask="00080000" match="00080000">
				<name>
					<activeText>Memory Write Fault</activeText>
					<inactiveText>Memory Write Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A memory write fault exists.</activeText>
					<inactiveText>A memory write fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Communication to VQ Bypass Lost: event=0A29 cleared=0A2A -->
			<alarmFlagsTest mask="00100000" match="00100000">
				<name>
					<activeText>VQ Bypass Communication Lost</activeText>
					<inactiveText>VQ Bypass Communication Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>Lost communication with the VQ bypass.</activeText>
					<inactiveText>Restored communication with the VQ bypass.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Communication to VQ Output Lost: event=0A2B cleared=0A2C -->
			<alarmFlagsTest mask="00200000" match="00200000">
				<name>
					<activeText>VQ Output Communication Lost</activeText>
					<inactiveText>VQ Output Communication Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>Lost communication with the VQ output.</activeText>
					<inactiveText>Restored communication with the VQ output.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Communication to DMU Lost: event=0A2D cleared=0A2E -->
			<alarmFlagsTest mask="00400000" match="00400000">
				<name>
					<activeText>DMU Communication Lost</activeText>
					<inactiveText>DMU Communication Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>Lost communication with the DMU.</activeText>
					<inactiveText>Restored communication with the DMU.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Communication to Controller Lost: event=0A2F cleared=0A30 -->
			<alarmFlagsTest mask="00800000" match="00800000">
				<name>
					<activeText>Controller Communication Lost</activeText>
					<inactiveText>Controller Communication Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>Lost communication with the controller.</activeText>
					<inactiveText>Restored communication with the controller.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Communication to Parallel IF Lost: event=0A2F cleared=0A30 -->
			<alarmFlagsTest mask="01000000" match="01000000">
				<name>
					<activeText>Parallel IF Communication Lost</activeText>
					<inactiveText>Parallel IF Communication Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>Lost communication with the parallel interface (IF).</activeText>
					<inactiveText>Restored communication with the parallel interface (IF).</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- External Shutdown Accepted: event=0A31 cleared=0A32 -->
			<alarmFlagsTest mask="02000000" match="02000000">
				<name>
					<activeText>External Shutdown Accepted</activeText>
					<inactiveText>External Shutdown Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>An external shutdown was accepted.</activeText>
					<inactiveText>An external shutdown is no longer accepted.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- DC Capacitor Charge Error: event=0A33 cleared=0A34 -->
			<alarmFlagsTest mask="04000000" match="04000000">
				<name>
					<activeText>DC Capacitor Charge Fault</activeText>
					<inactiveText>DC Capacitor Charge Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A direct current (DC) capacitor charge fault exists.</activeText>
					<inactiveText>A direct current (DC) capacitor charge fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Communication to VQ Mains Lost: event=0A35 cleared=0A36 -->
			<alarmFlagsTest mask="08000000" match="08000000">
				<name>
					<activeText>VQ Mains Communication Lost</activeText>
					<inactiveText>VQ Mains Communication Restored</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>Lost communication with the VQ Mains.</activeText>
					<inactiveText>Restored communication with the VQ Mains.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Bypass Synchronization Error: event=0A37 cleared=0A38 -->
			<alarmFlagsTest mask="10000000" match="10000000">
				<name>
					<activeText>Bypass Synchronization Fault</activeText>
					<inactiveText>Bypass Synchronization Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Bypass</category>
				<description>
					<activeText>A bypass synchronization fault exists.</activeText>
					<inactiveText>A bypass synchronization fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
			<!-- Charge Error: event=0A39 cleared=0A3A -->
			<alarmFlagsTest mask="20000000" match="20000000">
				<name>
					<activeText>Charge Fault</activeText>
					<inactiveText>Charge Fault Cleared</inactiveText>
				</name>
				<severity>critical</severity>
				<category>Device</category>
				<description>
					<activeText>A charge fault exists.</activeText>
					<inactiveText>A charge fault no longer exists.</inactiveText>
				</description>
				<alarmRecommendedActions>
					<recommendedActionId>An internal hardware failure exists. Contact APC Support (http://www.apc.com/go/direct/index.cfm?tag=support).</recommendedActionId>
				</alarmRecommendedActions>
			</alarmFlagsTest>
		</alarmFlags>
	</device>

	<!-- .1.3.6.1.4.1.318.1.1.1.11.2.4.0 | upsAdvStateSymmetraSpecificFaults -->
	<!-- .1.3.6.1.4.1.318.1.1.1.11.2.5.0 | upsAdvStateSmartUPSSpecificFaults -->

	<device deviceid="upsAdvState">
		<oidMustExist ruleid="has_upsAdvState" oid=".1.3.6.1.4.1.318.1.1.1.11.2" istree="yes" />

		<numSensor ruleid="upsAdvStateSystemMessages">
			<type>num</type>
			<sensorId>SYSTEM_MESSAGE_REGISTER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>System Message Register</label>
			<sensorSet>UPS Diagnostic Status</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvStateTotaltimeonbattery">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>TOTAL_TIME_ON_BATTERY</sensorId>
			<value>
				<add>
				<op>
					<add>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) days</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.7.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>86400</op>
						</mult>
					</op>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) hours</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.7.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>3600</op>
						</mult>
					</op>
					</add>
				</op>
				<op>
					<add>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) mins</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.7.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>60</op>
						</mult>
					</op>
					<op>
						<regex>
						<op>(\d+) sec</op>
						<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.7.0</getOid></op>
						<op>%1$s</op>
						<op>0</op>
						</regex>
					</op>
					</add>
				</op>
				</add>
			</value>
			<valueInc>1</valueInc>
			<label>Total Time on Battery</label>
			<sensorSet>UPS Statistics</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvStateTotaltimeonbypass">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>TOTAL_TIME_ON_BYPASS</sensorId>
			<value>
				<add>
				<op>
					<add>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) days</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.8.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>86400</op>
						</mult>
					</op>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) hours</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.8.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>3600</op>
						</mult>
					</op>
					</add>
				</op>
				<op>
					<add>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) mins</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.8.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>60</op>
						</mult>
					</op>
					<op>
						<regex>
						<op>(\d+) sec</op>
						<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.8.0</getOid></op>
						<op>%1$s</op>
						<op>0</op>
						</regex>
					</op>
					</add>
				</op>
				</add>
			</value>
			<valueInc>1</valueInc>
			<label>Total Time on Bypass</label>
			<sensorSet>UPS Statistics</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvStateTotaltimeonNormal">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>TOTAL_TIME_ON_NORMAL</sensorId>
			<value>
				<add>
				<op>
					<add>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) days</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.9.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>86400</op>
						</mult>
					</op>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) hours</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.9.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>3600</op>
						</mult>
					</op>
					</add>
				</op>
				<op>
					<add>
					<op>
						<mult>
						<op>
							<regex>
							<op>(\d+) mins</op>
							<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.9.0</getOid></op>
							<op>%1$s</op>
							<op>0</op>
							</regex>
						</op>
						<op>60</op>
						</mult>
					</op>
					<op>
						<regex>
						<op>(\d+) sec</op>
						<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.9.0</getOid></op>
						<op>%1$s</op>
						<op>0</op>
						</regex>
					</op>
					</add>
				</op>
				</add>
			</value>
			<valueInc>1</valueInc>
			<label>Total Time on Normal</label>
			<sensorSet>UPS Statistics</sensorSet>
		</numSensor>

		<numSensor ruleid="upsAdvStateNumberoftimesonbattery">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>NUMBER_OF_TIMES_ON_BATTERY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.10.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of Times on Battery</label>
			<sensorSet>UPS Statistics</sensorSet>
		</numSensor>
		<numSensor ruleid="upsAdvStateNumberoftimesbypass">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>NUMBER_OF_TIMES_ON_BYPASS</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.11.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of Times on Bypass</label>
			<sensorSet>UPS Statistics</sensorSet>
		</numSensor>
		<numSensor ruleid="uupsAdvStateNumberoftimesNormal">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>NUMBER_OF_TIMES_ON_NORMAL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.12.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of Times on Normal</label>
			<sensorSet>UPS Statistics</sensorSet>
		</numSensor>

		<valueMap ruleid="upsAdvStateEcomode-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsAdvStateEcomode-em">
			<label>Unknown</label>
			<label>UPS on Eco Mode</label>
			<label>UPS Not on Eco Mode</label>
		</enumMap>
		<stateSensor ruleid="upsAdvStateEcomode">
			<type>state</type>
			<sensorId>ECO_MODE</sensorId>
			<value>
				<mapValue mapid="upsAdvStateEcomode-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.11.2.13.0</getOid>
				</mapValue>
			</value>
			<label>Eco Mode</label>
			<enum>upsAdvStateEcomode-em</enum>
			<sensorSet>Eco Mode</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsAdvStateLifeCycleManagement">
		<oidMustExist ruleid="has_upsAdvStateLifeCycleManagement" oid=".1.3.6.1.4.1.318.1.1.1.11.2.14" istree="yes" />

		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.25</value><!-- galaxy 5000 120kVA-->
				<value>.1.3.6.1.4.1.318.1.3.28.34</value><!-- galaxy 5500 120kVA-->
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<valueMap ruleid="binaryDefaultZero-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="trueFalse-em">
			<label>False</label>
			<label>True</label>
		</enumMap>

		<stateSensor ruleid="end-of-legal-warranty">
			<type>state</type>
			<sensorId>END_OF_LEGAL_WARRANTY</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>([01])[01]{15}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>End of Warranty Soon</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="end-of-battery-service-life">
			<type>state</type>
			<sensorId>END_OF_BATTERY_SERVICE_LIFE</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{1}([01])[01]{14}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Check Recommended</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="end-of-wearing-parts-life">
			<type>state</type>
			<sensorId>END_OF_WEARING_PARTS_LIFE</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{2}([01])[01]{13}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Service Period on Wearing Parts Expired</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="secure-startup-recommended">
			<type>state</type>
			<sensorId>SECURE_STARTUP_RECOMMENDED</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{3}([01])[01]{12}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Secure Startup Recommended</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="fan-life-expired">
			<type>state</type>
			<sensorId>FAN_LIFE_EXPIRED</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{4}([01])[01]{11}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Fan Life Expired</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="dc-capacitor-life-expired">
			<type>state</type>
			<sensorId>DC_CAPACITOR_LIFE_EXPIRED</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{5}([01])[01]{10}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>DC Capacitor Life Expired</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="ac-capacitor-life-expired">
			<type>state</type>
			<sensorId>AC_CAPACITOR_LIFE_EXPIRED</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{6}([01])[01]{9}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>AC Capacitor Life Expired</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="supply-service-life-expired">
			<type>state</type>
			<sensorId>SUPPLY_SERVICE_LIFE_EXPIRED</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{7}([01])[01]{8}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Supply Service Life Expired</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="ups-out-of-limits-warning">
			<type>state</type>
			<sensorId>UPS_OUT_OF_LIMITS_WARNING</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{8}([01])[01]{7}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>UPS Out of Limits Warning</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
		<stateSensor ruleid="air-filter-life-expired">
			<type>state</type>
			<sensorId>AIR_FILTER_LIFE_EXPIRED</sensorId>
			<value>
				<mapValue mapid="binaryDefaultZero-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[01]{9}([01])[01]{6}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.11.2.14.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Air Filter Life Expired</label>
			<enum>trueFalse-em</enum>
			<sensorSet>UPS Lifecycle Management</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsOutletGroups">
		<oidMustExist ruleid="has_upsOutletGroups" oid=".1.3.6.1.4.1.318.1.1.1.12" istree="yes" />

		<valueMap ruleid="upsOutletGroupStatusGroupState-vm">
			<valueIn>1</valueIn>	<valueOut>0</valueOut>
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>*</valueIn>	<valueOut>2</valueOut>
		</valueMap>
		<enumMap ruleid="upsOutletGroupStatusGroupState-em">
			<label>On</label>
			<label>Off</label>
			<label>Unknown</label>
		</enumMap>
		<stateSensor ruleid="upsOutletGroupStatusGroupState" index=".1.3.6.1.4.1.318.1.1.1.12.1.2.1.1">
			<type>state/outletstate</type>
			<sensorId>OUTLET_STATE_<rowNumber/></sensorId>
			<value>
				<mapValue mapid="upsOutletGroupStatusGroupState-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.12.1.2.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Outlet State <rowIndex/> -<space/><getRowOid>.1.3.6.1.4.1.318.1.1.1.12.1.2.1.2</getRowOid></label>
			<enum>upsOutletGroupStatusGroupState-em</enum>
			<sensorSet>Outlet Status</sensorSet>
		</stateSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.12.1.2.1.4 | upsOutletGroupStatusCommandPending -->
		<!-- .1.3.6.1.4.1.318.1.1.1.12.1.2.1.5 | upsOutletGroupStatusOutletType -->
		<!-- .1.3.6.1.4.1.318.1.1.1.12.1.2.1.6 | upsOutletGroupStatusGroupFullState -->

		<!-- .1.3.6.1.4.1.318.1.1.1.12.2.* | upsOutletGroupConfig -->
		<!-- .1.3.6.1.4.1.318.1.1.1.12.3.* | upsOutletGroupControl -->
	</device>

	<device deviceid="upsDiagnosticIM">
		<oidMustExist ruleid="has_upsDiagnosticIM" oid=".1.3.6.1.4.1.318.1.1.1.13.1" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<valueMap ruleid="upsDiagIMType-vm">
			<valueIn>2</valueIn><valueOut>MIM</valueOut>
			<valueIn>3</valueIn><valueOut>RIM</valueOut>
			<valueIn>*</valueIn><valueOut>Unknown</valueOut>
		</valueMap>
		<stateSensor ruleid="upsDiagIMStatus" index=".1.3.6.1.4.1.318.1.1.1.13.1.2.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>state</type>
			<sensorId>MODULE_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.3</getRowOid>
				</mapValue>
			</value>
			<label>
				Intelligence Module <rowIndex/> (
				<mapValue mapid="upsDiagIMType-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.2</getRowOid>
				</mapValue>
				) Status
			</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Intelligence Modules</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagIMFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.1.2.1.4">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>MODULE_FIRMWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.4</getRowOid>
			</value>
			<label>
				Intelligence Module <rowIndex/> (
				<mapValue mapid="upsDiagIMType-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.2</getRowOid>
				</mapValue>
				) Firmware Revision
			</label>
			<sensorSet>UPS Intelligence Modules</sensorSet>
		</stringSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.13.1.2.1.5 | upsDiagIMSlaveFirmwareRev -->

		<stringSensor ruleid="upsDiagIMHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.1.2.1.6">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>MODULE_HARDWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.6</getRowOid>
			</value>
			<label>
				Intelligence Module <rowIndex/> (
				<mapValue mapid="upsDiagIMType-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.2</getRowOid>
				</mapValue>
				) Hardware Revision
			</label>
			<sensorSet>UPS Intelligence Modules</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagIMSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.1.2.1.7">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>MODULE_SERIAL_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.7</getRowOid>
			</value>
			<label>
				Intelligence Module <rowIndex/> (
				<mapValue mapid="upsDiagIMType-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.1.2.1.2</getRowOid>
				</mapValue>
				) Serial Number
			</label>
			<sensorSet>UPS Intelligence Modules</sensorSet>
		</stringSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.13.1.2.1.8 | upsDiagIMManufactureDate -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.1.2.1.9 | upsDiagIMInControl -->

	</device>

	<device deviceid="upsDiagnosticPowerModules">
		<oidMustExist ruleid="has_upsDiagnosticPowerModules" oid=".1.3.6.1.4.1.318.1.1.1.13.2" istree="yes" />

		<numSensor ruleid="upsDiagPMTableSize">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.2.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>UPS_DIAG_PM_TABLESIZE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.2.1.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of Power Module Slots</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsDiagPMStatus" index=".1.3.6.1.4.1.318.1.1.1.13.2.2.1.2">
			<type>state</type>
			<sensorId>UPS_DIAG_PM_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
				</mapValue>
			</value>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Power Modules</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagPMFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.2.2.1.3">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_PM_FIRMWARE_REV_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.3</getRowOid>
			</value>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Firmware Revision</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagPMHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.2.2.1.4">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_PM_HARDWARE_REV_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.4</getRowOid>
			</value>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Hardware Revision</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagPMSerialNumber" index=".1.3.6.1.4.1.318.1.1.1.13.2.2.1.5">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_PM_SERIAL_NUM_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.5</getRowOid>
			</value>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Serial Number</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</stringSensor>

		<numSensor ruleid="upsDiagPMManufactureDate" index=".1.3.6.1.4.1.318.1.1.1.13.2.2.1.6">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>timeindays</type>
			<sensorId>UPS_DIAG_PM_AGE_<rowIndex/></sensorId>
			<value>
				<div>
					<op>
						<sub>
							<op>
								<curUTCTime/>
							</op>
							<op>
								<parseDate>
									<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.6</getRowOid>
								</parseDate>
							</op>
						</sub>
					</op>
					<op>86400</op>
				</div>
			</value>
			<valueInc>1</valueInc>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Age</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>

		<stringSensor ruleid="upsDiagPMModelNum" index=".1.3.6.1.4.1.318.1.1.1.13.2.2.1.7">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_PM_MODEL_NUM_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.7</getRowOid>
			</value>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Model Number</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</stringSensor>

		<valueMap ruleid="upsDiagPMAlarmStatus-vm">
			<valueIn>1</valueIn>	<valueOut>1</valueOut>
			<valueIn>2</valueIn>	<valueOut>2</valueOut>
			<valueIn>3</valueIn>	<valueOut>3</valueOut>
			<valueIn>4</valueIn>	<valueOut>4</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagPMAlarmStatus-em">
			<label>Unknown</label>
			<label>No Alarms</label>
			<label>Information</label>
			<label>Warning</label>
			<label>Critical</label>
		</enumMap>
		<stateSensor ruleid="upsDiagPMAlarmStatus" index=".1.3.6.1.4.1.318.1.1.1.13.2.2.1.8">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>state</type>
			<sensorId>UPS_DIAG_PM_ALARM_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagPMAlarmStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.8</getRowOid>
				</mapValue>
			</value>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Alarm Status</label>
			<enum>upsDiagPMAlarmStatus-em</enum>
			<sensorSet>UPS Power Modules</sensorSet>
		</stateSensor>


		<valueMap ruleid="upsDiagPMLifetimeStatus-vm">
			<valueIn>1</valueIn>	<valueOut>1</valueOut>
			<valueIn>2</valueIn>	<valueOut>2</valueOut>
			<valueIn>3</valueIn>	<valueOut>3</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagPMLifetimeStatus-em">
			<label>Unknown</label>
			<label>OK</label>
			<label>Near End</label>
			<label>Exceeded</label>
		</enumMap>
		<stateSensor ruleid="upsDiagPMLifetimeStatus" index=".1.3.6.1.4.1.318.1.1.1.13.2.3.1.2">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>state</type>
			<sensorId>UPS_DIAG_PM_LIFETIME_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagPMLifetimeStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.3.1.2</getRowOid>
				</mapValue>
			</value>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Lifetime Status</label>
			<enum>upsDiagPMLifetimeStatus-em</enum>
			<sensorSet>UPS Power Modules</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsDiagPMEstmtdLifetimeRmng" index=".1.3.6.1.4.1.318.1.1.1.13.2.3.1.3">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>num</type>
			<sensorId>UPS_DIAG_PM_ESTMTD_LIFETIME_RMNG_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.3.1.3</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Lifetime Remaining (months)</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>
		<numSensor ruleid="upsDiagPMEstmtdLifetimeRmngPct" index=".1.3.6.1.4.1.318.1.1.1.13.2.3.1.4">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>UPS_DIAG_PM_ESTMTD_LIFETIME_RMNG_PCT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.3.1.4</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Lifetime Remaining (percent)</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsDiagPMFanLifetimeStatus" index=".1.3.6.1.4.1.318.1.1.1.13.2.3.1.5">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>state</type>
			<sensorId>UPS_DIAG_PM_FAN_LIFETIME_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagPMLifetimeStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.3.1.5</getRowOid>
				</mapValue>
			</value>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Fan Lifetime Status</label>
			<enum>upsDiagPMLifetimeStatus-em</enum>
			<sensorSet>UPS Power Modules</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsDiagPMFanEstmtdLifetimeRmng" index=".1.3.6.1.4.1.318.1.1.1.13.2.3.1.6">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>num</type>
			<sensorId>UPS_DIAG_PM_FAN_ESTMTD_LIFETIME_RMNG_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.3.1.6</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Fan Lifetime Remaining (months)</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>
		<numSensor ruleid="upsDiagPMFanEstmtdLifetimeRmngPct" index=".1.3.6.1.4.1.318.1.1.1.13.2.3.1.7">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.2</getRowOid>
					</op>
					<op>2</op>
				</neq>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>UPS_DIAG_PM_FAN_ESTMTD_LIFETIME_RMNG_PCT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.3.1.7</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Power Module <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.2.1.1</getRowOid> Fan Lifetime Remaining (percent)</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>

		<valueMap ruleid="upsDiagPMEnclDoorFltrLifetime-vm">
			<valueIn>1</valueIn>	<valueOut>1</valueOut>
			<valueIn>2</valueIn>	<valueOut>2</valueOut>
			<valueIn>3</valueIn>	<valueOut>3</valueOut>
			<valueIn>4</valueIn>	<valueOut>4</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagPMEnclDoorFltrLifetime-em">
			<label>Unknown</label>
			<label>Heavy Filtration - 15 Days</label>
			<label>Normal Filtration - 30 Days</label>
			<label>Light Filtration - 60 Days</label>
			<label>Not Present</label>
		</enumMap>
		<stateSensor ruleid="upsDiagPMEnclDoorFltrLifetime" index=".1.3.6.1.4.1.318.1.1.1.13.2.5.1.2">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.2</getRowOid>
					</op>
					<op>4</op>
				</neq>
			</rowTest>
			<type>state</type>
			<sensorId>UPS_DIAG_PM_ENCL_DOOR_FILTER_LIFETIME_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagPMEnclDoorFltrLifetime-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.2</getRowOid>
				</mapValue>
			</value>
			<label>Power Enclosure <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.1</getRowOid> Door Filter Lifetime</label>
			<enum>upsDiagPMEnclDoorFltrLifetime-em</enum>
			<sensorSet>UPS Power Modules</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsDiagPMEnclDoorFltrStatus" index=".1.3.6.1.4.1.318.1.1.1.13.2.5.1.3">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.2</getRowOid>
					</op>
					<op>4</op>
				</neq>
			</rowTest>
			<type>state</type>
			<sensorId>UPS_DIAG_PM_ENCL_DOOR_FILTER_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagPMLifetimeStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Power Enclosure <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.1</getRowOid> Door Filter Status</label>
			<enum>upsDiagPMLifetimeStatus-em</enum>
			<sensorSet>UPS Power Modules</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsDiagPMEnclDoorFltrEstmtdLifetimeRmng" index=".1.3.6.1.4.1.318.1.1.1.13.2.5.1.4">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.2</getRowOid>
					</op>
					<op>4</op>
				</neq>
			</rowTest>
			<type>timeindays</type>
			<sensorId>UPS_DIAG_PM_ENCL_DOOR_FLTR_ESTMTD_LIFETIME_RMNG_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.4</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Power Enclosure <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.1</getRowOid> Door Filter Lifetime Remaining</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>
		<numSensor ruleid="upsDiagPMEnclDoorFltrEstmtdLifetimeRmngPct" index=".1.3.6.1.4.1.318.1.1.1.13.2.5.1.5">
			<rowTest>
				<neq>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.2</getRowOid>
					</op>
					<op>4</op>
				</neq>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>UPS_DIAG_PM_ENCL_DOOR_FLTR_ESTMTD_LIFETIME_RMNGPCT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.5</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Power Enclosure <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.2.5.1.1</getRowOid> Door Filter Lifetime Remaining (percent)</label>
			<sensorSet>UPS Power Modules</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsDiagnosticBatteries">
		<oidMustExist ruleid="has_upsDiagnosticBatteries" oid=".1.3.6.1.4.1.318.1.1.1.13.3" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.46</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<!--
		<valueMap ruleid="upsDiagBatteryStatus-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>7</valueIn><valueOut>6</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagBatteryStatus-em">
			<label>Unknown</label>
			<label>Not Installed</label>
			<label>OK</label>
			<label>Failed</label>
			<label>High Temperature</label>
			<label>Replace Immediately</label>
			<label>Low Capacity</label>
		</enumMap>
		<stateSensor ruleid="upsDiagBatteryStatus" index=".1.3.6.1.4.1.318.1.1.1.13.3.2.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>state</type>
			<sensorId>BATTERY_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagBatteryStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Battery <formatNumber printffmt="%02.0f"><rowIndex/></formatNumber> Status</label>
			<enum>upsDiagBatteryStatus-em</enum>
			<sensorSet>UPS Diagnostics - Batteries</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagBatterySerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.3.2.1.4">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>BATTERY_SERIAL_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.4</getRowOid>
			</value>
			<label>Battery <formatNumber printffmt="%02.0f"><rowIndex/></formatNumber> Serial Number</label>
			<sensorSet>UPS Diagnostics - Batteries</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagBatteryFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.3.2.1.5">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>BATTERY_FIRMWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.5</getRowOid>
			</value>
			<label>Battery <formatNumber printffmt="%02.0f"><rowIndex/></formatNumber> Firmware Revision</label>
			<sensorSet>UPS Diagnostics - Batteries</sensorSet>
		</stringSensor>
		-->

		<!-- .1.3.6.1.4.1.318.1.1.1.13.3.2.1.6 | upsDiagBatteryManufactureDate -->

		<stringSensor ruleid="upsDiagBatteryType" index=".1.3.6.1.4.1.318.1.1.1.13.3.2.1.7">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_emptyString-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.7</getRowOid>
				</mapValue>
			</rowTest>
			<type>string</type>
			<sensorId>BATT_TYPE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.7</getRowOid>
			</value>
			<label>
				Battery Type -<space/>
				<regex>
				<op>(\d+)\.(\d+)\.(\d+)</op>
				<op><rowIndex/></op>
				<op>Enclosure %1$s Battery %3$s</op>
				</regex>
			</label>
			<sensorSet>UPS Diagnostics - Batteries</sensorSet>
		</stringSensor>

		<valueMap ruleid="upsDiagBatteryFramePresent-vm">
			<valueIn>0</valueIn><valueOut>0</valueOut>
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>2</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagBatteryFramePresent-em">
			<label>Not Present</label>
			<label>Present</label>
			<label>Unknown</label>
		</enumMap>
		<stateSensor ruleid="upsDiagBatteryFramePresent" index=".1.3.6.1.4.1.318.1.1.1.13.3.2.1.8">
			<type>state</type>
			<sensorId>BATTFRAME_PRESENT_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagBatteryFramePresent-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.8</getRowOid>
				</mapValue>
			</value>
			<label>
				Battery Frame Present -<space/>
				<regex>
				<op>(\d+)\.(\d+)\.(\d+)</op>
				<op><rowIndex/></op>
				<op>Enclosure %1$s Battery %3$s</op>
				</regex>
			</label>
			<enum>upsDiagBatteryFramePresent-em</enum>
			<sensorSet>UPS Diagnostics - Batteries</sensorSet>
		</stateSensor>


		<numSensor ruleid="upsDiagBatteryFrameTemperature" index=".1.3.6.1.4.1.318.1.1.1.13.3.2.1.9">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.9</getRowOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>BATT_TEMP<rowNumber/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.3.2.1.9</getRowOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>
				Battery Frame Temperature -<space/>
				<regex>
				<op>(\d+)\.(\d+)\.(\d+)</op>
				<op><rowIndex/></op>
				<op>Enclosure %1$s Battery %3$s</op>
				</regex>
			</label>
			<sensorSet>UPS Diagnostics - Batteries</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.13.3.4.1.3 | upsDiagBatteryPositiveVoltage -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.3.4.1.4 | upsDiagBatteryNegativeVoltage -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.3.4.1.5 | upsDiagBatteryTemperature -->
	</device>

	<device deviceid="upsDiagSubSysFrame">
		<oidMustExist ruleid="has_upsDiagSubSysFrame" oid=".1.3.6.1.4.1.318.1.1.1.13.4.2" istree="yes" />

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.2.1.2 | upsDiagSubSysFrameType -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.2.1.3 | upsDiagSubSysFrameFirmwareRev -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.2.1.4 | upsDiagSubSysFrameHardwareRev -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.2.1.5 | upsDiagSubSysFrameSerialNum -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.2.1.6 | upsDiagSubSysFrameManufactureDate -->
	</device>

	<device deviceid="upsDiagSubSysIntBypSwitch">
		<oidMustExist ruleid="has_upsDiagSubSysIntBypSwitchTable" oid=".1.3.6.1.4.1.318.1.1.1.13.4.4" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsDiagSubSysIntBypSwitchStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.4.1.3">
			<type>state</type>
			<sensorId>STATIC_BYPASS_SWITCH_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Internal Bypass Switch <rowIndex/> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagSubSysIntBypSwitchFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.4.1.4">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>STATIC_BYPASS_SWITCH_FIRMWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.4</getRowOid>
			</value>
			<label>Internal Bypass Switch <rowIndex/> Firmware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysIntBypSwitchHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.4.1.5">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>STATIC_BYPASS_SWITCH_HARDWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.5</getRowOid>
			</value>
			<label>Internal Bypass Switch <rowIndex/> Hardware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysIntBypSwitchSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.4.4.1.6">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>STATIC_BYPASS_SWITCH_SERIAL_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.6</getRowOid>
			</value>
			<label>Internal Bypass Switch <rowIndex/> Serial Number</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.4.1.7 | upsDiagSubSysIntBypSwitchManufactureDate -->

		<stringSensor ruleid="upsDiagSubSysIntBypSwitchModelNum" index=".1.3.6.1.4.1.318.1.1.1.13.4.4.1.8">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>STATIC_BYPASS_SWITCH_MODEL_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.4.1.8</getRowOid>
			</value>
			<label>Internal Bypass Switch <rowIndex/> Model Number</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
	</device>

	<device deviceid="upsDiagSubSysBattMonitor">
		<oidMustExist ruleid="has_upsDiagSubSysBattMonitorTable" oid=".1.3.6.1.4.1.318.1.1.1.13.4.6" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsDiagSubSysIntBypSwitchStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.6.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.6.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>state</type>
			<sensorId>BATTERY_MONITORING_CARD_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.6.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Battery Monitor Board <rowIndex/> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagSubSysIntBypSwitchFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.6.1.4">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.6.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>BATTERY_MONITORING_CARD_FIRMWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.6.1.4</getRowOid>
			</value>
			<label>Battery Monitor Board <rowIndex/> Firmware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysIntBypSwitchHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.6.1.5">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.6.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>BATTERY_MONITORING_CARD_HARDWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.6.1.5</getRowOid>
			</value>
			<label>Battery Monitor Board <rowIndex/> Hardware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysIntBypSwitchSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.4.6.1.6">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.6.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>BATTERY_MONITORING_CARD_SERIAL_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.6.1.6</getRowOid>
			</value>
			<label>Battery Monitor Board <rowIndex/> Serial Number</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.6.1.7 | upsDiagSubSysBattMonitorManufactureDate -->
	</device>

	<device deviceid="upsDiagSubSysExternalSwitchGear">
		<oidMustExist ruleid="has_upsDiagSubSysExternalSwitchGearTable" oid=".1.3.6.1.4.1.318.1.1.1.13.4.8" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsDiagSubSysExternalSwitchGearStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.8.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>state</type>
			<sensorId>SWITCHGEAR_MONITORING_CARD_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.3</getRowOid>
				</mapValue>
			</value>
			<label>External Switchgear <rowIndex/> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagSubSysExternalSwitchGearFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.8.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SWITCHGEAR_MONITORING_CARD_FIRMWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.4</getRowOid>
			</value>
			<label>External Switchgear <rowIndex/> Firmware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysExternalSwitchGearHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.8.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SWITCHGEAR_MONITORING_CARD_HARDWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.5</getRowOid>
			</value>
			<label>External Switchgear <rowIndex/> Hardware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysExternalSwitchGearSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.4.8.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SWITCHGEAR_MONITORING_CARD_SERIAL_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.6</getRowOid>
			</value>
			<label>External Switchgear <rowIndex/> Serial Number</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.8.1.7 | upsDiagSubSysExternalSwitchGearManufactureDate -->

		<numSensor ruleid="upsDiagSubSysExternalSwitchGearTemperature" index=".1.3.6.1.4.1.318.1.1.1.13.4.8.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>temp</type>
			<sensorId>SWITCHGEAR_MONITORING_CARD_TEMPERATURE_<rowIndex/></sensorId>
			<value>
				<mult><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.8.1.8</getRowOid></op><op>0.1</op></mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>External Switchgear <rowIndex/> Temperature</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsDiagSubSysDisplayInterfaceCard">
		<oidMustExist ruleid="has_upsDiagSubSysDisplayInterfaceCardTable" oid=".1.3.6.1.4.1.318.1.1.1.13.4.10" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsDiagSubSysDisplayInterfaceCardStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.10.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.10.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>state</type>
			<sensorId>DISPLAY_INTERFACE_CARD_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.10.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Display Interface Card <rowIndex/> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>

	</device>

	<device deviceid="upsDiagSubSysDCCircuitBreaker">
		<oidMustExist ruleid="has_upsDiagSubSysDCCircuitBreakerTable" oid=".1.3.6.1.4.1.318.1.1.1.13.4.12" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<valueMap ruleid="upsDiagSubSysDCCircuitBreakerStatus-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagSubSysDCCircuitBreakerStatus-em">
			<label>Unknown</label>
			<label>Not Installed</label>
			<label>Open</label>
			<label>Closed</label>
		</enumMap>
		<stateSensor ruleid="upsDiagSubSysDCCircuitBreakerStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.12.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.12.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>state</type>
			<sensorId>DC_CIRCUIT_BREAKER_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagSubSysDCCircuitBreakerStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.12.1.3</getRowOid>
				</mapValue>
			</value>
			<label>DC Circuit Breaker <rowIndex/> Status</label>
			<enum>upsDiagSubSysDCCircuitBreakerStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagSubSysSystemPowerSupply">
		<oidMustExist ruleid="has_upsDiagSubSysSystemPowerSupplyTable" oid=".1.3.6.1.4.1.318.1.1.1.13.4.14" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsDiagSubSysSystemPowerSupplyStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.14.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.14.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>state</type>
			<sensorId>SYSTEM_POWER_SUPPLY_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.14.1.3</getRowOid>
				</mapValue>
			</value>
			<label>System Power Supply <rowIndex/> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagSubSysSystemPowerSupplyFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.14.1.4">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.14.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SYSTEM_POWER_SUPPLY_FIRMWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.14.1.4</getRowOid>
			</value>
			<label>System Power Supply <rowIndex/> Firmware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysSystemPowerSupplyHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.14.1.5">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.14.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SYSTEM_POWER_SUPPLY_HARDWARE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.14.1.5</getRowOid>
			</value>
			<label>System Power Supply <rowIndex/> Hardware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysSystemPowerSupplySerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.4.14.1.6">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.14.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SYSTEM_POWER_SUPPLY_SERIAL_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.14.1.6</getRowOid>
			</value>
			<label>System Power Supply <rowIndex/> Serial Number</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.14.1.7 | upsDiagSubSysSystemPowerSupplyManufactureDate -->
	</device>

	<device deviceid="upsDiagSubSysXRCommunicationCard">
		<oidMustExist ruleid="has_upsDiagSubSysXRCommunicationCardTable" oid=".1.3.6.1.4.1.318.1.1.1.13.4.16" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.*</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsDiagSubSysXRCommunicationCardStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.16.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.16.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>state</type>
			<sensorId>XR_COM_CARD_STATUS<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.16.1.3</getRowOid>
				</mapValue>
			</value>
			<label>XR Communication Card <rowIndex/> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagSubSysXRCommunicationCardFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.16.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.16.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>XR_COM_CARD_FWREV<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.16.1.4</getRowOid>
			</value>
			<label>XR Communication Card <rowIndex/> Firmware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysXRCommunicationCardSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.4.16.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.16.1.3</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>XR_COM_CARD_SERIAL<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.16.1.5</getRowOid>
			</value>
			<label>XR Communication Card <rowIndex/> Serial Number</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
	</device>

	<device deviceid="upsDiagSubSysExternalPowerFrameBoard">
		<oidMustExist ruleid="has_upsDiagSubSysExternalPowerFrameBoard" oid=".1.3.6.1.4.1.318.1.1.1.13.4.18" istree="yes" />

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.18.1.3 | upsDiagSubSysExternalPowerFrameBoardStatus -->

	</device>

	<device deviceid="upsDiagSubSysCharger">
		<oidMustExist ruleid="display" oid=".1.3.6.1.4.1.318.1.1.1.13.4.20" istree="yes"/>
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.25</value>	<!-- galaxy 5000 120kva -->
				<value>.1.3.6.1.4.1.318.1.3.28.34</value>	<!-- galaxy 5500 120kva -->
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsDiagSubSysChargerStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.20.1.3">
			<type>state</type>
			<sensorId>UPS_DIAG_SUBSYS_CHARGER_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.20.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Frame <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.20.1.1</getRowOid> Charger <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.20.1.2</getRowOid> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagSubSysInverter">
		<oidMustExist ruleid="has_upsDiagSubSysInverter" oid=".1.3.6.1.4.1.318.1.1.1.13.4.22" istree="yes" />

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.22.1.3 | upsDiagSubSysInverterStatus -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.22.1.4 | upsDiagSubSysInverterFirmwareRev -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.22.1.5 | upsDiagSubSysInverterHardwareRev -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.22.1.6 | upsDiagSubSysInverterSerialNum -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.22.1.7 | upsDiagSubSysInverterManufactureDate -->
	</device>

	<device deviceid="upsDiagSubSysPowerFactorCorrection">
		<oidMustExist ruleid="has_upsDiagSubSysPowerFactorCorrection" oid=".1.3.6.1.4.1.318.1.1.1.13.4.24" istree="yes" />

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.24.1.3 | upsDiagSubSysPowerFactorCorrectionStatus -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.24.1.4 | upsDiagSubSysPowerFactorCorrectionFirmwareRev -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.24.1.5 | upsDiagSubSysPowerFactorCorrectionHardwareRev -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.24.1.6 | upsDiagSubSysPowerFactorCorrectionSerialNum -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.24.1.7 | upsDiagSubSysPowerFactorCorrectionManufactureDate -->
	</device>

	<device deviceid="upsDiagSubSysNetworkComCard">
		<oidMustExist ruleid="has_upsDiagSubSysNetworkComCard" oid=".1.3.6.1.4.1.318.1.1.1.13.4.26" istree="yes" />

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.26.1.2 | upsDiagSubSysNetworkComCardModelNumber -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.26.1.3 | upsDiagSubSysNetworkComCardSerialNumber -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.26.1.4 | upsDiagSubSysNetworkComCardDateOfManufacture -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.26.1.5 | upsDiagSubSysNetworkComCardHardwareRev -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.26.1.6 | upsDiagSubSysNetworkComCardFirmwareAppRev -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.26.1.7 | upsDiagSubSysNetworkComCardFirmwareAppOSRev -->
	</device>

	<device deviceid="upsDiagSubSysUsrSuppBattMonitor">
		<oidMustExist ruleid="has_upsDiagSubSysUsrSuppBattMonitor" oid=".1.3.6.1.4.1.318.1.1.1.13.4.28" istree="yes" />

		<stateSensor ruleid="upsDiagSubSysUsrSuppBattMonitorStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.28.1.2">
			<type>state</type>
			<sensorId>USR_SUPP_BATT_MON_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.2</getRowOid>
				</mapValue>
			</value>
			<label>User-Supplied Battery Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.1</getRowOid> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagSubSysUsrSuppBattMonitorFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.28.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>USR_SUPP_BATT_MON_FIRMWARE_REV_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.3</getRowOid>
			</value>
			<label>User-Supplied Battery Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.1</getRowOid> Firmware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysUsrSuppBattMonitorHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.28.1.4">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>USR_SUPP_BATT_MON_HARDWARE_REV_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.4</getRowOid>
			</value>
			<label>User-Supplied Battery Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.1</getRowOid> Hardware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysUsrSuppBattMonitorSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.4.28.1.5">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>USR_SUPP_BATT_MON_SERIAL_NUM_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.5</getRowOid>
			</value>
			<label>User-Supplied Battery Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.1</getRowOid> Serial Number</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<numSensor ruleid="upsDiagSubSysUsrSuppBattMonitorTemperature" index=".1.3.6.1.4.1.318.1.1.1.13.4.28.1.6">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>temp</type>
			<sensorId>USR_SUPP_BATT_MON_TEMP_<rowIndex/></sensorId>
			<value>
				<mult><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.6</getRowOid></op><op>0.1</op></mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>User-Supplied Battery Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.28.1.1</getRowOid> Temperature</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsDiagSubSysUsrSuppBattBreakerStatus">
		<oidMustExist ruleid="has_upsDiagSubSysUsrSuppBattBreakerStatus" oid=".1.3.6.1.4.1.318.1.1.1.13.4.29" istree="yes" />

		<valueMap ruleid="upsDiagSubSysUsrSuppBattBreakerStatus-vm">
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>4</valueIn>	<valueOut>3</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagSubSysUsrSuppBattBreakerStatus-em">
			<label>Unknown</label>
			<label>Not Installed</label>
			<label>Opened</label>
			<label>Closed</label>
		</enumMap>
		<stateSensor ruleid="upsDiagSubSysUsrSuppBattBreakerStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_SUBSYS_USR_SUPP_BATT_BREAKER_STATUS</sensorId>
			<value>
				<mapValue mapid="upsDiagSubSysUsrSuppBattBreakerStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.4.29.0</getOid>
				</mapValue>
			</value>
			<label>User-Supplied Battery Breaker Status</label>
			<enum>upsDiagSubSysUsrSuppBattBreakerStatus-em</enum>
			<sensorSet>UPS Diagnostics - Batteries</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagSubSysPSU">
		<oidMustExist ruleid="has_upsDiagSubSysPSU" oid=".1.3.6.1.4.1.318.1.1.1.13.4.31" istree="yes" />

		<!-- .1.3.6.1.4.1.318.1.1.1.13.4.31.1.2 | upsDiagSubSysPSUStatus -->
		<stateSensor ruleid="upsDiagSubSysPSUStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.31.1.2">
			<type>state</type>
			<sensorId>UPS_DIAG_SUBSYS_PSU_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.31.1.2</getRowOid>
				</mapValue>
			</value>
			<label>Power Supply <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.31.1.1</getRowOid> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>

	</device>

	<device deviceid="upsDiagSubSysIDRC">
		<oidMustExist ruleid="has_upsDiagSubSysIDRC" oid=".1.3.6.1.4.1.318.1.1.1.13.4.33" istree="yes" />

		<stateSensor ruleid="upsDiagSubSysIDRCStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.33.1.2">
			<type>state</type>
			<sensorId>UPS_DIAG_SUBSYS_IDRC_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.2</getRowOid>
				</mapValue>
			</value>
			<label>ID and Relay Controller Card <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.1</getRowOid> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagSubSysIDRCFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.33.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_SUBSYS_IDRC_FIRMWARE_REV_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.3</getRowOid>
			</value>
			<label>ID and Relay Controller Card <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.1</getRowOid> Firmware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysIDRCHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.4.33.1.4">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_SUBSYS_IDRC_HARDWARE_REV_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.4</getRowOid>
			</value>
			<label>ID and Relay Controller Card <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.1</getRowOid> Hardware Revision</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSubSysIDRCSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.4.33.1.5">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_SUBSYS_IDRC_SERIAL_NUM_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.5</getRowOid>
			</value>
			<label>ID and Relay Controller Card <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.33.1.1</getRowOid> Serial Number</label>
			<sensorSet>UPS Subsystems</sensorSet>
		</stringSensor>
	</device>

	<device deviceid="upsDiagSubSysExternalConnectorStatus">
		<oidMustExist ruleid="has-upsDiagSubSysExternalConnectorStatus" oid=".1.3.6.1.4.1.318.1.1.1.13.4.34.0" />

		<stateSensor ruleid="upsDiagSubSysExternalConnectorStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_SUBSYS_EXTERNAL_CONNECTOR_STATUS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.4.34.0</getOid>
				</mapValue>
			</value>
			<label>External Connector Board Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Subsystems</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagSubSysBackfeedContactor">
		<oidMustExist ruleid="display" oid=".1.3.6.1.4.1.318.1.1.1.13.4.36" istree="yes"/>
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.25</value>	<!-- galaxy 5000 120kva -->
				<value>.1.3.6.1.4.1.318.1.3.28.34</value>	<!-- galaxy 5500 120kva -->
			</valueList>
		</oidMustMatch>
		<valueMap ruleid="upsDiagSubSysbackfeedContactorType-vm">
			<valueIn>1</valueIn>	<valueOut>0</valueOut>
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagSubSysbackfeedContactorType-em">
			<label>Unknown</label>
			<label>Normal AC</label>
			<label>Bypass AC</label>
		</enumMap>
		<stateSensor ruleid="upsDiagSubSysbackfeedContactorType" index=".1.3.6.1.4.1.318.1.1.1.13.4.36.1.3">
			<type>state</type>
			<sensorId>UPS_DIAG_SUBSYS_BACKFEED_CONTACTOR_TYPE_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagSubSysbackfeedContactorType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.36.1.3</getRowOid>
				</mapValue>
			</value>
			<label>Backfeed Contactor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.36.1.2</getRowOid><space/>- Type</label>
			<enum>upsDiagSubSysbackfeedContactorType-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsDiagSubSysbackfeedContactorStatus-vm">
			<valueIn>1</valueIn>	<valueOut>0</valueOut>
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagSubSysbackfeedContactorStatus-em">
			<label>Unknown</label>
			<label>Opened</label>
			<label>Closed</label>
		</enumMap>
		<stateSensor ruleid="upsDiagSubSysbackfeedContactorStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.36.1.4">

			<type>state</type>
			<sensorId>UPS_DIAG_SUBSYS_BACKFEED_CONTACTOR_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagSubSysbackfeedContactorStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.36.1.4</getRowOid>
				</mapValue>
			</value>
			<label>Backfeed Contactor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.36.1.2</getRowOid><space/>- Status</label>
			<enum>upsDiagSubSysbackfeedContactorStatus-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagSubSysIntBypSwitchFanLifetimeInfo">
		<oidMustExist ruleid="display" oid=".1.3.6.1.4.1.318.1.1.1.13.4.38" istree="yes"/>
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<valueMap ruleid="upsDiagSubSysIntBypSwitchFanLifetimeStatus-vm">
			<valueIn>1</valueIn>	<valueOut>1</valueOut>
			<valueIn>2</valueIn>	<valueOut>2</valueOut>
			<valueIn>3</valueIn>	<valueOut>3</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagSubSysIntBypSwitchFanLifetimeStatus-em">
			<label>Unknown</label>
			<label>OK</label>
			<label>Near End</label>
			<label>Exceeded</label>
		</enumMap>
		<stateSensor ruleid="upsDiagSubSysIntBypSwitchFanLifetimeStatus" index=".1.3.6.1.4.1.318.1.1.1.13.4.38.1.2">
			<type>state</type>
			<sensorId>UPS_DIAG_SUBSYS_INT_BYPASS_SWITCH_FAN_LIFETIME_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagSubSysIntBypSwitchFanLifetimeStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.38.1.2</getRowOid>
				</mapValue>
			</value>
			<label>Internal Bypass Switch Fan <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.38.1.1</getRowOid> Lifetime Status</label>
			<enum>upsDiagSubSysIntBypSwitchFanLifetimeStatus-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsDiagSubSysIntBypSwitchFanEstmtdLifetimeRmng" index=".1.3.6.1.4.1.318.1.1.1.13.4.38.1.3">
			<type>timeindays</type>
			<sensorId>UPS_DIAG_SUBSYS_INT_BYPASS_SWITCH_FAN_EST_LIFETIME_RMNG_<rowIndex/></sensorId>
			<value>
				<mult>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.38.1.3</getRowOid></op>
				<op>30</op><!-- assume 30-day months -->
				</mult>
			</value>
			<valueInc>1</valueInc>
			<label>Internal Bypass Switch Fan <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.38.1.1</getRowOid> Lifetime Remaining</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</numSensor>
		<numSensor ruleid="upsDiagSubSysIntBypSwitchFanEstmtdLifetimeRmngPct" index=".1.3.6.1.4.1.318.1.1.1.13.4.38.1.4">
			<type>pctofcapacity</type>
			<sensorId>UPS_DIAG_SUBSYS_INT_BYPASS_SWITCH_FAN_EST_LIFETIME_PCT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.38.1.4</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Internal Bypass Switch Fan <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.4.38.1.1</getRowOid> Lifetime Remaining Percentage</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsDiagSwitchGear">
		<oidMustExist ruleid="has_upsDiagSwitchGear" oid=".1.3.6.1.4.1.318.1.1.1.13.5.1" istree="yes" />

		<valueMap ruleid="upsDiagSwitchGearStatus-vm">
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>4</valueIn>	<valueOut>3</valueOut>
			<valueIn>5</valueIn>	<valueOut>4</valueOut>
			<valueIn>6</valueIn>	<valueOut>5</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagSwitchGearStatus-em">
			<label>Unknown</label>
			<label>Not Installed</label>
			<label>OK</label>
			<label>Fail</label>
			<label>Lost Comm</label>
			<label>Over Temp</label>
		</enumMap>
		<stateSensor ruleid="upsDiagSwitchGearStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_SWITCHGEAR_STATUS</sensorId>
			<value>
				<mapValue mapid="upsDiagSwitchGearStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.1.0</getOid>
				</mapValue>
			</value>
			<label>Switchgear Status</label>
			<enum>upsDiagSwitchGearStatus-em</enum>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stateSensor>

		<valueMap ruleid="switchgearSwitchStatus-vm">
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>4</valueIn>	<valueOut>3</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="switchgearSwitchStatus-em">
			<label>Unknown</label>
			<label>Not Installed</label>
			<label>Opened</label>
			<label>Closed</label>
		</enumMap>
		<stateSensor ruleid="upsDiagSwitchGearInputSwitchStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_SWITCHGEAR_INPUT_SWITCH_STATUS</sensorId>
			<value>
				<mapValue mapid="switchgearSwitchStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.2.0</getOid>
				</mapValue>
			</value>
			<label>Switchgear Input Switch Status</label>
			<enum>switchgearSwitchStatus-em</enum>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsDiagSwitchGearOutputSwitchStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_SWITCHGEAR_OUTPUT_SWITCH_STATUS</sensorId>
			<value>
				<mapValue mapid="switchgearSwitchStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.3.0</getOid>
				</mapValue>
			</value>
			<label>Switchgear Output Switch Status</label>
			<enum>switchgearSwitchStatus-em</enum>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsDiagSwitchGearBypassSwitchStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_SWITCHGEAR_BYPASS_SWITCH_STATUS</sensorId>
			<value>
				<mapValue mapid="switchgearSwitchStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.4.0</getOid>
				</mapValue>
			</value>
			<label>Switchgear Bypass Switch Status</label>
			<enum>switchgearSwitchStatus-em</enum>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsDiagSwitchGearBypassInputSwitchStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_SWITCHGEAR_BYPASS_INPUT_SWITCH_STATUS</sensorId>
			<value>
				<mapValue mapid="switchgearSwitchStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.5.0</getOid>
				</mapValue>
			</value>
			<label>Switchgear Bypass Input Switch Status</label>
			<enum>switchgearSwitchStatus-em</enum>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stateSensor>

		<valueMap ruleid="switchgearBreakerType-vm">
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>4</valueIn>	<valueOut>3</valueOut>
			<valueIn>5</valueIn>	<valueOut>4</valueOut>
			<valueIn>6</valueIn>	<valueOut>5</valueOut>
			<valueIn>7</valueIn>	<valueOut>6</valueOut>
			<valueIn>8</valueIn>	<valueOut>7</valueOut>
			<valueIn>9</valueIn>	<valueOut>8</valueOut>
			<valueIn>10</valueIn>	<valueOut>9</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="switchgearBreakerType-em">
			<label>Unknown</label>
			<label>Unit Input Breaker</label>
			<label>Static Switch Input Breaker</label>
			<label>Maintenance Bypass Breaker</label>
			<label>Unit Output Breaker</label>
			<label>System Isolation Breaker</label>
			<label>Battery Breaker</label>
			<label>Bypass Backfeed Breaker</label>
			<label>Internal Maintenance Bypass Breaker</label>
			<label>Redundant Internal Maintenance Bypass Breaker</label>
		</enumMap>
		<stateSensor ruleid="switchgearBreakerType" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.4">
			<rowTest>
				<eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.2</getRowOid></op><op>2</op></eq>
			</rowTest>
			<type>state</type>
			<sensorId>SWITCHGEAR_BREAKER_TYPE_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.1</getRowOid></sensorId>
			<value>
				<mapValue mapid="switchgearBreakerType-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.4</getRowOid>
				</mapValue>
			</value>
			<label>Switchgear Breaker <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.3</getRowOid> Type</label>
			<enum>switchgearBreakerType-em</enum>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stateSensor>

		<valueMap ruleid="switchgearBreakerStatus-vm">
			<valueIn>2</valueIn>	<valueOut>1</valueOut>
			<valueIn>3</valueIn>	<valueOut>2</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="switchgearBreakerStatus-em">
			<label>Unknown</label>
			<label>Opened</label>
			<label>Closed</label>
		</enumMap>
		<stateSensor ruleid="switchgearBreakerStatus" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.5">
			<rowTest>
				<eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.2</getRowOid></op><op>2</op></eq>
			</rowTest>
			<type>state</type>
			<sensorId>SWITCHGEAR_BREAKER_STATUS_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.1</getRowOid></sensorId>
			<value>
				<mapValue mapid="switchgearBreakerStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.5</getRowOid>
				</mapValue>
			</value>
			<label>Switchgear Breaker <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.7.1.3</getRowOid> Status</label>
			<enum>switchgearBreakerStatus-em</enum>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stateSensor>

		<numSensor ruleid="subfeedBreakerRating" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.3">
			<rowTest>
				<eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.2</getRowOid></op><op>2</op></eq>
			</rowTest>
			<type>amperage</type>
			<sensorId>SUBFEED_BREAKER_RATING_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.3</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Subfeed Breaker <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid> (<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.7</getRowOid>) Rating</label>
			<sensorSet>UPS Diagnostics - Subfeed</sensorSet>
		</numSensor>
		<numSensor ruleid="subfeedBreakerUpperAcceptPowerWarning" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.4">
			<rowTest>
				<eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.2</getRowOid></op><op>2</op></eq>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>SUBFEED_BREAKER_UPPER_ACCEPT_POWER_WARNING_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.4</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Subfeed Breaker <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid> (<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.7</getRowOid>) Acceptable Load - Warning Level</label>
			<sensorSet>UPS Diagnostics - Subfeed</sensorSet>
		</numSensor>
		<numSensor ruleid="subfeedBreakerUpperAcceptPowerCritical" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.5">
			<rowTest>
				<eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.2</getRowOid></op><op>2</op></eq>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>SUBFEED_BREAKER_UPPER_ACCEPT_POWER_CRITICAL_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.5</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Subfeed Breaker <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid> (<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.7</getRowOid>) Acceptable Load - Critical Level</label>
			<sensorSet>UPS Diagnostics - Subfeed</sensorSet>
		</numSensor>
		<stateSensor ruleid="subfeedBreakerStatus" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.6">
			<type>state</type>
			<sensorId>SUBFEED_BREAKER_STATUS_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid></sensorId>
			<value>
				<mapValue mapid="switchgearSwitchStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.6</getRowOid>
				</mapValue>
			</value>
			<label>Subfeed Breaker <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid> (<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.7</getRowOid>) Status</label>
			<enum>switchgearSwitchStatus-em</enum>
			<sensorSet>UPS Diagnostics - Subfeed</sensorSet>
		</stateSensor>
		<numSensor ruleid="subfeedBreakerCurrent" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.8">
			<rowTest>
				<eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.2</getRowOid></op><op>2</op></eq>
			</rowTest>
			<type>amperage</type>
			<sensorId>SUBFEED_BREAKER_CURRENT_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid></sensorId>
			<value>
				<mult><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.8</getRowOid></op><op>0.1</op></mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Subfeed Breaker <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.1</getRowOid> (<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.7</getRowOid>) Current Total</label>
			<sensorSet>UPS Diagnostics - Subfeed</sensorSet>
		</numSensor>

		<numSensor ruleid="upsDiagSwitchGearInstallationLoadPct">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>SWITCHGEAR_INSTALLATION_LOAD_PCT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.10.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Installation Load</label>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</numSensor>

		<numSensor ruleid="upsDiagSubFeedPhaseCurrentAlternate" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.11.1.4">
			<rowTest>
				<eq>
				<op>
					<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.2.
					<formatNumber printffmt="%1.0f">
					<add><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.11.1.1</getRowOid></op><op>1</op></add>
					</formatNumber>
					</getOid>
				</op>
				<op>2</op>
				</eq>
			</rowTest>
			<type>amperage</type>
			<sensorId>SUBFEED_BREAKER_PHASE_CURRENT_<rowIndex/></sensorId>
			<value>
				<mult><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.11.1.4</getRowOid></op><op>0.1</op></mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>
				<regex>
				<op>(\d+)\.(\d+)\.(\d+)</op>
				<op><rowIndex/></op>
				<op>
					Subfeed Breaker %1$s<space/>
					(<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.9.1.7.
					<formatNumber printffmt="%1.0f">
						<add>
						<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.11.1.1</getRowOid></op>
						<op>1</op>
						</add>
					</formatNumber>
					</getOid>)
					<space/>Phase %3$s Current
				</op>
				<op>Subfeed Breaker Phase Current <rowIndex/></op>
				</regex>
			</label>
			<sensorSet>UPS Diagnostics - Subfeed</sensorSet>
		</numSensor>

		<!-- .1.3.6.1.4.1.318.1.1.1.13.5.1.12.0 | upsDiagSwitchgearSerialNumber -->

		<numSensor ruleid="upsDiagSwitchgearAmbientTemperature">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>DIAG_SWITCH_GEAR_AMBIENT_TEMPERATURE</sensorId>
			<value>
				<mult><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.13.0</getOid></op><op>0.1</op></mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Switchgear Ambient Temperature</label>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsDiagUsrSuppSwitchgearMonitorStatus" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.2">
			<rowTest>
				<eq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.2</getRowOid></op><op>2</op></eq>
			</rowTest>
			<type>state</type>
			<sensorId>SWITCHGEAR_MONITOR_STATUS_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.2</getRowOid>
				</mapValue>
			</value>
			<label>Switchgear Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stateSensor>
		<stringSensor ruleid="upsDiagUsrSuppSwitchgearMonitorFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.3">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SWITCHGEAR_MONITOR_FIRMWARE_REV_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.3</getRowOid>
			</value>
			<label>Switchgear Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid> Firmware Revision</label>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagUsrSuppSwitchgearMonitorHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.4">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SWITCHGEAR_MONITOR_HARDWARE_REV_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.4</getRowOid>
			</value>
			<label>Switchgear Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid> Hardware Revision</label>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagUsrSuppSwitchgearMonitorSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.5">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>SWITCHGEAR_MONITOR_SERIAL_NUM_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.5</getRowOid>
			</value>
			<label>Switchgear Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid> Serial Number</label>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</stringSensor>
		<numSensor ruleid="upsDiagUsrSuppSwitchgearMonitorTemperature" index=".1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.6">
			<rowTest>
				<neq><op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.2</getRowOid></op><op>2</op></neq>
			</rowTest>
			<type>temp</type>
			<sensorId>SWITCHGEAR_MONITOR_TEMPERATURE_<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.6</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Switchgear Monitor <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.5.1.15.1.1</getRowOid> Temperature</label>
			<sensorSet>UPS Diagnostics - Switchgear</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsDiagMCCBBox">
		<oidMustExist ruleid="has_upsDiagMCCBBox" oid=".1.3.6.1.4.1.318.1.1.1.13.5.2" istree="yes" />

		<!-- .1.3.6.1.4.1.318.1.1.1.13.5.2.1.0 | upsDiagMCCBBoxStatus -->
	</device>

	<device deviceid="upsDiagTransformer">
		<oidMustExist ruleid="has_upsDiagTransformer" oid=".1.3.6.1.4.1.318.1.1.1.13.5.3" istree="yes" />
		<!-- .1.3.6.1.4.1.318.1.1.1.13.5.3.1.0 | upsDiagTransformerStatus -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.5.3.2.0 | upsDiagTransformerCoolingFanStatus -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.5.3.3.0 | upsDiagTransformerPduServiceType -->
		<!-- .1.3.6.1.4.1.318.1.1.1.13.5.3.4.0 | upsDiagTransformerNominalInputVoltage -->
	</device>

	<device deviceid="upsDiagFlyWheel">
		<oidMustExist ruleid="has_upsDiagFlyWheel" oid=".1.3.6.1.4.1.318.1.1.1.13.5.4" istree="yes" />

		<valueMap ruleid="upsDiagFlyWheelStatus-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagFlyWheelStatus-em">
			<label>Unknown</label>
			<label>Present</label>
			<label>Not Present</label>
		</enumMap>
		<stateSensor ruleid="upsDiagFlyWheelStatus">
			<type>state</type>
			<sensorId>FLYWHEEL_STATUS</sensorId>
			<value>
				<mapValue mapid="upsDiagFlyWheelStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.5.4.1.0</getOid>
				</mapValue>
			</value>
			<label>Flywheel Status</label>
			<enum>upsDiagFlyWheelStatus-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagnosticComBus">
		<oidMustExist ruleid="has_upsDiagnosticComBus" oid=".1.3.6.1.4.1.318.1.1.1.13.6" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.13.*</value>
				<value>.1.3.6.1.4.1.318.1.3.23.1</value>
				<value>.1.3.6.1.4.1.318.1.3.23.2</value>
				<value>.1.3.6.1.4.1.318.1.3.23.5</value>
				<value>.1.3.6.1.4.1.318.1.3.23.6</value>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<valueMap ruleid="mim-rim-status-vm">
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="mim-rim-status-em">
			<label>Unknown</label>
			<label>Not Installed</label>
			<label>OK</label>
			<label>Lost Communication</label>
			<label>RX Failure</label>
			<label>TX Failure</label>
		</enumMap>
		<stateSensor ruleid="upsDiagComBusInternalMIMStatus">
			<type>state</type>
			<sensorId>MIM_INTERNAL_CAN_BUS</sensorId>
			<value>
				<mapValue mapid="mim-rim-status-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.6.1.0</getOid>
				</mapValue>
			</value>
			<label>MIM Internal CAN Bus</label>
			<enum>mim-rim-status-em</enum>
			<sensorSet>UPS Comm. Bus</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsDiagComBusInternalRIMStatus">
			<type>state</type>
			<sensorId>RIM_INTERNAL_CAN_BUS</sensorId>
			<value>
				<mapValue mapid="mim-rim-status-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.6.2.0</getOid>
				</mapValue>
			</value>
			<label>RIM Internal CAN Bus</label>
			<enum>mim-rim-status-em</enum>
			<sensorSet>UPS Comm. Bus</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsDiagComBusMIMtoRIMStatus">
			<type>state</type>
			<sensorId>MIM-RIM_CAN_BUS</sensorId>
			<value>
				<mapValue mapid="mim-rim-status-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.6.3.0</getOid>
				</mapValue>
			</value>
			<label>MIM-RIM CAN Bus</label>
			<enum>mim-rim-status-em</enum>
			<sensorSet>UPS Comm. Bus</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsDiagComBusExternalMIMStatus">
			<type>state</type>
			<sensorId>MIM_EXTERNAL_CAN_BUS</sensorId>
			<value>
				<mapValue mapid="mim-rim-status-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.6.4.0</getOid>
				</mapValue>
			</value>
			<label>MIM External CAN Bus</label>
			<enum>mim-rim-status-em</enum>
			<sensorSet>UPS Comm. Bus</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsDiagComBusExternalRIMStatus">
			<type>state</type>
			<sensorId>RIM_EXTERNAL_CAN_BUS</sensorId>
			<value>
				<mapValue mapid="mim-rim-status-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.6.5.0</getOid>
				</mapValue>
			</value>
			<label>RIM External CAN Bus</label>
			<enum>mim-rim-status-em</enum>
			<sensorSet>UPS Comm. Bus</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagnosticPowerCabinet">
		<oidMustExist ruleid="has_upsDiagnosticPowerCabinet" oid=".1.3.6.1.4.1.318.1.1.1.13.7" istree="yes" />

		<numSensor ruleid="upsDiagnosticPowerCabinetAmbientTemperature" index=".1.3.6.1.4.1.318.1.1.1.13.7.2.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.7.2.1.2</getRowOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>DIAG_POWER_CABINET_AMBIENT_TEMPERATURE_<rowIndex/></sensorId>
			<value>
				<mult>
					<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.7.2.1.2</getRowOid></op>
					<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Power Cabinet <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.7.2.1.1</getRowOid> Ambient Temperature</label>
			<sensorSet>UPS Diagnostics - Power Cabinet</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsDiagnosticDisplay">
		<oidMustExist ruleid="display" oid=".1.3.6.1.4.1.318.1.1.1.13.8" istree="yes"/>

		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stringSensor ruleid="upsDiagDisplayHardwareRev">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.8.5.0</getOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_DISPLAY_HARDWAREREV</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.8.1.0</getOid>
			</value>
			<label>Display Hardware Revision</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagDisplaySerialNum">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.8.5.0</getOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_DISPLAY_SERIALNUM</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.8.2.0</getOid>
			</value>
			<label>Display Serial Number</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagDisplayFirmwareRev">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.8.5.0</getOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_DISPLAY_FIRMWAREREV</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.8.3.0</getOid>
			</value>
			<label>Display Firmware Revision</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagDisplayModelNum">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.8.5.0</getOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_DISPLAY_MODELNUM</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.8.4.0</getOid>
			</value>
			<label>Display Model Number</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>

		<stateSensor ruleid="upsDiagDisplayStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_DISPLAY_STATUS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.13.8.5.0</getOid>
				</mapValue>
			</value>
			<label>Display Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagnosticUnitController">
		<oidMustExist ruleid="has_upsDiagnosticUnitController" oid=".1.3.6.1.4.1.318.1.1.1.13.9" istree="yes" />

		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsDiagUnitControllerStatus" index=".1.3.6.1.4.1.318.1.1.1.13.9.2.1.2">
			<type>state</type>
			<sensorId>UPS_DIAG_UNITCTRL_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.2</getRowOid>
				</mapValue>
			</value>
			<label>Unit Controller <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.1</getRowOid> Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>

		<stringSensor ruleid="upsDiagUnitControllerFirmwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.9.2.1.3">
			<rowTest>
				<neq>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.2</getRowOid></op>
				<op>2</op>
				</neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_UNITCTRL_FIRMWAREREV_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.3</getRowOid>
			</value>
			<label>Unit Controller <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.1</getRowOid> Firmware Revision</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagUnitControllerHardwareRev" index=".1.3.6.1.4.1.318.1.1.1.13.9.2.1.4">
			<rowTest>
				<neq>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.2</getRowOid></op>
				<op>2</op>
				</neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_UNITCTRL_HARDWAREREV_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.4</getRowOid>
			</value>
			<label>Unit Controller <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.1</getRowOid> Hardware Revision</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagUnitControllerSerialNum" index=".1.3.6.1.4.1.318.1.1.1.13.9.2.1.5">
			<rowTest>
				<neq>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.2</getRowOid></op>
				<op>2</op>
				</neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_UNITCTRL_SERIALNUM_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.5</getRowOid>
			</value>
			<label>Unit Controller <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.1</getRowOid> Serial Number</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagUnitControllerModelNum" index=".1.3.6.1.4.1.318.1.1.1.13.9.2.1.6">
			<rowTest>
				<neq>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.2</getRowOid></op>
				<op>2</op>
				</neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_UNITCTRL_MODELNUM_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.6</getRowOid>
			</value>
			<label>Unit Controller <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.1</getRowOid> Model Number</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>

		<valueMap ruleid="upsDiagUnitControllerAlarmStatus-vm">
			<valueIn>1</valueIn>	<valueOut>1</valueOut>
			<valueIn>2</valueIn>	<valueOut>2</valueOut>
			<valueIn>3</valueIn>	<valueOut>3</valueOut>
			<valueIn>4</valueIn>	<valueOut>4</valueOut>
			<valueIn>*</valueIn>	<valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsDiagUnitControllerAlarmStatus-em">
			<label>Unknown</label>
			<label>No Alarms</label>
			<label>Information</label>
			<label>Warning</label>
			<label>Critical</label>
		</enumMap>
		<stateSensor ruleid="upsDiagUnitControllerAlarmStatus" index=".1.3.6.1.4.1.318.1.1.1.13.9.2.1.2">
			<rowTest>
				<neq>
				<op><getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.2</getRowOid></op>
				<op>2</op>
				</neq>
			</rowTest>
			<type>state</type>
			<sensorId>UPS_DIAG_UNITCTRL_ALARMSTATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsDiagUnitControllerAlarmStatus-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.7</getRowOid>
				</mapValue>
			</value>
			<label>Unit Controller <getRowOid>.1.3.6.1.4.1.318.1.1.1.13.9.2.1.1</getRowOid> Alarm Status</label>
			<enum>upsDiagUnitControllerAlarmStatus-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagnosticSLC">
		<oidMustExist ruleid="SLC" oid=".1.3.6.1.4.1.318.1.1.1.13.10" istree="yes"/>
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.66</value><!-- galaxy VS 100kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.70</value><!-- galaxy VS 10kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.71</value><!-- galaxy VS 15kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.72</value><!-- galaxy VS 20kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.73</value><!-- galaxy VS 25kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.74</value><!-- galaxy VS 30kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.75</value><!-- galaxy VS 40kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.76</value><!-- galaxy VS 50kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.77</value><!-- galaxy VS 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.78</value><!-- galaxy VS 75kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.79</value><!-- galaxy VS 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.80</value><!-- galaxy VS 120kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.81</value><!-- galaxy VS 150kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.83</value><!-- galaxy PX 60kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.84</value><!-- galaxy PX 80kW-->
				<value>.1.3.6.1.4.1.318.1.3.28.85</value><!-- galaxy PX 100kW-->
			</valueList>
		</oidMustMatch>

		<stringSensor ruleid="upsDiagSLCHardwareRev">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.10.5.0</getOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_SLC_HARDWAREREV</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.10.1.0</getOid>
			</value>
			<label>SLC Hardware Revision</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSLCSerialNum">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.10.5.0</getOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_SLC_SERIALNUM</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.10.2.0</getOid>
			</value>
			<label>SLC Serial Number</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSLCFirmwareRev">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.10.5.0</getOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_SLC_FIRMWAREREV</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.10.3.0</getOid>
			</value>
			<label>SLC Firmware Revision</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>
		<stringSensor ruleid="upsDiagSLCModelNum">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.10.5.0</getOid></op><op>2</op></neq>
			</rowTest>
			<type>string</type>
			<sensorId>UPS_DIAG_SLC_MODELNUM</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.13.10.4.0</getOid>
			</value>
			<label>SLC Model Number</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stringSensor>

		<stateSensor ruleid="upsDiagSLCStatus">
			<type>state</type>
			<sensorId>UPS_DIAG_SLC_STATUS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/subSystemStatus-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.13.10.5.0</getOid>
				</mapValue>
			</value>
			<label>SLC Status</label>
			<enum>apcsmartups/commonValueMaps/subSystemStatus-em</enum>
			<sensorSet>UPS Diagnostics</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsDiagnosticTemperature">
		<oidMustExist ruleid="has-upsDiagnosticTemperature" oid=".1.3.6.1.4.1.318.1.1.1.13.11" istree="yes"/>

		<numSensor ruleid="upsDiagnosticTemperatureAmbientTemperature">
			<rowTest>
				<neq><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.11.1.0</getOid></op><op>-1999</op></neq>
			</rowTest>
			<type>temp</type>
			<sensorId>AMBIENT_TEMPERATURE</sensorId>
			<value>
				<mult><op><getOid>.1.3.6.1.4.1.318.1.1.1.13.11.1.0</getOid></op><op>0.1</op></mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Ambient Temperature</label>
			<sensorSet>UPS Diagnostics</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsParallelSystem">
		<oidMustExist ruleid="remotesystemcountexists" oid=".1.3.6.1.4.1.318.1.1.1.14" istree="yes"/>
		<oidMustNotMatch ruleid="remotesystemsconnected" oid = ".1.3.6.1.4.1.318.1.1.1.14.2.0">
			<valueList>
				<value>-1</value>
				<value>0</value>
			</valueList>
		</oidMustNotMatch>

		<numSensor ruleid="upsParallelSysLocalAddress">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>PARALLEL_SYS_LOCAL_ADDRESS</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.1.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Equipment Number</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelSysRemoteAddress">
			<type>num</type>
			<sensorId>PARALLEL_SYS_COUNT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Parallel Systems</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsParallelSysRedundancy">
			<type>state</type>
			<sensorId>PARALLEL_SYS_REDUNDANCY</sensorId>
			<value>
				<mapValue mapid="upsParallelSysRedundancyStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.3.0</getOid>
				</mapValue>
			</value>
			<label>Parallel System Redundancy Warning Level</label>
			<enum>upsParallelSysRedundancyStatus-em</enum>
			<sensorSet>UPS Parallel System</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsParallelInputMaximumCurrent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.14.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>PARALLEL_INPUT_MAXIMUM_CURRENT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.4.0</getOid>
			</value>
			<valueInc>0.1</valueInc>
			<label>Parallel System Maximum Input RMS Current</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelTotalOutputPower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.14.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>num/powerKW</type>
			<sensorId>PARALLEL_TOTAL_OUTPUT_ACTIVE_POWER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Parallel System Total Output Power</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelTotalOutputApparentPower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.14.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>PARALLEL_TOTAL_OUTPUT_APPARENT_POWER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Parallel System Total Output Apparent Power</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>

		<!--
			NOTE:

			This convention of 1=main, 2=bypass is not delineated in the current
			version of the PowerNet MIB; it should be added to a future version.

			If it still hasn't, send email complaints to:
				Bibin.Andrews@se.com

			If it has, you can remove this comment
		-->
		<valueMap ruleid="parallelInputType-vm">
			<valueIn>1</valueIn><valueOut>Main</valueOut>
			<valueIn>2</valueIn><valueOut>Bypass</valueOut>
		</valueMap>

		<numSensor ruleid="upsParallelInputCurrent" index=".1.3.6.1.4.1.318.1.1.1.14.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>PARALLEL_SYS_INPUT_CURRENT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.3</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Parallel System<space/>
				<mapValue mapid="parallelInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.1</getRowOid>
				</mapValue>
				<space/>Input Current - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelInputActivePower" index=".1.3.6.1.4.1.318.1.1.1.14.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKW</type>
			<sensorId>PARALLEL_INPUT_ACTIVE_POWER_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.4</getRowOid>
			</value>
			<label>Parallel System<space/>
				<mapValue mapid="parallelInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.1</getRowOid>
				</mapValue>
				<space/>Input Active Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelInputApparentPower" index=".1.3.6.1.4.1.318.1.1.1.14.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.5</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>PARALLEL_INPUT_APPARENT_POWER_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.5</getRowOid>
			</value>
			<label>Parallel System<space/>
				<mapValue mapid="parallelInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.1</getRowOid>
				</mapValue>
				<space/>Input Apparent Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelInputVoltage" index=".1.3.6.1.4.1.318.1.1.1.14.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.6</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>PARALLEL_INPUT_VOLTAGE_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.6</getRowOid>
			</value>
			<label>Parallel System<space/>
				<mapValue mapid="parallelInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.1</getRowOid>
				</mapValue>
				<space/>Input Voltage - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelInputMaxVoltage" index=".1.3.6.1.4.1.318.1.1.1.14.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.7</getRowOid>
				</mapValue>
			</rowTest>
			<type>voltageAC</type>
			<sensorId>PARALLEL_INPUT_MAX_VAC_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.7</getRowOid>
			</value>
			<label>Parallel System<space/>
				<mapValue mapid="parallelInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.1</getRowOid>
				</mapValue>
				<space/>Peak Input Voltage - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelInputMaxCurrent" index=".1.3.6.1.4.1.318.1.1.1.14.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.8</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>PARALLEL_INPUT_MAX_CURRENT_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.8</getRowOid>
			</value>
			<label>Parallel System<space/>
				<mapValue mapid="parallelInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.1</getRowOid>
				</mapValue>
				<space/>Peak Input Current - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelInputTotalActivePower" index=".1.3.6.1.4.1.318.1.1.1.14.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.9</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKW</type>
			<sensorId>PARALLEL_INPUT_TOTAL_ACTIVE_POWER_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.9</getRowOid>
			</value>
			<label>Parallel System<space/>
				<mapValue mapid="parallelInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.1</getRowOid>
				</mapValue>
				<space/>Input Total Active Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelInputTotalApparentPower" index=".1.3.6.1.4.1.318.1.1.1.14.7.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.10</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>PARALLEL_SYS_INPUT_TOTAL_APPARENT_POWER_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.10</getRowOid>
			</value>
			<label>Parallel System<space/>
				<mapValue mapid="parallelInputType-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.1</getRowOid>
				</mapValue>
				<space/>Input Total Apparent Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.7.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelOutputCurrent" index=".1.3.6.1.4.1.318.1.1.1.14.8.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.3</getRowOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>PARALLEL_SYS_OUTPUT_CURRENT_<rowNumber/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.3</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Parallel System Output Current - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelOutputLoad" index=".1.3.6.1.4.1.318.1.1.1.14.8.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.4</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>PARALLEL_SYS_OUTPUT_APPARENT_POWER_<rowNumber/></sensorId>
			<value>
				<mult>
					<op>0.001</op>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.4</getRowOid>
					</op>
				</mult>
			</value>
			<label>Parallel System Output Apparent Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelOutputPercentLoad" index=".1.3.6.1.4.1.318.1.1.1.14.8.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.5</getRowOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>PARALLEL_SYS_OUTPUT_PERCENT_LOAD_<rowNumber/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.5</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>Parallel System Output Load - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelOutputPower" index=".1.3.6.1.4.1.318.1.1.1.14.8.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.6</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKW</type>
			<sensorId>PARALLEL_SYS_OUTPUT_ACTIVE_POWER_<rowNumber/></sensorId>
			<value>
				<mult>
					<op>0.001</op>
					<op>
						<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.6</getRowOid>
					</op>
				</mult>
			</value>
			<label>Parallel System Output Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.8.1.2</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelOutputApparentPower" index=".1.3.6.1.4.1.318.1.1.1.14.9.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.9.1.2</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKVA</type>
			<sensorId>PARALLEL_OUTPUT_APPARENT_POWER_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.9.1.2</getRowOid>
			</value>
			<label>Parallel System Output Apparent Power - Phase<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.9.1.1</getRowOid>
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsParallelDiagSubSysBreakerStatus" index=".1.3.6.1.4.1.318.1.1.1.14.10.1.1">
			<type>state</type>
			<sensorId>PARALLEL_DIAG_SUB_BREAKER_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsParallelDiagSubSysBreakerStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.10.1.3</getRowOid>
				</mapValue>
			</value>
			<label>
				Parallel System Breaker<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.10.1.2</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.10.1.4</getRowOid>) Status
			</label>
			<enum>upsParallelDiagSubSysBreakerStatus-em</enum>
			<sensorSet>UPS Parallel System</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsParallelDiagSubSysBreakerStatus-vm">
			<valueIn>1</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsParallelDiagSubSysBreakerStatus-em">
			<label>Unknown</label>
			<label>Not Installed</label>
			<label>Opened</label>
			<label>Closed</label>
		</enumMap>

		<numSensor ruleid="upsParallelOutputTotalPercentLoad">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getOid>.1.3.6.1.4.1.318.1.1.1.14.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>PARALLEL_TOTAL_PERCENT_LOAD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.11.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Parallel System Total Output Load</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelOutputActivePower" index=".1.3.6.1.4.1.318.1.1.1.14.12.1.1">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
					<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.12.1.2</getRowOid>
				</mapValue>
			</rowTest>
			<type>num/powerKW</type>
			<sensorId>PARALLEL_OUTPUT_ACTIVE_POWER_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.12.1.2</getRowOid>
			</value>
			<valueInc>1</valueInc>
			<label>
				Parallel System UPS<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.12.1.1</getRowOid><space/>
				Active Power
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelSysSwitchGearInstallationLoadPct">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>PARALLEL_SYS_SWITCHGEAR_INSTALLATION_LOAD_PCT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.13.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Parallel System Installation Load</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsParallelSysRedundancyStatus">
			<type>state</type>
			<sensorId>PARALLEL_SYS_REDUNDANCY_STATUS</sensorId>
			<value>
				<mapValue mapid="upsParallelSysRedundancyStatus-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.14.0</getOid>
				</mapValue>
			</value>
			<label>Parallel System Redundancy Status</label>
			<enum>upsParallelSysRedundancyStatus-em</enum>
			<sensorSet>UPS Parallel System</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsParallelSysRedundancyStatus-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>6</valueIn><valueOut>6</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsParallelSysRedundancyStatus-em">
			<label>Unknown</label>
			<label>N+0</label>
			<label>N+1</label>
			<label>N+2</label>
			<label>N+3</label>
			<label>N+4</label>
			<label>N+5</label>
		</enumMap>

		<stringSensor ruleid="upsParallelSysName">
			<type>string</type>
			<sensorId>PARALLEL_SYS_NAME</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.15.0</getOid>
			</value>
			<label>Parallel System Name</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</stringSensor>

		<stateSensor ruleid="upsParallelSysUpsAlarmStatus" index=".1.3.6.1.4.1.318.1.1.1.14.17.1.1">
			<type>state</type>
			<sensorId>PARALLEL_SYS_UPS_ALARM_STATUS_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsParallelSysUpsAlarmStatus-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.3</getRowOid>
				</mapValue>
			</value>
			<label>
				Parallel System UPS<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.1</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.2</getRowOid>) Alarm Status
			</label>
			<enum>upsParallelSysUpsAlarmStatus-em</enum>
			<sensorSet>UPS Parallel System</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsParallelSysUpsAlarmStatus-vm">
			<valueIn>1</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsParallelSysUpsAlarmStatus-em">
			<label>Unknown</label>
			<label>Normal</label>
			<label>Informational</label>
			<label>Warning</label>
			<label>Critical</label>
		</enumMap>

		<stateSensor ruleid="upsParallelSysUpsMode" index=".1.3.6.1.4.1.318.1.1.1.14.17.1.1">
			<type>state</type>
			<sensorId>PARALLEL_SYS_UPS_MODE_<rowIndex/></sensorId>
			<value>
				<mapValue mapid="upsParallelSysUpsMode-vm">
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.4</getRowOid>
				</mapValue>
			</value>
			<label>
				Parallel System UPS<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.1</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.2</getRowOid>) Mode
			</label>
			<enum>upsParallelSysUpsMode-em</enum>
			<sensorSet>UPS Parallel System</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsParallelSysUpsMode-vm">
			<valueIn>1</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>7</valueIn><valueOut>6</valueOut>
			<valueIn>8</valueIn><valueOut>7</valueOut>
			<valueIn>9</valueIn><valueOut>8</valueOut>
			<valueIn>10</valueIn><valueOut>9</valueOut>
			<valueIn>11</valueIn><valueOut>10</valueOut>
			<valueIn>12</valueIn><valueOut>11</valueOut>
			<valueIn>13</valueIn><valueOut>12</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsParallelSysUpsMode-em">
			<label>Unknown</label>
			<label>Online</label>
			<label>On Battery</label>
			<label>On Battery Test</label>
			<label>Requested Static Bypass</label>
			<label>Forced Bypass</label>
			<label>Maintenance Bypass</label>
			<label>Off</label>
			<label>Eco Mode</label>
			<label>Hot Standby</label>
			<label>Inquiring</label>
			<label>Econversion Mode</label>
			<label>Spot Mode</label>
		</enumMap>

		<stringSensor ruleid="upsParallelSysUpsSerialNumber" index=".1.3.6.1.4.1.318.1.1.1.14.17.1.1">
			<type>string</type>
			<sensorId>PARALLEL_SYS_UPS_SERIAL_NUM_<rowIndex/></sensorId>
			<value>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.5</getRowOid>
			</value>
			<label>
				Parallel System UPS<space/>
				<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.1</getRowOid><space/>
				(<getRowOid>.1.3.6.1.4.1.318.1.1.1.14.17.1.2</getRowOid>) Serial Number
			</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</stringSensor>

		<numSensor ruleid="upsParallelNumOfUpsPoweringLoad">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.18.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>NUMBER_OF_UPS_POWERING_LOAD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.18.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of UPS Powering Load</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
		<numSensor ruleid="upsParallelMinNumOfRequiredUps">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.19.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>MINIMUM_NUMBER_OF_UPS_TO_POWER_THE_LOAD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.14.19.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Minimum Number of UPS to Power the Load</label>
			<sensorSet>UPS Parallel System</sensorSet>
		</numSensor>
	</device>

	<!-- .1.3.6.1.4.1.318.1.1.1.15.* | upsPhysicalLayout -->
	<!-- .1.3.6.1.4.1.318.1.1.1.16.* | upsIntegratedATS -->
	<!-- .1.3.6.1.4.1.318.1.1.1.17.1.* | upsDCOutputStatus -->
	<!-- .1.3.6.1.4.1.318.1.1.1.18.1.* | upsOutputRelays -->
	<!-- .1.3.6.1.4.1.318.1.1.1.18.2.* | upsInputContacts -->

	<device deviceid="upsServiceBatteryInfo">
		<oidMustExist ruleid="has_upsServiceBatteryInfo" oid=".1.3.6.1.4.1.318.1.1.1.19.1" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<numSensor ruleid="upsServBattInfoBackupPreAlmVoltCoeff">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>BACKUP_PREALARM_VOLTAGE_COEFFICIENT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.1.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Coeff. Backup Time Prealarm Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoC10Theoretical">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<units>amphours</units>
			<sensorId>C10_THEORETICAL</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.2.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Battery Block Theoretical Capacity</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoChargeCurrentRef">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>CHARGE_CURRENT_REF</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.3.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Battery Reference Charge Current</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServBattInfoExtBatTempSensor">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>EXT_BATT_TEMP_SENSOR</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.4.0</getOid>
				</mapValue>
			</value>
			<label>External Battery Temperature Sensor</label>
			<enum>apcsmartups/commonValueMaps/present-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServBattInfoFixedBatVoltThresh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>FIXED_BAT_VOLT_THRESH</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.5.0</getOid>
				</mapValue>
			</value>
			<label>Fixed Battery Voltage Threshold Allowed</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServBattInfoLowBatWarnVoltThPerCell">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>LOW_BATT_WARN_VOLT_TH_PER_CELL</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.6.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Low Battery Warning Voltage Threshold (Per-Cell)</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoMinVoltThEndOfAutonomy">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>MIN_VOLT_TH_END_OF_AUTONOMY</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.7.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Minimum Battery Voltage Threshold to Detect End of Autonomy</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoNumBatCellsPerBlock">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>NUM_BAT_CELLS_PER_BLOCK</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Cells per Block</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoNumOfBattStrings">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>NUM_BATT_STRINGS</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Strings Count</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServBattInfoChopperState">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>CHOPPER_STATE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.10.0</getOid>
				</mapValue>
			</value>
			<label>Battery Chopper State</label>
			<enum>apcsmartups/commonValueMaps/running-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServBattInfoChopperMode">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>CHOPPER_MODE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.11.0</getOid>
				</mapValue>
			</value>
			<label>Battery Chopper Mode</label>
			<enum>apcsmartups/commonValueMaps/charge-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServBattInfoBatteryTest">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>BATTERY_TEST</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.12.0</getOid>
				</mapValue>
			</value>
			<label>Battery Test</label>
			<enum>apcsmartups/commonValueMaps/running-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServBattInfoBattTestInterval">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>BATTERY_TEST_INTERVAL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.13.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Test Interval</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoLowWarnVoltTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.14.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>LOW_WARN_VOLT_TH</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.14.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Low Battery Warning Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoLowWarnRemTime">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.15.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>LOW_WARN_REM_TIME</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.15.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Low Battery Warning Remaining Time</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServBattInfoDeepDischarge">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.16.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>DEEP_DISCHARGE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.16.0</getOid>
				</mapValue>
			</value>
			<label>Battery Deep Discharge Allowed</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServBattInfoBattBreakerCount">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.17.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>BATT_BREAKER_COUNT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.17.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of Battery Breakers</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoNominalBattChrgDuration">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.18.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>NOMINAL_BATT_CHRG_DURATION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.18.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Nominal Battery Charging Duration</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServBattInfoBattTempAdjustment">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.19.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>BATT_TEMP_ADJUSTMENT</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.19.0</getOid>
				</mapValue>
			</value>
			<label>Enable Battery Temperature Adjustments</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServBattInfoBattTempReference">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.20.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>BATT_TEMP_REFERENCE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.20.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Temperature Reference used for Adjustments</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattTempAdjIncrement">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.21.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>BATT_TEMP_ADJ_INCREMENT</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.21.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Battery Temperature Adjustment Increment (mV/deg.C)</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattCellFloatVoltRef">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.22.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>BATT_CELL_FLOAT_VOLT_REF</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.22.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Battery Cell Floating Voltage Reference</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattCellChrgVoltRef">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.23.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>BATT_CELL_CHRG_VOLT_REF</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.23.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Battery Cell Charging Voltage Reference</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattCellEquVoltRef">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.24.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>BATT_CELL_EQU_VOLT_REF</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.24.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Battery Cell Equalization Voltage Reference</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServBattInfoBatteryPresent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.25.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>BATT_PRESENT</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.25.0</getOid>
				</mapValue>
			</value>
			<label>Battery Present</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServBattInfoBattExpectedServiceLife">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.26.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeindays</type>
			<sensorId>BATT_EXPECTED_SERVICE_LIFE</sensorId>
			<value>
				<div>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.26.0</getOid></op>
				<op>86400</op>
				</div>
			</value>
			<valueInc>0.1</valueInc>
			<label>Battery Expected Service Life</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattBlockPerString">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.27.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>BATT_BLOCK_PER_STRING</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.27.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Blocks per String</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattBlockCapacity">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.28.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<units>amphours</units>
			<sensorId>BATT_BLOCK_CAPACITY</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.28.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Battery Block Capacity</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattCurChrgCoeff">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.29.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>BATT_CUR_CHRG_COEFF</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.29.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Battery Current Charge Coefficient</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoMaxBattChrgCurGenset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.30.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>MAX_BATT_CHRG_CUR_GENSET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.30.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Maximal Battery Charging Current on Genset</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattMainsTransferTemp">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.31.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>BATT_MAINS_TRANSFER_TEMP</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.31.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery to Mains Transfer Temporization</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattUnderTempTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.32.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>BATT_UNDER_TEMP_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.32.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Under Temperature Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattOverTempTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.33.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>BATT_OVER_TEMP_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.33.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Battery Over Temperature Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattTestVoltTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.34.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>BATT_TEST_VOLT_TH</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.34.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Battery Test Stop Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoMaxTimeBattTestDisch">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.35.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>MAX_TIME_BATT_TEST_DISCH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.35.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Maximum Duration for Battery Test in Discharge</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBattInfoBattTestOffsetAdj">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.1.36.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>BATT_TEST_OFFSET_ADJ</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.1.36.0</getOid></op>
				<op>0.0001</op>
				</mult>
			</value>
			<valueInc>0.0001</valueInc>
			<label>Battery Test Offset Adjustment</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsServiceBypassInfo">
		<oidMustExist ruleid="has_upsServiceBypassInfo" oid=".1.3.6.1.4.1.318.1.1.1.19.2" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsServBypInfoACBypassSwitchEPO">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>AC_BYPASS_SWITCH_EPO</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.1.0</getOid>
				</mapValue>
			</value>
			<label>AC Bypass Static Switch State on EPO</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServBypInfoTransToBypACBypassOutOfTol">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>TRANS_TO_BYP_AC_BYPASS_OUT_OF_TOL</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.2.0</getOid>
				</mapValue>
			</value>
			<label>Transfer to AC Bypass when AC Bypass is Out of Tolerance</label>
			<enum>apcsmartups/commonValueMaps/allowed-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<enumMap ruleid="upsServBypInfoPhaseSeqControl-em">
			<label>Unknown</label>
			<label>Finished</label>
			<label>Ongoing</label>
		</enumMap>
		<stateSensor ruleid="upsServBypInfoPhaseSeqControl">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>PHASE_SEQ_CONTROL</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.3.0</getOid>
				</mapValue>
			</value>
			<label>Bypass AC Phase Sequence Control</label>
			<enum>upsServBypInfoPhaseSeqControl-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<enumMap ruleid="upsServBypInfoTxAcBypParallelInst-em">
			<label>Unknown</label>
			<label>Increase Power</label>
			<label>Redundancy</label>
		</enumMap>
		<stateSensor ruleid="upsServBypInfoTxAcBypParallelInst">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>TX_AC_BYP_PARALLEL_INST</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.4.0</getOid>
				</mapValue>
			</value>
			<label>Transfer to AC Bypass for Parallel Installation</label>
			<enum>upsServBypInfoTxAcBypParallelInst-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServBypInfoStaticSwRdyCloseHMI">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>STATIC_SW_RDY_CLOSE_HMI</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.5.0</getOid>
				</mapValue>
			</value>
			<label>AC Bypass Static Switch Ready to Close for HMI</label>
			<enum>apcsmartups/commonValueMaps/ready-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServBypInfoCouplingCmdState">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>COUPLING_CMD_STATE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/3state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.6.0</getOid>
				</mapValue>
			</value>
			<label>Coupling Command Status</label>
			<enum>apcsmartups/commonValueMaps/couple-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServBypInfoUncouplingCmdState">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>UNCOUPLING_CMD_STATE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/3state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.7.0</getOid>
				</mapValue>
			</value>
			<label>Uncoupling Command Status</label>
			<enum>apcsmartups/commonValueMaps/uncouple-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServBypInfoNxtTransferToBypAC-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>6</valueIn><valueOut>6</valueOut>
			<valueIn>7</valueIn><valueOut>7</valueOut>
			<valueIn>8</valueIn><valueOut>8</valueOut>
			<valueIn>9</valueIn><valueOut>9</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServBypInfoNxtTransferToBypAC-em">
			<label>Unknown</label>
			<label>Normal Transfer</label>
			<label>Transfer with Break to AC Bypass</label>
			<label>Transfer Load to AC Bypass</label>
			<label>Possible Overload Transfer With Break to AC Bypass</label>
			<label>Load Power Down</label>
			<label>Stop UPS in EBM Installation</label>
			<label>Exit UPS from ECO before Maintenance</label>
			<label>Not Possible</label>
			<label>Undefined</label>
		</enumMap>
		<stateSensor ruleid="upsServBypInfoNxtTransferToBypAC">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>NEXT_XFER_TO_BYP_AC</sensorId>
			<value>
				<mapValue mapid="upsServBypInfoNxtTransferToBypAC-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.8.0</getOid>
				</mapValue>
			</value>
			<label>Next Transfer to AC Bypass</label>
			<enum>upsServBypInfoNxtTransferToBypAC-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<stateSensor ruleid="upsServBypInfoTrfrToAcBypSetting">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>TRFR_TO_AC_BYP_SETTING</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/3state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.9.0</getOid>
				</mapValue>
			</value>
			<label>Transfer to AC Bypass</label>
			<enum>apcsmartups/commonValueMaps/transfer-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServBypInfoAcBypOverloadCtrl">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>AC_BYP_OVERLOAD_CTRL</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.10.0</getOid>
				</mapValue>
			</value>
			<label>AC Bypass Overload Control</label>
			<enum>apcsmartups/commonValueMaps/active-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServBypInfoAcBypFreqThTol">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>AC_BYP_FREQ_TH_TOL</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.2.11.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>AC Bypass Frequency Threshold Tolerance</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoAcBypPhaseSeqDiff">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<units>degreesAngle</units>
			<sensorId>AC_BYP_PHASE_SEQ_DIFF</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.2.12.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>AC Bypass Phase Sequence Difference</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoMaxAcBypVoltThTol">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>MAX_AC_BYP_VOLT_TH_TOL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.13.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Maximum AC Bypass Voltage Threshold Tolerance</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoMinAcBypVoltThTol">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.14.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>MIN_AC_BYP_VOLT_TH_TOL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.14.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Minimum AC Bypass Voltage Threshold Tolerance</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoMaxAcBypVoltCoupledThTol">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.15.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>MAX_AC_BYP_VOLT_COUPLED_TH_TOL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.15.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Maximum AC Bypass Voltage Coupled Threshold Tolerance</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoMinAcBypVoltCoupledThTol">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.16.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>MIN_AC_BYP_VOLT_COUPLED_TH_TOL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.16.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Minimum AC Bypass Voltage Coupled Threshold Tolerance</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoRatioTrfrAcBypParlInst">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.17.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>RATIO_TRFR_AC_BYP_PARL_INST</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.2.17.0</getOid></op>
				<op>0.01</op>
				</mult>
			</value>
			<valueInc>0.01</valueInc>
			<label>Ratio to Transfer AC Bypass for Parallel Installation</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoUnbalancedTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.18.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>UNBALANCED_TH</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.2.18.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>AC Bypass Unbalanced Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServBypInfoTransformerPresence">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.19.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>TRANSFORMER_PRESENT</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.19.0</getOid>
				</mapValue>
			</value>
			<label>AC Bypass Transformer Presence</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServBypInfoInputVoltOfTransformer">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.20.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>INPUT_VOLT_TRANSFORMER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.20.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Bypass Transformer Input Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoOutputVoltTransformer">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.21.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>OUTPUT_VOLT_TRANSFORMER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.21.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Bypass Transformer Output Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoOverlapTrUncoupleTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.22.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>OVERLAP_TR_UNCOUPLE_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.22.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Overlap Transfer Control Uncoupling Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServBypInfoOverlapTrCoupleTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.23.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>OVERLAP_TR_COUPLE_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.2.23.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Overlap Transfer Control Coupling Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsServiceInstallation">
		<oidMustExist ruleid="has_upsServiceInstallation" oid=".1.3.6.1.4.1.318.1.1.1.19.3" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsServInstNeutralLossCheck">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>NEUTRAL_LOSS_CHECK</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.1.0</getOid>
				</mapValue>
			</value>
			<label>Neutral Loss Check</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstLoadStatus">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_LOAD_STATUS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.2.0</getOid>
				</mapValue>
			</value>
			<label>Load Status</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstOnInverter">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_ON_INVERTER</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.3.0</getOid>
				</mapValue>
			</value>
			<label>Installation on Inverter</label>
			<enum>apcsmartups/commonValueMaps/coupled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstOnInverterSSC">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_ON_INVERTER_SSC</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.4.0</getOid>
				</mapValue>
			</value>
			<label>Installation on Inverter (SSC View)</label>
			<enum>apcsmartups/commonValueMaps/coupled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="equipmentBitfield-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="equipmentBitfield-em">
			<label>None</label>
			<label>True</label>
		</enumMap>

		<stateSensor ruleid="upsServInstEquPresentInstall_eq01">
			<type>state</type>
			<sensorId>INST_EQ01_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>0</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 1 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq02">
			<type>state</type>
			<sensorId>INST_EQ02_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>1</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 2 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq03">
			<type>state</type>
			<sensorId>INST_EQ03_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>2</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 3 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq04">
			<type>state</type>
			<sensorId>INST_EQ04_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>3</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 4 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq05">
			<type>state</type>
			<sensorId>INST_EQ05_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>4</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 5 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq06">
			<type>state</type>
			<sensorId>INST_EQ06_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>5</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 6 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq07">
			<type>state</type>
			<sensorId>INST_EQ07_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>6</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 7 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq08">
			<type>state</type>
			<sensorId>INST_EQ08_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>7</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 8 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq09">
			<type>state</type>
			<sensorId>INST_EQ09_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>8</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 9 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquPresentInstall_eq10">
			<type>state</type>
			<sensorId>INST_EQ10_PRESENT</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.5.0</getOid></op>
					<op>9</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 10 Present on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq01">
			<type>state</type>
			<sensorId>INST_EQ01_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>0</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 1 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq02">
			<type>state</type>
			<sensorId>INST_EQ02_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>1</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 2 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq03">
			<type>state</type>
			<sensorId>INST_EQ03_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>2</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 3 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq04">
			<type>state</type>
			<sensorId>INST_EQ04_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>3</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 4 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq05">
			<type>state</type>
			<sensorId>INST_EQ05_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>4</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 5 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq06">
			<type>state</type>
			<sensorId>INST_EQ06_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>5</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 6 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq07">
			<type>state</type>
			<sensorId>INST_EQ07_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>6</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 7 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq08">
			<type>state</type>
			<sensorId>INST_EQ08_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>7</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 8 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq09">
			<type>state</type>
			<sensorId>INST_EQ09_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>8</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 9 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquSupplyLoadInstall_eq10">
			<type>state</type>
			<sensorId>INST_EQ10_SUPPLY_LOAD</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.6.0</getOid></op>
					<op>9</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 10 Supplying Load on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq01">
			<type>state</type>
			<sensorId>INST_EQ01_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>0</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 1 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq02">
			<type>state</type>
			<sensorId>INST_EQ02_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>1</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 2 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq03">
			<type>state</type>
			<sensorId>INST_EQ03_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>2</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 3 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq04">
			<type>state</type>
			<sensorId>INST_EQ04_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>3</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 4 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq05">
			<type>state</type>
			<sensorId>INST_EQ05_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>4</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 5 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq06">
			<type>state</type>
			<sensorId>INST_EQ06_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>5</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 6 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq07">
			<type>state</type>
			<sensorId>INST_EQ07_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>6</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 7 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq08">
			<type>state</type>
			<sensorId>INST_EQ08_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>7</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 8 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq09">
			<type>state</type>
			<sensorId>INST_EQ09_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>8</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 9 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstEquInPSMInstall_eq10">
			<type>state</type>
			<sensorId>INST_EQ10_IN_PSM</sensorId>
			<value>
				<mapValue mapid="equipmentBitfield-vm">
				<formatNumber printffmt="%1.0f">
				<bitwise_and>
				<op>
					<right_shift>
					<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.3.7.0</getOid></op>
					<op>9</op>
					</right_shift>
				</op>
				<op>1</op>
				</bitwise_and>
				</formatNumber>
				</mapValue>
			</value>
			<label>Equipment 10 in Power Save Mode on Installation</label>
			<enum>equipmentBitfield-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServInstUpsType-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>6</valueIn><valueOut>6</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServInstUpsType-em">
			<label>Unknown</label>
			<label>Single</label>
			<label>Undefined</label>
			<label>Frequency Converter</label>
			<label>Modular</label>
			<label>Parallel SSC</label>
			<label>SSC</label>
		</enumMap>
		<stateSensor ruleid="upsServInstUpsType">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_UPS_TYPE</sensorId>
			<value>
				<mapValue mapid="upsServInstUpsType-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.8.0</getOid>
				</mapValue>
			</value>
			<label>UPS Type</label>
			<enum>upsServInstUpsType-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServInstUpsRatedPower">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>powerVA</type>
			<sensorId>INST_UPS_RATED_POWER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Rated Power</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServInstQ3BPExtPresence">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_Q3BP_EXT_PRESENCE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.10.0</getOid>
				</mapValue>
			</value>
			<label>Presence Q3BP External</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstQ5NExtPresence">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_Q5N_EXT_PRESENCE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.11.0</getOid>
				</mapValue>
			</value>
			<label>Presence Q5N External</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstQ4SExtPresence">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_Q4S_EXT_PRESENCE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.12.0</getOid>
				</mapValue>
			</value>
			<label>Presence Q4S External</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServInstMaxAmbTempTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>INST_MAX_AMB_TEMP_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.13.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Maximal Ambient Temperature Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInstMinAmbTempTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.14.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>INST_MIN_AMB_TEMP_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.14.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Minimal Ambient Temperature Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServInstLossOfRedundancyCtrl">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.15.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_LOSS_OF_REDUNDANCY_CTRL</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.15.0</getOid>
				</mapValue>
			</value>
			<label>Loss of Redundancy Control</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServInstEquipmentNum-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>6</valueIn><valueOut>6</valueOut>
			<valueIn>7</valueIn><valueOut>7</valueOut>
			<valueIn>8</valueIn><valueOut>8</valueOut>
			<valueIn>9</valueIn><valueOut>9</valueOut>
			<valueIn>10</valueIn><valueOut>10</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServInstEquipmentNum-em">
			<label>Unknown</label>
			<label>1 - UPS</label>
			<label>2 - UPS</label>
			<label>3 - UPS</label>
			<label>4 - UPS</label>
			<label>5 - UPS</label>
			<label>6 - UPS</label>
			<label>7 - UPS</label>
			<label>8 - UPS</label>
			<label>9 - SSC</label>
			<label>10 - SSC</label>
		</enumMap>
		<stateSensor ruleid="upsServInstEquipmentNum">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.16.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_EQUIPMENT_NUM</sensorId>
			<value>
				<mapValue mapid="upsServInstEquipmentNum-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.16.0</getOid>
				</mapValue>
			</value>
			<label>Equipment Number</label>
			<enum>upsServInstEquipmentNum-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServInstMinNumInvRdyCoupling">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.17.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>INST_MIN_NUM_INV_RDY_COUPLING</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.17.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Minimum Number of Inverter Ready for Coupling</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInstMjrIndPersoFiles">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.18.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>INST_MJR_IND_PERSO_FILES</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.18.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Major Index for Perso Files</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInstMnrIndPersoFiles">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.19.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>INST_MNR_IND_PERSO_FILES</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.19.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Minor Index for Perso Files</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInstOverLdPreAlarmTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.20.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>INST_OVERLD_PRE_ALARM_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.20.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Overload Prealarm Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServInstOverlapTrfrCtrl">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.21.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_OVERLAP_TRFR_CTRL</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.21.0</getOid>
				</mapValue>
			</value>
			<label>Overlap Transfer Control</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstQ5NCustPresence">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.22.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_Q5N_CUST_PRESENCE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.22.0</getOid>
				</mapValue>
			</value>
			<label>Presence Q5N Customer</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInstOverLdPreAlrmCtrl">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.23.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INST_OVERLD_PREALARM_CTRL</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.23.0</getOid>
				</mapValue>
			</value>
			<label>Overload Prealarm Control</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServInstNumOfUpsRedundancy">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.24.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>INST_NUM_OF_UPS_REDUNDANCY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.3.24.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of UPS in Redundancy</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsServiceStateInfo">
		<oidMustExist ruleid="has_upsServiceStateInfo" oid=".1.3.6.1.4.1.318.1.1.1.19.4" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsServiceSwitchState_flag01">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_01</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>([012])[012]{31}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Normal AC Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag02">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_02</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{1}([012])[012]{30}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Q3BP Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag03">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_03</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{2}([012])[012]{29}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Q4S Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag04">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_04</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{3}([012])[012]{28}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Q5N Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag05">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_05</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{4}([012])[012]{27}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Circuit Breakers</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag06">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_06</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{5}([012])[012]{26}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Circuit Breaker 1</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag07">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_07</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{6}([012])[012]{25}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Circuit Breaker 2</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag08">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_08</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{7}([012])[012]{24}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Q1 Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag09">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_09</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{8}([012])[012]{23}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Inverter Static Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag10">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_10</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{9}([012])[012]{22}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>AC Bypass Static Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag11">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_11</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{10}([012])[012]{21}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>K1 Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag12">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_12</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{11}([012])[012]{20}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>K2 Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag13">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_13</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{12}([012])[012]{19}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Internal Q5N Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag14">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_14</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{13}([012])[012]{18}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>SSC Q5N Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag15">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_15</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{14}([012])[012]{17}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>External Q5N Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag16">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_16</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{14}([012])[012]{17}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Internal Q3BP Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag17">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_17</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{16}([012])[012]{15}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>SSC Q3BP Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag18">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_18</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{17}([012])[012]{14}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>External Q3BP Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag19">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_19</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{18}([012])[012]{13}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Internal Q4S Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag20">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_20</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{19}([012])[012]{12}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>External Q4S Switch</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag21">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_21</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{20}([012])[012]{11}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>External Q3BP Switch (DIGIT information)</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag22">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_22</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{21}([012])[012]{10}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>External Q5N Switch (DIGIT information)</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag23">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_23</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{22}([012])[012]{9}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>External Q4S Switch (DIGIT information)</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag24">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_24</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{23}([012])[012]{8}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Inverter Exchange Current Relay</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceSwitchState_flag25">
			<type>state</type>
			<sensorId>SWITCH_STATE_FLAG_25</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{24}([012])[012]{7}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.1.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Q5N Customer</label>
			<enum>apcsmartups/commonValueMaps/open-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<stateSensor ruleid="upsServiceUpsState1_flag01">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_01</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>([012])[012]{63}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>PFC Phase 1 Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag02">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_02</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{1}([012])[012]{62}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>PFC Phase 2 Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag03">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_03</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{2}([012])[012]{61}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>PFC Phase 3 Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag04">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_04</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{3}([012])[012]{60}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Chopper IGBT 1 Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag05">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_05</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{4}([012])[012]{59}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Chopper IGBT 2 Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag06">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_06</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{5}([012])[012]{58}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Inverter Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag07">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_07</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{6}([012])[012]{57}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Inverter Phase 1 Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag08">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_08</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{7}([012])[012]{56}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Inverter Phase 2 Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag09">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_09</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{8}([012])[012]{55}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Inverter Phase 3 Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag10">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_10</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{9}([012])[012]{54}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Charge Completed</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag11">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_11</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{10}([012])[012]{53}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>End Standby UPS</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag12">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_12</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{11}([012])[012]{52}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Charge Coefficient Available</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag13">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_13</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{12}([012])[012]{51}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Operational</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag14">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_14</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{13}([012])[012]{50}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Maintenance Position</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag15">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_15</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{14}([012])[012]{49}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>AC Normal Phase Sequence Control Required</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag16">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_16</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{15}([012])[012]{48}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Personalized UPS</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag17">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_17</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{16}([012])[012]{47}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Forbidden AC Bypass Transfer</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag18">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_18</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{17}([012])[012]{46}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Load Powered</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag19">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_19</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{18}([012])[012]{45}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Load on Normal AC</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag20">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_20</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{19}([012])[012]{44}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Load on Battery</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag21">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_21</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{20}([012])[012]{43}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Load on Bypass AC</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag22">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_22</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{21}([012])[012]{42}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Limit the Battery Charging Current on GENSET</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag23">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_23</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{22}([012])[012]{41}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Limit Input Power on GENSET</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag24">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_24</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{23}([012])[012]{40}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Inverter Use The External Synchronization Source</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag25">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_25</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{24}([012])[012]{39}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>UPS Stopped in Standby Mode</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag26">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_26</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{25}([012])[012]{38}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>K2S State</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag27">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_27</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{26}([012])[012]{37}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Waiting for PFC Startup for HMI</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag28">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_28</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{27}([012])[012]{36}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>No Hard Limitation Detected</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag29">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_29</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{28}([012])[012]{35}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>K2S Powered</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag30">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_30</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{29}([012])[012]{34}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>GDET Specific Affair</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag31">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_31</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{30}([012])[012]{33}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>DIGIT Specific Affair</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag32">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_32</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{31}([012])[012]{32}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Efficiency Booster Mode Enabled</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag33">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_33</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{32}([012])[012]{31}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Power Saving Mode In Progress</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag34">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_34</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{33}([012])[012]{30}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>UPS Restart from Power Saving Mode</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag35">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_35</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{34}([012])[012]{29}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>EBM Test Mode In Progress</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag36">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_36</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{35}([012])[012]{28}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Power Saving Mode Status</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag37">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_37</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{36}([012])[012]{27}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>New Driver Board (DRIVXT) Detected</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag38">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_38</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{37}([012])[012]{26}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Limit the Battery Charging Current on GENSET - Temporized</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag39">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_39</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{38}([012])[012]{25}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Preload DC</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag40">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_40</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{39}([012])[012]{24}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Status of Power Saving Mode Exit</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag41">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_41</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{40}([012])[012]{23}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Genset Current Limitation: Insufficient Genset Power</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag42">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_42</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{41}([012])[012]{22}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Internal Battery Monitoring Operational</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag43">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_43</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{42}([012])[012]{21}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Battery Breaker Opening Request</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag44">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_44</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{43}([012])[012]{20}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Low Battery on Genset Current Limitation</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState1_flag45">
			<type>state</type>
			<sensorId>UPS_STATE_1_FLAG_45</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{44}([012])[012]{19}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.2.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Charger Disabled by Battery Charging Current Limitation on Genset</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<stateSensor ruleid="upsServiceUpsState2_flag01">
			<type>state</type>
			<sensorId>UPS_STATE_2_FLAG_01</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>([012])[012]{15}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.3.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Charger State</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState2_flag02">
			<type>state</type>
			<sensorId>UPS_STATE_2_FLAG_02</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{1}([012])[012]{14}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.3.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Inverter State</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState2_flag03">
			<type>state</type>
			<sensorId>UPS_STATE_2_FLAG_03</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{2}([012])[012]{13}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.3.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>Neutral Leg Status</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState2_flag04">
			<type>state</type>
			<sensorId>UPS_STATE_2_FLAG_04</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{3}([012])[012]{12}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.3.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>State of Environmental Fault LED</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState2_flag05">
			<type>state</type>
			<sensorId>UPS_STATE_2_FLAG_05</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{4}([012])[012]{11}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.3.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>State of Protected LED</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServiceUpsState2_flag06">
			<type>state</type>
			<sensorId>UPS_STATE_2_FLAG_06</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{5}([012])[012]{10}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.3.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
				</mapValue>
			</value>
			<label>State of Unprotected LED</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag01">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>([012])[012]{63}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Over Voltage on DC Bus Fault</activeText>
					<inactiveText>Over Voltage on DC Bus Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An Overvoltage has been detected on the DC Bus.</activeText>
					<inactiveText>Voltage on the DC Bus has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag02">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{1}([012])[012]{62}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Under Voltage on DC Bus Fault</activeText>
					<inactiveText>Under Voltage on DC Bus Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An Undervoltage has been detected on the DC Bus.</activeText>
					<inactiveText>Voltage on the DC Bus has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag03">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{2}([012])[012]{61}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>AC Normal Thermal Overload Fault</activeText>
					<inactiveText>AC Normal Thermal Overload Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Thermal Overload has been detected on AC Normal.</activeText>
					<inactiveText>AC Normal has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag04">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{3}([012])[012]{60}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>UPS External CAN Cable Fault</activeText>
					<inactiveText>UPS External CAN Cable Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A fault has been detected in the UPS external CAN cable.</activeText>
					<inactiveText>UPS external CAN cable has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag05">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{4}([012])[012]{59}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>PFC Inductor Vigitherme Fault</activeText>
					<inactiveText>PFC Inductor Vigitherme Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A fault has been detected in the PFC Inductor Vigitherme.</activeText>
					<inactiveText>PFC Inductor Vigitherme has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag06">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{5}([012])[012]{58}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>PFC and Battery Chopper Overload Fault</activeText>
					<inactiveText>PFC and Battery Chopper Overload Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An overload has been detected in the PFC and Battery Chopper.</activeText>
					<inactiveText>PFC and Battery Chopper have returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag07">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{6}([012])[012]{57}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Output Frequency Out of Tolerance Fault</activeText>
					<inactiveText>Output Frequency Out of Tolerance Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>Output frequency is out of tolerance.</activeText>
					<inactiveText>Output frequency has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag08">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{7}([012])[012]{56}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>AC Bypass Voltage Unbalanced Fault</activeText>
					<inactiveText>AC Bypass Voltage Unbalanced Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A voltage imbalance has been detected on AC Bypass.</activeText>
					<inactiveText>Voltage on AC Bypass has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag09">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{8}([012])[012]{55}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Inverter Static Switch Fault</activeText>
					<inactiveText>Inverter Static Switch Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A fault has been detected on the Inverter Static Switch.</activeText>
					<inactiveText>Inverter Static Switch has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag10">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{9}([012])[012]{54}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Power Supply Fault</activeText>
					<inactiveText>Power Supply Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A fault has been detected on the Power Supply.</activeText>
					<inactiveText>Power Supply has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag11">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{10}([012])[012]{53}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Core Electronic Fault</activeText>
					<inactiveText>Core Electronic Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A fault has been detected on the Core Electronics.</activeText>
					<inactiveText>Core Electronics returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag12">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{11}([012])[012]{52}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Thermal Overloads Fault</activeText>
					<inactiveText>Thermal Overloads Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A thermal overload has been detected.</activeText>
					<inactiveText>Thermal overload is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag13">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{12}([012])[012]{51}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>HF Current On Normal AC Fault</activeText>
					<inactiveText>HF Current On Normal AC Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A HF Current On Normal AC Fault has been detected.</activeText>
					<inactiveText>HF Current On Normal AC Fault is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag14">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{13}([012])[012]{50}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Parallel Installation In Downgraded Mode</activeText>
					<inactiveText>Parallel Installation In Downgraded Mode Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>Parallel Installation is in Downgraded mode.</activeText>
					<inactiveText>Parallel Installation has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag15">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{14}([012])[012]{49}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>External CAN Process Bus Error</activeText>
					<inactiveText>External CAN Process Bus Error Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An External CAN Process Bus Error has been detected.</activeText>
					<inactiveText>External CAN Process Bus Error is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag16">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{15}([012])[012]{48}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Transfer Synchronization Bus Fault On Parallel Installation</activeText>
					<inactiveText>Transfer Synchronization Bus Fault On Parallel Installation Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Transfer Synchronization Bus Fault has been detected on the Parallel Installation.</activeText>
					<inactiveText>Transfer Synchronization Bus Fault is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag17">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{16}([012])[012]{47}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>AC Normal Fast Loss Voltage Fault</activeText>
					<inactiveText>AC Normal Fast Loss Voltage Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An AC Normal Fast Loss Voltage Fault has been detected.</activeText>
					<inactiveText>AC Normal Fast Loss Voltage Fault is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<!--
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag18">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{17}([012])[012]{46}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Inverter Fan Fault</activeText>
					<inactiveText>Inverter Fan Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An Inverter Fan Fault has been detected.</activeText>
					<inactiveText>Inverter Fan has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag19">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{18}([012])[012]{45}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Inverter Fuse Failure</activeText>
					<inactiveText>Inverter Fuse Failure Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>The Inverter Fuse has failed.</activeText>
					<inactiveText>Inverter Fuse has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag20">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{19}([012])[012]{44}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Inverter Overload</activeText>
					<inactiveText>Inverter Overload Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An Inverter Overload has been detected.</activeText>
					<inactiveText>Inverter Overload is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag21">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{20}([012])[012]{43}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Inverter Thermal Overload</activeText>
					<inactiveText>Inverter Thermal Overload Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An Inverter Thermal Overload has been detected.</activeText>
					<inactiveText>Inverter Thermal Overload is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag22">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{21}([012])[012]{42}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Normal AC Out Of Tolerance</activeText>
					<inactiveText>Normal AC Out Of Tolerance Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>Normal AC is out of tolerance.</activeText>
					<inactiveText>Normal AC has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag23">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{22}([012])[012]{41}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>AC Bypass Out Of Tolerance</activeText>
					<inactiveText>AC Bypass Out Of Tolerance Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>AC Bypass is out of tolerance.</activeText>
					<inactiveText>AC Bypass has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag24">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{23}([012])[012]{40}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>AC Bypass Static Switch Thermal Overload</activeText>
					<inactiveText>AC Bypass Static Switch Thermal Overload Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Thermal Overload has been detected on the AC Bypass Static Switch.</activeText>
					<inactiveText>AC Bypass Static Switch has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		-->
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag25">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{24}([012])[012]{39}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>AC Bypass Major Fault For Customer</activeText>
					<inactiveText>AC Bypass Major Fault For Customer Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An AC Bypass Major Fault For Customer has been detected.</activeText>
					<inactiveText>AC Bypass Major Fault For Customer is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<!--
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag26">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{25}([012])[012]{38}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Load Overload</activeText>
					<inactiveText>Load Overload Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Load Overload has been detected.</activeText>
					<inactiveText>Load Overload is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag27">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{26}([012])[012]{37}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Output Power Turned Off</activeText>
					<inactiveText>Output Power Turned Off Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>Output Power has been turned off.</activeText>
					<inactiveText>Output Power has returned to normal.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag28">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{27}([012])[012]{36}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>Display CAN Communication Fault</activeText>
					<inactiveText>Display CAN Communication Fault Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>A Display CAN Communication Fault has been detected.</activeText>
					<inactiveText>Display CAN Communication Fault is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		<alarmFlags2 ruleid="upsServiceUpsSpecificFaults_flag29">
			<value>
				<formatNumber printffmt="%1.0f">
				<regex>
				<op>[012]{28}([012])[012]{35}</op>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.4.4.0</getOid></op>
				<op>%1$s</op>
				</regex>
				</formatNumber>
			</value>
			<alarmFlagsTest match="1">
				<name>
					<activeText>End of Autonomy</activeText>
					<inactiveText>End of Autonomy Cleared</inactiveText>
				</name>
				<severity>warning</severity>
				<category>System</category>
				<description>
					<activeText>An End of Autonomy has been detected.</activeText>
					<inactiveText>End of Autonomy is no longer present.</inactiveText>
				</description>
			</alarmFlagsTest>
		</alarmFlags2>
		-->
	</device>

	<device deviceid="upsServiceAcNormal">
		<oidMustExist ruleid="has_upsServiceAcNormal" oid=".1.3.6.1.4.1.318.1.1.1.19.5" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<valueMap ruleid="upsServAcNormVoltage-vm">
			<valueIn>1</valueIn><valueOut>0</valueOut>
			<valueIn>2</valueIn><valueOut>1</valueOut>
			<valueIn>3</valueIn><valueOut>2</valueOut>
			<valueIn>4</valueIn><valueOut>3</valueOut>
			<valueIn>5</valueIn><valueOut>4</valueOut>
			<valueIn>6</valueIn><valueOut>5</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServAcNormVoltage-em">
			<label>Unknown</label>
			<label>Over Voltage</label>
			<label>In Tolerance</label>
			<label>In Tolerance - Low Voltage</label>
			<label>In Tolerance - Display Low Voltage</label>
			<label>Under Voltage</label>
		</enumMap>
		<stateSensor ruleid="upsServAcNormVoltage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>AC_NORM_VOLTAGE</sensorId>
			<value>
				<mapValue mapid="upsServAcNormVoltage-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.1.0</getOid>
				</mapValue>
			</value>
			<label>AC Normal Voltage State</label>
			<enum>upsServAcNormVoltage-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsServAcNormOverVoltTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>AC_NORM_OVER_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Over Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServAcNormLowVoltTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>AC_NORM_LOW_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Low Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServAcNormUnderVoltTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>AC_NORM_UNDER_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Under Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServAcNormOverFreqTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>frequency</type>
			<sensorId>AC_NORM_OVER_FREQ_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Over Frequency Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServAcNormUnderFreqTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>frequency</type>
			<sensorId>AC_NORM_UNDER_FREQ_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Under Frequency Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServAcNormMinVoltTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>AC_NORM_MIN_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Minimal Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServAcNormUnbalancedTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>AC_NORM_UNBALANCED_TH</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.5.8.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>AC Normal Unbalanced Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServAcNormDisplayLowVoltTh">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>AC_NORM_DISPLAY_LOW_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Display Low Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServAcNormHFcurrentControl">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>AC_NORM_HF_CURRENT_CONTROL</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.10.0</getOid>
				</mapValue>
			</value>
			<label>HF Current on Normal AC Control</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServAcNormTransformerPresence">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>AC_NORM_TRANSFORMER_PRESENCE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.11.0</getOid>
				</mapValue>
			</value>
			<label>Transformer Present on AC Normal</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServAcNormInputVoltTransformer">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>AC_NORM_INPUT_VOLT_TRANSFORMER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.12.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Transformer Input Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServAcNormOutputVoltTransformer">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>AC_NORM_OUTPUT_VOLT_TRANSFORMER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.5.13.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>AC Normal Transformer Output Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsServiceInverter">
		<oidMustExist ruleid="has_upsServiceInverter" oid=".1.3.6.1.4.1.318.1.1.1.19.6" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsServInvUpsOnInverter">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INV_UPS_ON_INVERTER</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.1.0</getOid>
				</mapValue>
			</value>
			<label>UPS on Inverter</label>
			<enum>apcsmartups/commonValueMaps/coupled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInvDesyncActivatedExt">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INV_DESYNC_ACTIVATED_EXT</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.2.0</getOid>
				</mapValue>
			</value>
			<label>Inverter Desynchronize External Activation</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInvReadyToTrfrOnInvHMI">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INV_READY_TO_TRFR_ON_INV_HMI</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.3.0</getOid>
				</mapValue>
			</value>
			<label>Ready to Transfer on Inverter for HMI</label>
			<enum>apcsmartups/commonValueMaps/ready-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInvOrAcBypDsyncCmd">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INV_OR_AC_BYP_DSYNC_CMD</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.4.0</getOid>
				</mapValue>
			</value>
			<label>Inverter or AC Bypass Desynchronize Command</label>
			<enum>apcsmartups/commonValueMaps/running-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServInvUpsAutoStart">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INV_UPS_AUTO_START</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.5.0</getOid>
				</mapValue>
			</value>
			<label>UPS Automatic Start</label>
			<enum>apcsmartups/commonValueMaps/allowed-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServInvNoOfAutoStartsLim">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>INV_NO_OF_AUTO_STARTS_LIM</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of Automatic Starts After Limitation</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvRateOfSyncWithAcByp">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>INV_RATE_OF_SYNC_WITH_AC_BYP</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Rate of Synchronization with AC Bypass Source (Hz/sec)</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvUpsOutPutRatedFreq">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>frequency</type>
			<sensorId>INV_UPS_OUTPUT_RATED_FREQ</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Output Rated Frequency</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvUpsOutPutRatedVolt">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>INV_UPS_OUTPUT_RATED_VOLT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Output Rated Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvLimitMaskDuration">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>INV_LIMIT_MASK_DURATION</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.6.10.0</getOid></op>
				<op>0.001</op>
				</mult>
			</value>
			<valueInc>0.001</valueInc>
			<label>Inverter Limitation Mask Duration</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvBreakDuration">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>INV_BREAK_DURATION</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.6.11.0</getOid></op>
				<op>0.001</op>
				</mult>
			</value>
			<valueInc>0.001</valueInc>
			<label>Break Duration</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvCurNormLimitation">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>INV_CUR_NORM_LIMITATION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.12.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Inverter Current Normal Limitation</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvNeutralLegCurLimit">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>INV_NEUTRAL_LEG_CUR_LIMIT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.13.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Neutral Leg Current Normal Limitation</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvCurLimTrfrToInv">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.14.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>INV_CUR_LIM_TRFR_TO_INV</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.14.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Inverter Current Limit During Transfer to Inverter</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvCurLowLimDelay">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.15.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>INV_CUR_LOW_LIM_DELAY</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.6.15.0</getOid></op>
				<op>0.001</op>
				</mult>
			</value>
			<valueInc>0.001</valueInc>
			<label>Inverter Current Low Limit Delay</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvShortCktDuration">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.16.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>INV_SHORT_CKT_DURATION</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.6.16.0</getOid></op>
				<op>0.001</op>
				</mult>
			</value>
			<valueInc>0.001</valueInc>
			<label>Short Circuit Duration</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvMaxInvVoltTHTol">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.17.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>INV_MAX_INV_VOLT_TH_TOL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.17.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Inverter Maximum Voltage Threshold Tolerance</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvMaxIGBTTempTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.18.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>INV_MAX_IGBT_TEMP_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.18.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Inverter Maximum IGBT Temperature Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvMaxIGBTTempTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.19.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>INV_MIN_IGBT_TEMP_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.19.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Inverter Minimum IGBT Temperature Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvNeutralLegCurHighLim">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.20.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>INV_NEUTRAL_LEG_CUR_HIGH_LIM</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.20.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Inverter Neutral Leg Current High Limit</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvRatedCurOverload">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.21.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>INV_RATED_CUR_OVERLOAD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.21.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Inverter Rated Current for Overload</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServInvCurCtrlTrfrSeqEnable">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.22.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>INV_CUR_CTRL_TRFR_SEQ_ENABLE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.22.0</getOid>
				</mapValue>
			</value>
			<label>Enable Current Control During Transfer Sequences</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServInvMinNumInvRdyCoupling">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.23.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>INV_MIN_NUM_INV_RDY_COUPLING</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.23.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Minimum Number of Inverter Ready for Coupling</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServInvUncoupledInvOverLoadTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.24.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>INV_UNCOUPLED_INV_OVERLOAD_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.6.24.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Uncoupled Inverter Overload Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsServiceDCInfo">
		<oidMustExist ruleid="has_upsServiceDCInfo" oid=".1.3.6.1.4.1.318.1.1.1.19.7" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<valueMap ruleid="upsServDCBusCtrl-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServDCBusCtrl-em">
			<label>Unknown</label>
			<label>Over Voltage</label>
			<label>In Tolerance</label>
			<label>In Tolerance - Boost</label>
			<label>In Tolerance - Low Voltage</label>
			<label>Under Voltage</label>
		</enumMap>
		<stateSensor ruleid="upsServDCBusCtrl">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>DC_BUS_CTRL</sensorId>
			<value>
				<mapValue mapid="upsServDCBusCtrl-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.1.0</getOid>
				</mapValue>
			</value>
			<label>DC Bus Control</label>
			<enum>upsServDCBusCtrl-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServDCBusPowerSource-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServDCBusPowerSource-em">
			<label>Unknown</label>
			<label>Off</label>
			<label>Only PFC</label>
			<label>Only Battery</label>
			<label>Battery and PFC</label>
		</enumMap>
		<stateSensor ruleid="upsServDCBusPowerSource">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>DC_BUS_POWER_SOURCE</sensorId>
			<value>
				<mapValue mapid="upsServDCBusPowerSource-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.2.0</getOid>
				</mapValue>
			</value>
			<label>DC Bus Power Source</label>
			<enum>upsServDCBusPowerSource-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServDCVoltRef">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>DC_VOLT_REF</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>DC Voltage Reference</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCOverVoltTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>DC_OVER_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>DC Over Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCUnderVoltTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>DC_UNDER_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>DC Under Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCDiffDCVoltTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>DC_DIFF_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>DC Differential Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCDiffDCVoltTimeOut">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>DC_DIFF_VOLT_TIMEOUT</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.7.7.0</getOid></op>
				<op>0.001</op>
				</mult>
			</value>
			<valueInc>0.001</valueInc>
			<label>DC Differential Voltage Timeout</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCHalfDCOverVoltTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>DC_HALF_DC_OVER_VOLT_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Half DC Over Voltage Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCChopperChrgCurLimit">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>DC_CHOPPER_CHRG_CUR_LIMIT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Chopper Charging Current Limitation</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCChopperDischCurNormLimit">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>DC_CHOPPER_DISCH_CUR_NORM_LIMIT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.10.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Chopper Discharging Current Normal Limitation</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCChopperRatedCurrent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>DC_CHOPPER_RATED_CURRENT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.11.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Chopper Rated Current</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCVoltFuseTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>DC_VOLT_FUSE_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.12.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>DC Voltage Fuse Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServDCChopperDischCurHighLim">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>DC_CHOPPER_DISCH_CUR_HIGH_LIM</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.7.13.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Chopper Discharging Current High Limitation</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsServicePFCInfo">
		<oidMustExist ruleid="has_upsServicePFCInfo" oid=".1.3.6.1.4.1.318.1.1.1.19.8" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsServPfcStatus">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>PFC_STATUS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.1.0</getOid>
				</mapValue>
			</value>
			<label>PFC Status</label>
			<enum>apcsmartups/commonValueMaps/running-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServPfcFanPowerSource-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServPfcFanPowerSource-em">
			<label>Unknown</label>
			<label>None</label>
			<label>Inverter</label>
			<label>AC Normal</label>
			<label>AC Normal Resistor</label>
		</enumMap>
		<stateSensor ruleid="upsServPfcFanPowerSource">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>PFC_FAN_POWER_SOURCE</sensorId>
			<value>
				<mapValue mapid="upsServPfcFanPowerSource-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.2.0</getOid>
				</mapValue>
			</value>
			<label>PFC Fan Power Source</label>
			<enum>upsServPfcFanPowerSource-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServPfcCurRegTimeOut">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>PFC_CUR_REG_TIMEOUT</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.8.3.0</getOid></op>
				<op>0.001</op>
				</mult>
			</value>
			<valueInc>0.001</valueInc>
			<label>PFC Current Regulation Timeout</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServPfcCurNormLimit">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>PFC_CUR_NORM_LIMIT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>PFC Current Normal Limit</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServPfcMaxIGBTTempTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>PFC_MAX_IGBT_TEMP_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>PFC Max IGBT Temperature Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServPfcMinIGBTTempTH">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>temp</type>
			<sensorId>PFC_MIN_IGBT_TEMP_TH</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>PFC Min IGBT Temperature Threshold</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServPfcRatedCurrent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>PFC_RATED_CURRENT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>PFC Rated Current</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServPfcNomCurRampDuration">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>PFC_NOM_CUR_RAMP_DURATION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>PFC Nominal Current Ramp Duration</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServPfcCurrentRampEnable">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>PFC_CURRENT_RAMP_ENABLE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.9.0</getOid>
				</mapValue>
			</value>
			<label>PFC Current Ramp Enable</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServPfcCurrentRampStepLoad">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>PFC_CURRENT_RAMP_STEP_LOAD</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.10.0</getOid>
				</mapValue>
			</value>
			<label>PFC Current Ramp During Step of Load</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServPfcMaxCurOnGenset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>PFC_MAX_CUR_ON_GENSET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.11.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>PFC Max Current on Genset</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServPfcRestartTempFault">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>PFC_RESTART_TEMP_FAULT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.8.12.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>PFC Restart Temporization after Fault</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsServiceEfficiency">
		<oidMustExist ruleid="has_upsServiceEfficiency" oid=".1.3.6.1.4.1.318.1.1.1.19.9" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsServEffEBMDisabledAllUPS">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>EFF_EBM_DISABLED_ALL_UPS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.1.0</getOid>
				</mapValue>
			</value>
			<label>EBM Disabled on All UPS by PFC or Battery</label>
			<enum>apcsmartups/commonValueMaps/yesNo-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServEffOriginEBMDisabledAllUPS-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServEffOriginEBMDisabledAllUPS-em">
			<label>Unknown</label>
			<label>Backup Time Too Low During Autonomy</label>
			<label>Input Power Limited on Genset</label>
			<label>Battery Charging Current Limited on Genset</label>
		</enumMap>
		<stateSensor ruleid="upsServEffOriginEBMDisabledAllUPS">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>EFF_EBM_ORIGIN_DISABLED_ALL_UPS</sensorId>
			<value>
				<mapValue mapid="upsServEffOriginEBMDisabledAllUPS-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.2.0</getOid>
				</mapValue>
			</value>
			<label>Origin of EBM Disabled on All UPS by PFC or Battery</label>
			<enum>upsServEffOriginEBMDisabledAllUPS-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServEffPSMNonEntry-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>6</valueIn><valueOut>6</valueOut>
			<valueIn>7</valueIn><valueOut>7</valueOut>
			<valueIn>8</valueIn><valueOut>8</valueOut>
			<valueIn>9</valueIn><valueOut>9</valueOut>
			<valueIn>10</valueIn><valueOut>10</valueOut>
			<valueIn>11</valueIn><valueOut>11</valueOut>
			<valueIn>12</valueIn><valueOut>12</valueOut>
			<valueIn>13</valueIn><valueOut>13</valueOut>
			<valueIn>14</valueIn><valueOut>14</valueOut>
			<valueIn>15</valueIn><valueOut>15</valueOut>
			<valueIn>16</valueIn><valueOut>16</valueOut>
			<valueIn>17</valueIn><valueOut>17</valueOut>
			<valueIn>18</valueIn><valueOut>18</valueOut>
			<valueIn>19</valueIn><valueOut>19</valueOut>
			<valueIn>20</valueIn><valueOut>20</valueOut>
			<valueIn>21</valueIn><valueOut>21</valueOut>
			<valueIn>22</valueIn><valueOut>22</valueOut>
			<valueIn>23</valueIn><valueOut>23</valueOut>
			<valueIn>24</valueIn><valueOut>24</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServEffPSMNonEntry-em">
			<label>Unknown</label>
			<label>EBM Disabled</label>
			<label>Load Overload</label>
			<label>Inverter Overload</label>
			<label>PFC or HB Overload</label>
			<label>Neutral Overload</label>
			<label>AC Bypass Out of Tolerance</label>
			<label>AC Bypass Out of Tolerance Installation</label>
			<label>UPS Not On Inverter</label>
			<label>Installation Without SSC</label>
			<label>PSM Restart Fault</label>
			<label>Restart One UPS from PSM</label>
			<label>External Synchronization</label>
			<label>Output Stage Not Available</label>
			<label>Over Fault on SSC</label>
			<label>K2S Closing Fault on SCC</label>
			<label>End of Test Mode</label>
			<label>Downgraded Mode</label>
			<label>Input Overload on Equipment</label>
			<label>Input Overload on Another Equipment</label>
			<label>No Input Authorization</label>
			<label>DC Bus Voltage Not OK</label>
			<label>Other UPS on Battery</label>
			<label>Time Threshold Not Reached</label>
			<label>Enough UPS Stopped In PSM</label>
		</enumMap>
		<stateSensor ruleid="upsServEffPSMNonEntry">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>EFF_PSM_NON_ENTRY</sensorId>
			<value>
				<mapValue mapid="upsServEffPSMNonEntry-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.3.0</getOid>
				</mapValue>
			</value>
			<label>Reason for Not Entering Power Saving Mode</label>
			<enum>upsServEffPSMNonEntry-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<numSensor ruleid="upsServEffEBMLowPowLevel">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>EFF_EBM_LOW_POW_LEVEL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>EBM Low Power Level</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServEffEBMHighPowLevel">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>EFF_EBM_HIGH_POW_LEVEL</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>EBM High Power Level</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServEffEBMLowPowLevelTemp">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>EFF_EBM_LOW_POW_LEVEL_TEMP</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>EBM Low Power Level Temporization</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServEffEBMHighPowLevelTemp">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>EFF_EBM_HIGH_POW_LEVEL_TEMP</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>EBM High Power Level Temporization</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServEffMaxOpTimePSM">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinsec</type>
			<sensorId>EFF_MAX_OP_TIME_PSM</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Maximum Operating Time in PSM</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServEffEBMEnable">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>EFF_EBM_ENABLE</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.9.9.0</getOid>
				</mapValue>
			</value>
			<label>EBM Enabled</label>
			<enum>apcsmartups/commonValueMaps/noYes-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
	</device>

	<device deviceid="upsServiceMiscInfo">
		<oidMustExist ruleid="has_upsServiceMiscInfo" oid=".1.3.6.1.4.1.318.1.1.1.19.10" istree="yes" />
		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<stateSensor ruleid="upsServMiscLCMSignaling">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>MISC_LCM_SIGNALING</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.1.0</getOid>
				</mapValue>
			</value>
			<label>LCM Signaling</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsServMiscOutOfLimitSignaling">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>MISC_OUT_OF_LIMIT_SIGNALING</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.2.0</getOid>
				</mapValue>
			</value>
			<label>Out of Limit Signaling</label>
			<enum>apcsmartups/commonValueMaps/onOff-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServMiscSpecificTimeStampEvt-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>6</valueIn><valueOut>6</valueOut>
			<valueIn>7</valueIn><valueOut>7</valueOut>
			<valueIn>8</valueIn><valueOut>8</valueOut>
			<valueIn>9</valueIn><valueOut>9</valueOut>
			<valueIn>10</valueIn><valueOut>10</valueOut>
			<valueIn>11</valueIn><valueOut>11</valueOut>
			<valueIn>12</valueIn><valueOut>12</valueOut>
			<valueIn>13</valueIn><valueOut>13</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServMiscSpecificTimeStampEvt-em">
			<label>Unknown</label>
			<label>Date/Time Configuration</label>
			<label>New Date/Time Validated</label>
			<label>Clock Synchronization</label>
			<label>Power On</label>
			<label>Power Off</label>
			<label>Manual Reset</label>
			<label>Internal Reset</label>
			<label>Corrupted Settings</label>
			<label>Blackbox Trigger - Input Fault</label>
			<label>Blackbox Trigger - Output Fault</label>
			<label>Blackbox Trigger - UPS Tuner Command</label>
			<label>Blackbox Trigger - Debug Command</label>
			<label>Clock Synchronization Emission</label>
		</enumMap>
		<stateSensor ruleid="upsServMiscSpecificTimeStampEvt">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>MISC_SPECIFIC_TIMESTAMP_EVT</sensorId>
			<value>
				<mapValue mapid="upsServMiscSpecificTimeStampEvt-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.3.0</getOid>
				</mapValue>
			</value>
			<label>Specific Time Stamping Event</label>
			<enum>upsServMiscSpecificTimeStampEvt-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>

		<valueMap ruleid="upsServMiscTimeStampRiskEvt-vm">
			<valueIn>1</valueIn><valueOut>1</valueOut>
			<valueIn>2</valueIn><valueOut>2</valueOut>
			<valueIn>3</valueIn><valueOut>3</valueOut>
			<valueIn>4</valueIn><valueOut>4</valueOut>
			<valueIn>5</valueIn><valueOut>5</valueOut>
			<valueIn>6</valueIn><valueOut>6</valueOut>
			<valueIn>7</valueIn><valueOut>7</valueOut>
			<valueIn>*</valueIn><valueOut>0</valueOut>
		</valueMap>
		<enumMap ruleid="upsServMiscTimeStampRiskEvt-em">
			<label>Unknown</label>
			<label>New Setting (Perso)</label>
			<label>Power On</label>
			<label>Power Off</label>
			<label>Change GDET Board</label>
			<label>Change DIGIT Board</label>
			<label>Reset Battery Wear Parameters in Serial Flash</label>
			<label>Reset Output Voltage Adjustment in Serial Flash</label>
		</enumMap>
		<stateSensor ruleid="upsServMiscTimeStampRiskEvt">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>MISC_TIMESTAMP_RISK_EVT</sensorId>
			<value>
				<mapValue mapid="upsServMiscTimeStampRiskEvt-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.4.0</getOid>
				</mapValue>
			</value>
			<label>Time Stamping Risk Event</label>
			<enum>upsServMiscTimeStampRiskEvt-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServMiscLoadFreqTHTol">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>MISC_LOAD_FREQ_TH_TOL</sensorId>
			<value>
				<mult>
				<op><getOid>.1.3.6.1.4.1.318.1.1.1.19.10.5.0</getOid></op>
				<op>0.1</op>
				</mult>
			</value>
			<valueInc>0.1</valueInc>
			<label>Load Frequency Threshold Tolerance</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServMiscNeuralRtdCurOverLd">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>amperage</type>
			<sensorId>MISC_NEUTRAL_RTD_CUR_OVERLD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Neutral Rated Current Value for Overload</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<stateSensor ruleid="upsServMiscLoadTransformerPresent">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>MISC_LOAD_TRANSFORMER_PRESENT</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.7.0</getOid>
				</mapValue>
			</value>
			<label>Load Transformer Present</label>
			<enum>apcsmartups/commonValueMaps/disabledEnabled-em</enum>
			<sensorSet>UPS Service Information</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsServMiscLoadInpVoltTransformer">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>MISC_LOAD_INPUT_VOLT_TRANSFORMER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Load Transformer Input Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
		<numSensor ruleid="upsServMiscLoadOutPutVoltTransformer">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>MISC_LOAD_OUTPUT_VOLT_TRANSFORMER</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.19.10.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Load Transformer Output Voltage</label>
			<sensorSet>UPS Service Information</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsEnergyEfficiency">
		<oidMustExist ruleid="has_upsEnergyEfficiency" oid=".1.3.6.1.4.1.318.1.1.1.20" istree="yes" />

		<numSensor ruleid="upsEcoModeFreqTransferRange">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>FREQUENCY_ECO_TRANSFER_RANGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.1.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Frequency ECO Transfer Range</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModeHighVoltThreshold">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>ECO_HIGH_VOLTAGE_THRESHOLD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>ECO High Voltage Threshold</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModeLowVoltThreshold">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>voltage</type>
			<sensorId>ECO_LOW_VOLTAGE_THRESHOLD</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>ECO Low Voltage Threshold</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsEcoModeSetting">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>ECO_SETTING</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.4.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>ECO Setting</label>
			<enum>apcsmartups/commonValueMaps/enabledDisabled-em</enum>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsEcoModeStatus">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>ECO_STATUS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.5.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>ECO Status</label>
			<enum>apcsmartups/commonValueMaps/active-em</enum>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsEcoModeCountSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>ECO_COUNT_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Times UPS Entered ECO Mode Since Reset</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModeOnlineSinceCommission">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>ECO_ONLINE_SINCE_COMMISSION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Online with ECO Mode Since Commission</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModeOnlineSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>ECO_ONLINE_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Online with ECO Mode Since Reset</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModeTotalPercentTimeSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>ECO_TOTAL_PCT_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Percent Time Spent in ECO Mode Since Reset</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModePercentTimeSinceCommission">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>ECO_TOTAL_PCT_SINCE_COMMISSION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.10.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Percent Time Spent in ECO Mode Since Commission</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModeTotalTimeSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>ECO_TOTAL_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.11.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Spent in ECO Mode Since Reset</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModeTotalTimeSinceCommission">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.12.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>ECO_TOTAL_SINCE_COMMISSION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.12.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Spent in ECO Mode Since Commission</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEcoModeTotalTimeInMonth">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.13.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>ECO_TOTAL_MONTHLY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.1.13.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Spent in ECO Mode Since Start of Month</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>

		<stateSensor ruleid="upsEbmModeSetting">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.1.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>EBM_SETTING</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.1.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>EBM Setting</label>
			<enum>apcsmartups/commonValueMaps/enabledDisabled-em</enum>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</stateSensor>
		<stateSensor ruleid="upsEbmModeStatus">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>state</type>
			<sensorId>EBM_STATUS</sensorId>
			<value>
				<mapValue mapid="apcsmartups/commonValueMaps/2state-vm">
				<formatNumber printffmt="%1.0f">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.2.0</getOid>
				</formatNumber>
				</mapValue>
			</value>
			<label>EBM Status</label>
			<enum>apcsmartups/commonValueMaps/active-em</enum>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</stateSensor>
		<numSensor ruleid="upsEbmModeCountSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>EBM_COUNT_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Times UPS Entered EBM Mode Since Reset</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEbmModeTotalTimeInMonth">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>EBM_TOTAL_MONTHLY</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Spent in EBM Mode Since Start of Month</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEbmModeTotalTimeSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>EBM_TOTAL_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Spent in EBM Mode Since Reset</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEbmModeTotalPercentTimeSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>EBM_TOTAL_PCT_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Percent Time Spent in EBM Mode Since Reset</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEbmModeOnlineSinceCommission">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.7.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>EBM_ONLINE_SINCE_COMMISSION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.7.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Online with EBM Mode Since Commission</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEbmModePercentTimeSinceCommission">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.8.0</getOid>
				</mapValue>
			</rowTest>
			<type>pctofcapacity</type>
			<sensorId>EBM_TOTAL_PCT_SINCE_COMMISSION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.8.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Percent Time Spent in EBM Mode Since Commission</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEbmModeRuntimeSinceCommission">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.9.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>EBM_TOTAL_SINCE_COMMISSION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.9.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Spent in EBM Mode Since Commission</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEbmModeOnlineSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.10.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>EBM_ONLINE_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.10.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Time Online with EBM Mode Since Reset</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEbmModeUpsCount">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.11.0</getOid>
				</mapValue>
			</rowTest>
			<type>num</type>
			<sensorId>EBM_UPS_COUNT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.20.2.11.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>Number of UPSes in EBM Mode</label>
			<sensorSet>UPS Energy Efficiency</sensorSet>
		</numSensor>
	</device>

	<device deviceid="upsBatteryStats">
		<oidMustExist ruleid="has_upsStatistics" oid=".1.3.6.1.4.1.318.1.1.1.22" istree="yes"/>

		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<numSensor ruleid="upsBatteryStatsTimeSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.1.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TIME_SINCE_BATT_TIMER_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.1.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Time Since Battery Timer Reset</label>
			<sensorSet>UPS Battery Stats</sensorSet>
		</numSensor>
		<numSensor ruleid="upsBatteryStatsTimeOnBattery">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.1.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TOTAL_TIME_ON_BATT</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.1.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Total time on battery (mins)</label>
			<sensorSet>UPS Battery Stats</sensorSet>
		</numSensor>

	</device>

	<!-- .1.3.6.1.4.1.318.1.1.1.21.* | upsSoftwareDefinedPower -->

	<device deviceid="upsOperationalStats">
		<oidMustExist ruleid="has_upsStatistics" oid=".1.3.6.1.4.1.318.1.1.1.22" istree="yes"/>

		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<numSensor ruleid="upsOpStatsTimeSinceReset">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.2.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TIME_SINCE_RESET</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.2.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Time Since Timer Reset</label>
			<sensorSet>UPS Operational Stats</sensorSet>
		</numSensor>
		<numSensor ruleid="upsOpStatsTimeInNormalOperation">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TIME_IN_NORMAL_OPERATION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Time in Normal Operation</label>
			<sensorSet>UPS Operational Stats</sensorSet>
		</numSensor>
		<numSensor ruleid="upsOpStatsTimeInBypassOperation">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TIME_IN_BYPASS_OPERATION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Time in Bypass Operation</label>
			<sensorSet>UPS Operational Stats</sensorSet>
		</numSensor>
		<numSensor ruleid="upsOpStatsTimeInECOmodeOperation">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TIME_IN_ECO_MODE_OPERATION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Time in ECO Mode Operation</label>
			<sensorSet>UPS Operational Stats</sensorSet>
		</numSensor>
		<numSensor ruleid="upsOpStatsTimeInECOnversionOperation">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TIME_IN_ECONVERSION_OPERATION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.2.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Time in ECOnversion Operation (mins)</label>
			<sensorSet>UPS Operational Stats</sensorSet>
		</numSensor>

	</device>

	<device deviceid="upsEnergyEfficiencyStats">
		<oidMustExist ruleid="has_upsStatistics" oid=".1.3.6.1.4.1.318.1.1.1.22" istree="yes"/>

		<oidMustMatch ruleid="sysOidWhitelist" oid=".1.3.6.1.2.1.1.2.0">
			<valueList>
				<value>.1.3.6.1.4.1.318.1.3.28.*</value>
			</valueList>
		</oidMustMatch>

		<numSensor ruleid="upsEnergyEfficiencyStatsTimeInECOmode">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.3.3.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TIME_IN_ECO_MODE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.3.3.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Time in ECO Mode</label>
			<sensorSet>UPS Energy Efficiency Stats</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEnergyEfficiencyStatsTimeInECOnversion">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.3.4.0</getOid>
				</mapValue>
			</rowTest>
			<type>timeinmin</type>
			<sensorId>UPS_TIME_IN_ECONVERSION</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.3.4.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Time in ECOnversion</label>
			<sensorSet>UPS Energy Efficiency Stats</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEnergyEfficiencyStatsInputEnergyUsage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.3.5.0</getOid>
				</mapValue>
			</rowTest>
			<type>num/kwatthr</type>
			<sensorId>UPS_INPUT_ENERGY_USAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.3.5.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Input Energy Usage</label>
			<sensorSet>UPS Energy Efficiency Stats</sensorSet>
		</numSensor>
		<numSensor ruleid="upsEnergyEfficiencyStatsOutputEnergyUsage">
			<rowTest>
				<mapValue mapid="apcsmartups/commonValueMaps/invalid_minusOne-vm">
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.3.6.0</getOid>
				</mapValue>
			</rowTest>
			<type>num/kwatthr</type>
			<sensorId>UPS_OUTPUT_ENERGY_USAGE</sensorId>
			<value>
				<getOid>.1.3.6.1.4.1.318.1.1.1.22.3.6.0</getOid>
			</value>
			<valueInc>1</valueInc>
			<label>UPS Output Energy Usage</label>
			<sensorSet>UPS Energy Efficiency Stats</sensorSet>
		</numSensor>
	</device>

</APC_DDF>
