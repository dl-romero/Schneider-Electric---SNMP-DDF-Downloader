<?xml version="1.0" encoding="UTF-8"?>
<APC_DDF xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://localhost/ddf_schema/apc_ddf_1_6.xsd" ddfid="ipgaurd_3p" ddfname="IPGaurd 3P" ddfversion="1" canremove="yes">
  <schemaVersion>1.6</schemaVersion>
  <device deviceid="ipgaurd_3p">
    <oidMustExist ruleid="snmpdevicetest" oid="1.3.6.1.4.1.2350.1.1.2.35.0" />
    <setProductData ruleid="vendordata" field="vendor">IPGaurd</setProductData>
    <setProductData ruleid="modeldata" field="model">3P</setProductData>
    <setProductData ruleid="typedata" field="type">UPS</setProductData>
        <numSensor ruleid="bypass_output">
      <type>pctofcapacity</type>
      <units />
      <sensorId>_BYPASS_OUTPUT</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.2.35.0</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>旁路输出</label>
      <sensorSet>百分</sensorSet>
    </numSensor>
    <numSensor ruleid="battery_status">
      <type>state</type>
      <units />
      <sensorId>_BATTERY_STATUS</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.23.0</getOid>
          </op>
          <op>1</op>
        </mult>
      </value>
      <label>电池状态</label>
      <sensorSet>一般</sensorSet>
    </numSensor>
    <numSensor ruleid="battery_voltage">
      <type>voltageAC</type>
      <units />
      <sensorId>_BATTERY_VOLTAGE</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.29.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>电池电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="battery_capacity">
      <type>pctofcapacity</type>
      <units />
      <sensorId>_BATTERY_CAPACITY</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.74.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>电池容量</label>
      <sensorSet>百分</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_1_input_frequency">
      <type>frequency</type>
      <units />
      <sensorId>_PHASE_1_INPUT_FREQUENCY</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.34.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>相1输入频率</label>
      <sensorSet>频率</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_1_input_voltage">
      <type>voltageAC</type>
      <units />
      <sensorId>_PHASE_1_INPUT_VOLTAGE</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.35.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>相1输入电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_2_input_frequency">
      <type>frequency</type>
      <units />
      <sensorId>_PHASE_2_INPUT_FREQUENCY</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.38.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>相2输入频率</label>
      <sensorSet>频率</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_2_input_voltage">
      <type>voltageAC</type>
      <units />
      <sensorId>_PHASE_2_INPUT_VOLTAGE</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.39.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>相2输入电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_3_input_frequency">
      <type>frequency</type>
      <units />
      <sensorId>_PHASE_3_INPUT_FREQUENCY</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.42.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>相3输入频率</label>
      <sensorSet>频率</sensorSet>
    </numSensor>
    <numSensor ruleid="phase_3_input_voltage">
      <type>voltageAC</type>
      <units />
      <sensorId>_PHASE_3_INPUT_VOLTAGE</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.43.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>相3输入电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="output_frequency">
      <type>frequency</type>
      <units />
      <sensorId>_OUTPUT_FREQUENCY</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.47.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>输出频率</label>
      <sensorSet>频率</sensorSet>
    </numSensor>
    <numSensor ruleid="the_output_voltage">
      <type>voltageAC</type>
      <units />
      <sensorId>_THE_OUTPUT_VOLTAGE</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.49.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>输出电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="output_current">
      <type>amperage</type>
      <units />
      <sensorId>_OUTPUT_CURRENT</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.50.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>输出电流</label>
      <sensorSet>当前</sensorSet>
    </numSensor>
    <numSensor ruleid="output_power">
      <type>powerW</type>
      <units />
      <sensorId>_OUTPUT_POWER</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.51.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>输出功率</label>
      <sensorSet>功率</sensorSet>
    </numSensor>
    <numSensor ruleid="output_load">
      <type>pctofcapacity</type>
      <units />
      <sensorId>_OUTPUT_LOAD</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.52.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>输出负载</label>
      <sensorSet>百分</sensorSet>
    </numSensor>
    <numSensor ruleid="bypass_frequency">
      <type>frequency</type>
      <units />
      <sensorId>_BYPASS_FREQUENCY</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.61.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>旁路频率</label>
      <sensorSet>频率</sensorSet>
    </numSensor>
    <numSensor ruleid="bypass_voltage">
      <type>voltageAC</type>
      <units />
      <sensorId>_BYPASS_VOLTAGE</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.63.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>旁路电压</label>
      <sensorSet>电压</sensorSet>
    </numSensor>
    <numSensor ruleid="output_total_power">
      <type>powerW</type>
      <units />
      <sensorId>_OUTPUT_TOTAL_POWER</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.73.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>输出总功率</label>
      <sensorSet>功率</sensorSet>
    </numSensor>
    <numSensor ruleid="internal_temperature">
      <type>temp</type>
      <units />
      <sensorId>_INTERNAL_TEMPERATURE</sensorId>
      <value>
        <mult>
          <op>
            <getOid>1.3.6.1.4.1.2350.1.1.1.75.0</getOid>
          </op>
          <op>0.01</op>
        </mult>
      </value>
      <label>机内温度</label>
      <sensorSet>温度</sensorSet>
    </numSensor>
    <stateSensor ruleid="the_output_is_turned_off">
      <type>state</type>
      <sensorId>_THE_OUTPUT_IS_TURNED_OFF</sensorId>
      <value>
        <mapValue mapid="offon_vm">
          <getOid>1.3.6.1.4.1.2350.1.1.2.22.0</getOid>
        </mapValue>
      </value>
      <label>输出关闭</label>
      <enum>offon_em</enum>
      <sensorSet>一般</sensorSet>
    </stateSensor>
    <stateSensor ruleid="ups_shutdown">
      <type>state</type>
      <sensorId>_UPS_SHUTDOWN</sensorId>
      <value>
        <mapValue mapid="offon_vm">
          <getOid>1.3.6.1.4.1.2350.1.1.2.23.0</getOid>
        </mapValue>
      </value>
      <label>UPS关机</label>
      <enum>offon_em</enum>
      <sensorSet>一般</sensorSet>
    </stateSensor>
    <stateSensor ruleid="ups_communication">
      <type>state</type>
      <sensorId>_UPS_COMMUNICATION</sensorId>
      <value>
        <mapValue mapid="offon_vm">
          <getOid>1.3.6.1.4.1.2350.1.1.2.32.0</getOid>
        </mapValue>
      </value>
      <label>UPS通讯</label>
      <enum>offon_em</enum>
      <sensorSet>一般</sensorSet>
    </stateSensor>
    <stringSensor ruleid="ups_manufacturers">
      <type>string</type>
      <units />
      <sensorId>_UPS_MANUFACTURERS</sensorId>
      <value>
        <op>
          <getOid>1.3.6.1.4.1.2350.1.1.4.1.0</getOid>
        </op>
      </value>
      <label>UPS厂商</label>
      <sensorSet>一般</sensorSet>
    </stringSensor>
    <stringSensor ruleid="ups_models">
      <type>string</type>
      <units />
      <sensorId>_UPS_MODELS</sensorId>
      <value>
        <op>
          <getOid>1.3.6.1.4.1.2350.1.1.4.2.0</getOid>
        </op>
      </value>
      <label>UPS型号</label>
      <sensorSet>一般</sensorSet>
    </stringSensor>

    <alarmFlags ruleid="high_temperature_alarm">
      <value>
        <getOid>1.3.6.1.4.1.2350.1.1.2.17.0</getOid>
      </value>
      <alarmFlagsTest mask="1" match="1">
        <name>
          <activeText>高温报警 Alarm Present</activeText>
          <inactiveText>高温报警 Alarm Cleared</inactiveText>
        </name>
        <severity>warning</severity>
        <category>system</category>
        <description>
          <activeText>高温报警 Alarm Present</activeText>
          <inactiveText>高温报警 Alarm Cleared</inactiveText>
        </description>
      </alarmFlagsTest>
    </alarmFlags>
    <alarmFlags ruleid="input_fault">
      <value>
        <getOid>1.3.6.1.4.1.2350.1.1.2.18.0</getOid>
      </value>
      <alarmFlagsTest mask="1" match="1">
        <name>
          <activeText>输入故障 Alarm Present</activeText>
          <inactiveText>输入故障 Alarm Cleared</inactiveText>
        </name>
        <severity>warning</severity>
        <category>system</category>
        <description>
          <activeText>输入故障 Alarm Present</activeText>
          <inactiveText>输入故障 Alarm Cleared</inactiveText>
        </description>
      </alarmFlagsTest>
    </alarmFlags>
    <alarmFlags ruleid="output_fault">
      <value>
        <getOid>1.3.6.1.4.1.2350.1.1.2.19.0</getOid>
      </value>
      <alarmFlagsTest mask="1" match="1">
        <name>
          <activeText>输出故障 Alarm Present</activeText>
          <inactiveText>输出故障 Alarm Cleared</inactiveText>
        </name>
        <severity>warning</severity>
        <category>system</category>
        <description>
          <activeText>输出故障 Alarm Present</activeText>
          <inactiveText>输出故障 Alarm Cleared</inactiveText>
        </description>
      </alarmFlagsTest>
    </alarmFlags>
    <alarmFlags ruleid="bypass_fault">
      <value>
        <getOid>1.3.6.1.4.1.2350.1.1.2.21.0</getOid>
      </value>
      <alarmFlagsTest mask="1" match="1">
        <name>
          <activeText>旁路故障 Alarm Present</activeText>
          <inactiveText>旁路故障 Alarm Cleared</inactiveText>
        </name>
        <severity>warning</severity>
        <category>system</category>
        <description>
          <activeText>旁路故障 Alarm Present</activeText>
          <inactiveText>旁路故障 Alarm Cleared</inactiveText>
        </description>
      </alarmFlagsTest>
    </alarmFlags>
    <alarmFlags ruleid="battery_failure">
      <value>
        <getOid>1.3.6.1.4.1.2350.1.1.2.33.0</getOid>
      </value>
      <alarmFlagsTest mask="1" match="1">
        <name>
          <activeText>电池故障 Alarm Present</activeText>
          <inactiveText>电池故障 Alarm Cleared</inactiveText>
        </name>
        <severity>warning</severity>
        <category>system</category>
        <description>
          <activeText>电池故障 Alarm Present</activeText>
          <inactiveText>电池故障 Alarm Cleared</inactiveText>
        </description>
      </alarmFlagsTest>
    </alarmFlags>
    <alarmFlags ruleid="the_battery_voltage_is_low">
      <value>
        <getOid>1.3.6.1.4.1.2350.1.1.2.34.0</getOid>
      </value>
      <alarmFlagsTest mask="1" match="1">
        <name>
          <activeText>电池电压低 Alarm Present</activeText>
          <inactiveText>电池电压低 Alarm Cleared</inactiveText>
        </name>
        <severity>warning</severity>
        <category>system</category>
        <description>
          <activeText>电池电压低 Alarm Present</activeText>
          <inactiveText>电池电压低 Alarm Cleared</inactiveText>
        </description>
      </alarmFlagsTest>
    </alarmFlags>

<valueMap ruleid="offon_vm">
<valueIn>0</valueIn>
			<valueOut>0</valueOut>
<valueIn>1</valueIn>
			<valueOut>1</valueOut>
<valueIn>*</valueIn>
		<valueOut>0</valueOut>
</valueMap>

<enumMap ruleid="offon_em">
<label>Off</label>
<label>On</label>
</enumMap>

  </device>
</APC_DDF>
